text
install cd xii chapter welcome simple tutorial see tutorial introduction basic guidance main features see getting started detailed documentation refer one following schematic editor gui environment simetrix simulator analysis modes simplis simulator analysis modes installing models finding placing parts waveform viewer
simetrix chapter introduction
simetrixsimplis documentation
html documentation simetrix simplis documentation available html form may viewed web browser accessed menus help simetrix documentation help simplis documentation select whether access documentation online via internet locally stored system documentation online benet always latest version drawback requiring fast internet connection local documentation benet always available even internet connection may become date choose documentation source select menu help select help source opt local help selected previously help les rst need installed operation performed automatically take minutes
pdf documentation much documentation also available form pdf manuals pdf manuals may accessed locally menus help pdf manuals downloaded described manual name web link description users manual general operation simetrix simplis simulator reference manual detailed reference simetrix simulator simplis reference manual detailed reference simplis simulator script reference manual simetrix script language reference manual veriloga reference manual veriloga language reference manual
simetrix simetrix mixedsignal circuit simulator designed ease speed use
simplis core algorithms employed simetrix analog simulator based spice program developed cadic group department electrical engineering computer sciences university california berkeley digital event driven simulator derived xspice developed computer science information technology laboratory georgia tech research institute georgia institute technology although originally derived programs tiny fraction overall application code traced nearly simulator code either new rewritten order provide new analysis features resolve convergence problems features closely coupled direct matrix analog event driven digital simulator fully integrated hierarchical schematic editor simulator graphical postprocessor superior convergence dc transient analyses advanced swept analyses ac dc noise transfer function different modes available real time noise analysis allowing noise simulation oscillators sampled data systems support ic design models bsim vbic hicum cross probing voltage current device power schematic current power available subcircuits monte carlo analysis including comprehensive tolerance specication features full featured scripting language allowing customised waveform analysis automated simulation veriloga analog hardware description language mixed signal simulation using veriloghdl functional modelling arbitrary nonlinear source arbitrary linear sdomain transfer function arbitrary logic block denition digital device using descriptive language supports synchronous asynchronous combinational logic well roms rams models saturable magnetic parts including support airgaps user denable xed popup menus key denitions
simplis simplis circuit simulator designed rapid modelling switching power systems acronym simulation piecewise linear system supplied simetrixsimplis product range simplis component level simulator like spice typically times faster simulating switching circuits achieves speed modelling devices using series straightline segments rather solving nonlinear equations spice modelling devices way simplis characterise complete system cyclical sequence linear circuit topologies accurate representation typical switching power system semiconductor devices function switches however linear system solved much rapidly nonlinear systems spice handles end result accurate extremely fast simulations allowing modelling complex topologies would viable spice simplis three analysis modes transient periodic operating point ac transient analysis similar spice equivalent typically times faster periodic operating point unique analysis mode nds steadystate operating waveforms switching systems ac analysis nds frequency response switching system without needing use averaged models especially
simulate useful whatif studies new circuit topologies control schemes smallsignal averaged model yet derived nonlinear devices dened using sequence straight line segments models devices quite different spice models course many spice models available order retain compatibility simetrixsimplis ability convert models types device simplis format conversion performed device placed schematic devices currently supported mosfets bjts diodes case mosfets zener diodes conversion achieved performing sequence simulations using simetrixspice simulator method independent method implementation device
simulate integrated circuit designers using analog simulation software nearly decades difculty breadboarding high production engineering costs made use software essential board level designers case clear cut prototyping straightforward inexpensive generally provides accurate assessment nal production version circuit behave contrast computer simulation seen slow prone inaccuracies stemming imperfect models recent years however simulation discrete analog circuits become viable come advances cpu power increased availability device models manufacturers introduction easy use affordable simulation tools simetrix pressure reduce product development timescales meant many projects traditional breadboarding phase skipped altogether without simulation circuit development carried rst revisions pcb use simulation circuit parts circuit help eliminate errors circuit design prior stage reduce number pcb revisions required nal production version reached course useful simulation process must therefore time consuming computer simulation however many uses things simulator achieved practical approaches remove parasitic elements make noninvasive measurements impossible reallife run components outside safe operating area abilities make simulation valuable tool nding particular design behave expected problem reproduced simulator cause much easily identied even problem reproduced gives clues means caused something modelled wiring parasitic perhaps simulation extremely useful testing ideas system level sometimes easy test concept hardware implement costly time consuming build may even dont know implement idea hardware alternative design model simulate computer established concept viable attention given implementation proves viable great deal time saved
system requirements
operating system windows home pro including variants enterprise windows home pro enterprise bit editions
acknowledgements
hardware simetrix run satisfactorily system meets following requirements system running one supported operating systems listed system meets minimum hardware requirement operating system systems display minimum vertical resolution pixels minimum horizontal resolution pixels
recommended system regularly run large circuit simulations long runs smaller circuits recommend investing powerful cpu available large ram system useful allow caching simulation data speed plotting results large amount data generated data stored disk efcient manner therefore substantial ram essential unless circuits simulated large indeed high performance bus mastering scsi disk system improve simulation performance little
multicore processors simetrix exploit multiple core cpus number ways benet multiple core processors note however require simetrix pro simetrix elite license able use multiple core features note also simetrix effectively use hyperthreading information see following sections simulation multicore processors using multiple cores multistep analyses multicore multistep simplis analyses
acknowledgements acknowledge following code sources copyright owners spice bsim bsim regents university california berkeley xspice computer science information technology laboratory georgia tech research institute georgia institute technology klu matrix solver university florida research foundation inc hisim hv model hiroshima university semiconductor technology academic research center starc simkit models nxp semiconductors chapter quick start
introduction chapter covers number tutorials help get started simetrix tutorial designed total novices may wish skip tutorial already experience spice type programs tutorial assumes grasped basics using schematic editor dont worry setting analyses characteristics input stimulus v tutorial procedures explained experienced circuit designer never used circuit simulator recommend read simulation novice familiarise concepts simulation may alien used traditional methods evaluating circuits
examples tutorials windows example les distributed packages installed cprogramdatasimetrix technologiessimetrixupdaterinstalled intended used location instead copied documents folder simetrix starts rst time accept option cant nd examples les select menu file options rebuild examples install documents folder following tutorial discussions examples directory referred examples
simulation novice measuring real circuit would probably connect power source bench power supply perhaps maybe also signal source switch take measurements using probably oscilloscope also make adjustments circuit see effects straight away simulation choice analysis modes exact real life equivalent analysis mode closely resembles method bench testing circuit described transient analysis performs analysis specied time period saves results ie voltages currents circuit hard disk difference real life testing simulation simulation running time want see effects changing part value change rerun simulation note potentiometer device automates procedure see potentiometer
tutorial simple ready run circuit order solve circuit simulator calculate voltage every node every time point disk space cheap plentiful simetrix saves values well device currents simulators require state advance want saved run complete randomly probe circuit look voltage current device power analysis time period also place xed probes circuit running analysis cause waveform point circuit automatically displayed simulation running optionally completion analysis modes ac analysis performs frequency sweep dc sweep ramps voltage current source noise analysis calculates total noise specied point parts responsible noise
tutorial simple ready run circuit tutorial demonstrates basic simulation ready run circuit need load circuit press f run make changes circuit make extra plots tutorial demonstrates basic features without get details setting simulation proceed follows select menu file open already select schematic files le type drop box select schematic le tutorial nd folder examplessimetrixtutorial see examples tutorials click open open le schematic window open following circuit simple feedback amplier designed amplify mv pulse around mv
tutorial simple ready run circuit basic requirement design pulse shape preserved dc precision important critical rst attempt design yet optimised example circuit setup ready run start simulation select schematic window simulator run schematic press f simulation take long modern machine less half second see graph output voltage appear seen amplier doesnt work well two problems substantial ringing rising edge probably caused capacitative load falling edge somewhat sluggish sluggish falling edge caused absence standing current output emitter follower q rectify place resistor emitter v rail resulting schematic shown
tutorial simple ready run circuit make modication proceed follows press resistor button parts toolbar alternatively select menu place passives resistor box shape prefer place passives resistor z shape resistor symbol appear place location shown diagram click left mouse button x schematic may see another resistor symbol appear depending system options set cancel clicking right mouse button wire resistor number ways three button mouse wheel mouse one way use middle button wheel pressing start wire pressing x start new one pressing right button terminate enabled also use smartwiring method take mouse pointer pin resistor see pen symbol appear mouse gets close pin left click move mouse cursor destination left click method automatically locate route wire one exists also enter wiring mode selecting toolbar wire button puts schematic permanent wiring mode left key always used wiring revert normal mode pressing wire button run simulation pressing f graph updated
tutorial simple ready run circuit see problem trailing edge xed ringing much improved lets look ringing detail need zoom graph adjusting limits axes two ways quickest simply drag mouse region interest method manually enter limits using edit axis dialog box zoom mouse proceed follows make sure graph window selected clicking title bar place cursor top left region interest ie left yaxis top red curve press left mouse key holding drag mouse bottom right area wish zoom see rectangle appear drag mouse release mouse key see something like
tutorial simple ready run circuit dont get quite right press undo zoom button return previous view also use left right arrow keys shift position curves probably improve ringing adding small phase lead feed back loop done connecting small capacitor emitter q base q isnt room add tidily present rst move parts make space proceed follows schematic window drag mouse left key pressed region shown dotted lines
tutorial simple ready run circuit drag mouse rectangle appear release mouse area enclosed turn blue
tutorial simple ready run circuit blue wires parts said selected move place cursor within one selected parts v say press hold left mouse key move mouse right two grid squares release left key unselect left clicking empty area schematic
tutorial simple ready run circuit wire capacitor c shown using similar procedure resistor r
tutorial simple ready run circuit nf obviously far high value try
pf change parts value proceed follows double click c see following dialog box appear
tutorial simple ready run circuit type new value directly result box select value using mouse alone arrow buttons leave initial conditions setting default open circuit rerun simulation result see solid curve latest result big improvement rst attempt notice new curve displayed time run new simulation default behaviour changed example old curves deleted leaving latest view double click probe object labelled amplier output set history close box information see probe options sheet change number curves shown time using popup menu history showhide round tutorial introducing ac analysis ac analysis performs frequency sweep specied frequency range set one follow instructions schematic window select menu simulator choose analysis see
tutorial simple smps circuit click ac check box uncheck transient check box details ac sweep already set click ac tab top see run simulation open new graph sheet
tutorial simple smps circuit tutorial simulate simple smps switching stage demonstrate advanced plotting waveform analysis facilities available simetrix
tutorial simple smps circuit either load circuit examplessimetrixtutorialstutorial see examples tutorials alternatively enter scratch latter approach useful exercise using schematic editor follow instructions place parts wires shown probe labelled output selected following locations part selector already showing select menu view show part selector navigate probes voltage probe menu place probe voltage probe menu probe place fixed voltage probe pressing b schematic editor placing output probe double click edit label enter output box titled curve label options may left defaults pulse source v use place voltage sources universal source universal source tool bar button double click v edit settings shown
tutorial simple smps circuit sets khz v pulse source duty cycle ns rise time set simulation selecting schematic menu simulator choose analysis dialog box check transient usually would set stop time occasion default ms actually want select advanced options button integration method box select gear integration improves simulation results type circuit still get sensible results without checking option little better information see simulator reference manualconvergence accuracy performance graph windows open close loaded entered circuit press f use schematic simulator run schematic menu start simulation take somewhat longer previous tutorial still less second modern machine graph see
tutorial simple smps circuit circuit switching stage simple stepdown buck regulator designed provide
v supply v battery circuit stripped everything except bare essentials order investigate power dissipation current ow currently little simplied inductor ideal later make measurements first power dissipation q create empty graph sheet pressing f select schematic menu probe power device left click q see
tutorial simple smps circuit shows peak power dissipation w although probably interested average power dissipation specied time display average power dissipation analysis period select menu measure mean display value mw shown measurement window right graph plot area average power whole analysis period ms also make measurement period select using cursors described zoom graph point around us ie power dissipation peak switch graph cursors menu cursors toggle onoff two cursors represented crosshairs one uses long dash referred reference cursor shorter dash referred main measurement cursor rst switched reference cursor positioned left graph main right position cursors span complete switching cycle various ways moving cursors start simplest drag vertical hairline left right bring mouse cursor close vertical line notice cursor shape change see graph cursors ways moving cursors press f select analysis menu measure functions
tutorial simple smps circuit right hand pane labelled choose measurement select mean preprocess group select cursor span click ok close dialog box see value
w displayed somewhat mw average still well within safe operating area device however noted earlier inductor ideal saturate lets look inductor current select schematic menu probe current device pin new graph sheet left click left pin inductor l see
tutorial simple smps circuit shows operating current less
peaks practice would want use inductor maximum current around application inductor rating would costeffective replace ideal part something closer real inductor delete l select schematic menu place magnetics saturable transformerinductor dialog box displayed see picture select secondaries enter number turns primary next check select core type select efdfa part number ferroxcube ferrite core
tutorial simple smps circuit click ok close dialog box place inductor place run new simulation select graph sheet displayed inductor current clicking tab top graph window select schematic menu probe current device pin left click left hand inductor pin notice peak current excess course inductor saturating also measure peak power cycle select graph sheet power plot select probe power device zoom back see full graph using zoom button zoom peak power position cursors span full cycle cursors currently tracking rst power curve doesnt actually matter interested xaxis values want make cursors track green curve simply pick cursor intersection mouse drag curve two curves graph must select one wish make measurement simply click curve select check box shown
tutorial installing third party models press f select mean cursor span preprocess option new peak power cycle w region much
tutorial installing third party models tutorial install device model library exercise supplied model library le tutorialmod two devices sxn npn bipolar transistor sxoa opamp totally ctitious nd le tutorial folder ie examplessimetrixtutorialstutorialmod two aspects installing model simetrix needs know within le system model located model listed model library browser system simetrix also needs know symbol use schematic category comes open windows explorer click computer open le manager choice locate tutorialmod examplessimetrixtutorials see examples tutorials pick le drop simetrix command shell message window drop window simetrix messages displayed command shell visible select menu view show command shell dropping le dialog box appear select install ok message model library changed rebuilding catalogs please wait displayed followed complete
tutorial installing third party models stage simetrix knows nd ctitious devices nd also knows npn transistor following demonstrates open empty schematic press ctrlg select menu place model library see window displayed caption select device select recently added models category top list shown left hand side select sxn listed items right hand side see press place place device schematic without tell simetrix already knew sxn npn transistor primitive device dened using model control devices built simulator simetrix determine part type simply reading model control tutorialmod case device model library opamp dened subcircuit module made parts case bjts diodes resistors current sources simetrix cant tell type device knows terminals knows
tutorial installing third party models electrical model located le system doesnt know schematic symbol use model simetrix ask information try place follow procedure repeat steps instead select sxoa device instead sxn notice select device right hand side see message simetrix know symbol use model press place resolve pressing place button see following box first specify suitable category device case operational amplier select opamps drop box labelled choose category sxoa next dene symbol part dene symbol sxoa select operational amplier terminal quite nished yet new opamp wrong pin schematic symbol pin order symbol shown third box right follows pin name function inp noninverting input inn inverting input vsp positive supply vsn negative supply
tutorial installing third party models pin name function output text bottom dialog box shows actual subcircuit denition fortunately annotated function subcircuits terminals fact usually case thirdparty models see output terminal wrong place change pin order using pin order buttons select pin order box click twice button positioned inn vsp press ok nd opamp listed opamps category model library browser
notes always need execute procedure associate models symbols even subcircuit devices simetrix supplied data base devices already associated devices spice models known available third party source database le allcat nd supportdevdb directory information enter
tutorial installing third party models associate models dialog stored le called uservcat nd devdbuser application data directory see application data directory also need perform procedure many terminal semiconductor parts even listed allcat database simetrix runs series simulations models attempts determine device type results successful association step demonstrated skipped finally method embedding association information within model models require manual association embedding method described embedded association chapter getting started chapter describes basic operation simetrix aimed primarily novice users basic steps simulate circuit follows enter circuit using schematic editor see using schematic editor add signal sources relevant circuit see circuit stimulus specify analysis includes type analysis limits run see analysis modes run simulator see running simulator graph results see plotting simulation results following paragraphs briey describe steps details given sections
simulation modes simetrix simplis simetrixsimplis set schematic editor one two modes select whether using simetrix native spice simulator simplis simulator create new schematic simplis mode use menu file new simplis schematic create new schematic simetrix mode use file new simetrix schematic switch simplis mode simetrix mode use menu simulator switch simetrix mode switch simetrix mode simplis mode use menu simulator switch simplis mode schematic empty change modes program check parts entered sheet compatible newly selected simulation mode parts work modes believed compatible highlighted warning issued clear highlighting select edit unhighlight open sheets likely need replace parts cases may simply need reenter part wish enter circuit work modes enter simplis mode use parts menu place simplis primitives place digital except place digital simetrix compatible logic gates following advice guarantee circuit dual mode simulation ability minimise chance placing device compatible one simulators use simplis predominantly may wish select simplis default simulator new schematics select menu file options general select simplis initial simulator setting
using schematic editor
using schematic editor
creating schematic schematic editor designed intuitive use may need read much describe less obvious proceduresif simetrixsimplis make sure correct mode entering schematic see section following notes references made schematic tool bar diagram shows standard toolbar function button place part simple device needs value resistor capacitor select appropriate symbol tool bar place menu devices require part number easiest use model library browser select menu place model library select desired device change value device type part first select double click select schematic popup edit part press f dialog box appropriate type part displayed devices requiring model name list available types appear rotate mirror flip part use rotate toolbar button see diagram key f rotate part operation performed part placed block moved copied see also select part block press rotate buttonkey rotate insitu mirror part block yaxis press mirror toolbar button f key ip part block mirror xaxis press flip button press shiftf
using schematic editor wiring number ways placing wire method place mouse cursor close unselected symbol pin wire end notice cursor shape change depict pen symbol left click mark start point left click mark nal point simetrix automatically route wire also mark intermediate points would prefer dene precise route rather accept autorouted connection method three button mouse scroll wheel mouse start wire clicking middle buttonscroll wheel clicking middle button scroll wheel second time complete wire start new one click right button press escape terminate wiring method start wire pressing f double clicking left button single clicking left button complete wire start new one click right button press escape terminate wiring method press wiring tool button toolbar start wire single clicking left button otherwise continue described press wire button cancel mode disconnecting wires cases selecting wire deleting delete key button easiest way cases especially wire short difcult select instance hold shift key select area enclosing wire press delete button move items disconnected select items schematic menu edit detach detach toolbar button move items desired location press left mouse key rotateipmirror items see copy across schematics select block wish copy choose menu edit copy second schematic choose edit paste multiple selection individual items lie within single rectangle selected holding control key using mouse select desired items usual way selecting wires hold shift key performing select operation holding alt key selecting limit part selection devices wholly enclosed selection box zoom area press zoom box button schematic drag mouse zoom selected area
circuit rules zoom full fit area press home key whole schematic current window size
circuit rules following design rules must observed simulation run correctly note circuits obey anyway impose serious limitations capability simulator must always least one ground symbol every circuit every node circuit must dc path ground example two capacitors series form node dc path ground oating node provide dc path ground connecting high value resistor eg g ground capacitors without initial conditions dc path set initial condition capacitor dc path formed method alternative using resistor provide dc path also note inductors initial condition dc path treated constant current calculation dc bias point using high value resistor make dc path transformer winding recommend also place low value capacitor parallel always necessary help avoid problems transient analysis convergence best choose realistic value would represent capacitance would really realworld circuit must zero resistance loops constructed voltage sources inductors without initial conditions capacitors initial conditions loops insert low value resistor choose value represents resistance would real world eg actual winding resistance inductor never use unrealistically small value small resistances eg femptoohm cause convergence problems loops containing inductors break loop adding initial condition inductor instead adding resistor failure observe usually leads singular matrix error
analysis modes
overview section explain setup commonly used analysis modes simetrix simplis simetrixsimplis product comprehensive details analysis modes see analysis modes simetrix simplis analysis modes simplis
setting simetrix simulaton analysis mode setup selecting menu simulator choose analysis simetrix mode displays following dialog box
analysis modes set analysis rst check box right according analysis wish perform select one usually easier one time following describes commonly used modes set one transient useful general mode first bias point found circuit simulated xed time interval steps varying size according circuit activity circuit may contain number time varying voltage current sources stimuli see circuit stimulus simulate external signals test generators etc usually need specify stop time specied top dialog box information remaining options see transient analysis dc device sweep dc device sweep sweep specied device dened range compute dc operating point circuit point allows example dc transfer function circuit plotted note reactive elements ignored dc sweep set dc sweep select dc sweep check box right dc tab top need enter values sweep parameters section
analysis modes analysis sweep device specify device name box range specied start value stop value number points points per decade select decade sweep entry device name box part reference device swept dc sweep would usually voltage source current source resistor device sweep modes available dc sweep dene button allows specify one others see dc sweep details ac frequency sweep ac frequency sweep calculates small signal response circuit number user dened inputs specied frequency range small signal response computed treating circuit linear dc operating point must least one input source ac analysis results meaningful connect voltage current source circuit select press f dialog box select enable ac check box circuit ac input voltage source look something like set ac frequency sweep select ac check box right ac tab top need enter values sweep parameters section
analysis modes analysis sweep frequency range specied start frequency stop frequency number points points per decade select decade sweep frequency sweep modes available ac sweep dene button allows specify one others see ac sweep details noise frequency sweep like ac analysis noise analysis small signal mode user dened frequency range circuit treated linear dc operating point contribution noisy devices designated output computed total noise output also calculated optionally noise referred back input source may also computed set noise frequency sweep select noise check box right noise tab top need enter values sweep parameters section analysis sweep frequency range specied start frequency stop frequency number points points per decade select decade sweep also need enter additional parameters
analysis modes entry output node box compulsory name circuit node appears netlist usually schematics netlist generator chooses node names recommend running noise analysis assign user dened name designated output node using terminal symbol place connectors terminal nd see finding specifying net names entry ref node box optional node output node referenced omitted assumed ground entry source name box optional specied noise referred back calculated enter part reference voltage current source used input circuit frequency sweep modes available noise analysis dene button allows specify one others see noise analysis details dc operating point specify dc operating point analysis check dcop box right choose analysis dialog note dc operating point calculated automatically analysis modes described although noise analysis results stored dc operating point completed annotate schematic markers display voltages node press ctrlm schematic place single marker select popup menu place bias annotation auto place markers automatically place markers nodes see viewing dc operating point results full details analysis modes realtime noise extension transient analysis enables noise generators noisy devices using equations used small signal noise analysis see real time noise transfer function similar ac instead calculating response usually single input calculates response signal sources single output see transfer function sensitivity calculates sensitivity specied output device model parameters see sensitivity multistep analyses transient ac dc noise transfer function analyses run autorepeat mode stepping userdened parameter see multistep analyses monte carlo analysis see monte carlo analysis
analysis modes
setting simplis simulation simplis analyses setup using menu simetrix must rst set schematic simplis mode see simulation modes simetrix simplis details select menu simulator choose analysis see following dialog box simplis three analysis modes namely transient periodic operating point pop ac transient similar simetrix transient analysis pop unique analysis mode nds steady state switching circuit ac nds small signal response periodic system transient analysis setup basic transient analysis click transient tab
analysis modes check transient box select analysis section enter appropriate stop time analysis parameters enter appropriate selection save options usually best select instruct simplis save data subsequent plotting cases need information remaining transient analysis settings see transient analysis periodic operating point analysis pop setup pop analysis select periodic operating point sheet
analysis modes check pop box select analysis check use pop trigger schematic sevice box need place pop trigger device schematic see maximum period box enter value larger largest possible value circuits switching period must place schematic pop trigger device select menu place analog functions pop trigger placing device connect input switching frequency signal need connect output device select trigger device press f enter suitable values ref voltage hysteresis always reliably trigger switching waveform dont use output need change parameters
analysis modes ac analysis setup ac analysis select ac sheet check ac box select analysis enter parameters sweep parameters section meaning equivalent simetrix analysis
manual entry simulator commands analysis mode selected using simulator choose analysis stored text form schematics simulator command window also known f window wish possible edit directly users familiar simulators syntax may prefer approach note text entered simulator command window choose analysis dialog box settings remain synchronised freely switch two methods open simulator command window select schematic press f key toggle action pressing hide already selected analysis mode using choose analysis dialog box see simulator controls already present window popup menu selected right key last item edit le cursor open text editor window le name pointed cursor selected text item one simulator command window resized using splitter bar schematic drawing area simetrixsimplis use simulator control mark simetrix simplis entries simulator simetrix encountered following lines work simetrix mode
running simulator ignored simplis conversely lines following simulator simplis accepted simplis ignored simetrix lines occurrence simulator simulator default accepted simulators
running simulator
simetrix run simulator using number methods select simulator run schematic menu item press f click run button simulator choose analysis dialog box click play button dialog box show status simulation pause simulation selecting pause button simulator status dialog box restart select resume button pause button changes name simulation pauses simulator resume menu item obligation resume simulation paused start new run paused previous one asked whether wish abandon pending simulation run notes need specify advance simulation voltages currents andor powers wish look default everything except signals internal device models stored disk le decide run complete wish look recommended schematics saved run commenced especially run expected take long time
simplis schematic simplis mode procedure described start simplis simulator window showing progress simplis simulation displayed simplis aborted pressing abort button progress window simplis however paused resumed
plotting simulation results
overview simetrix provides two methods creating plots simulated results rst approach x voltage current probes schematic run simetrix generate graphs selected voltages andor currents automatically probes wide range
plotting simulation results options allow specify example graphs organised often updated second approach randomly probe circuit run complete also run pausing rst approach graph created point probe updated new run need make decisions wish probe circuit starting run enter circuit without xed probes run randomly probe afterwards alternatively place say single xed probe obvious point interest randomly probe investigate detailed behaviour circuit fixed schematic probes limited single ended voltages currents differential voltages random probing method allows plot anything like including device power ffts arbitrary expressions simulation results xy plots nyquist diagrams possible set xed probes plot arbitrary expressions signals requires manually entering underlying simulator command graph control direct schematic support details graph control see command reference chapter simulator reference manual
fixed probes several types xed probe three commonly used probes voltage plots voltage net current plots current device pin differential voltage plots voltage difference two points simply schematic symbols special properties place xed probe schematic voltage current point place probe plotted time run simulation probes wide range options set double clicking options covered detail section fixed probes xed probes available addition described see fixed probes details fixed voltage probes place schematic single hot key b one menus probe place fixed voltage probe place probe voltage probe schematic popup probe voltage hint place probe immediately existing schematic wire simetrix try deduce meaningful name related connected place probe empty location name default eg probenode wont meaningful probably wish subsequently edit fixed current probes place schematic single hot key u one menus probe place fixed current probe place probe current probe schematic popup probe current
plotting simulation results current probes must placed directly part pin function warning message displayed fixed differential voltage probes placed using one menus probe place fixed diff voltage probe place probe differential voltage probe
random probes entries schematics probe menu random probing probe voltage current differential voltage device power db phase nyquist diagrams much also plot arbitrary expressions circuit signal plot signals earlier simulation runs possibilities get started explained full reference see random probes random voltage probing select schematic menu item probe voltage using mouse place cursor point circuit wish plot press left mouse button graph voltage point created new curve added existing graph xaxis units otherwise new graph sheet created random voltage probing new graph sheet select schematic menu item probe voltage new graph sheet using mouse place cursor point circuit wish plot press left mouse button graph voltage point created new graph sheet created unconditionally random current probing select schematic menu item probe current using mouse place cursor device pin whose current wish plot press left mouse button graph current point created new curve added existing graph xaxis units otherwise new graph sheet created random current probing new graph sheet select schematic menu item probe current device pin new graph sheet using mouse place cursor device pin whose current wish plot press left mouse button graph current point created new graph sheet created unconditionally
plotting simulation results probing db phase ac analysis ac analysis probably want plot signals db may also want plot phase signal select schematic menu item probe acnoise db voltage db probe acnoise phase voltage using mouse place cursor point circuit wish plot press left mouse button new curve added existing graph xaxis units otherwise new graph sheet created probing db phase ac analysis new graph sheet create empty graph sheet pressing f selecting menu probe new graph sheet proceed section differential voltage probing schematic menu probe voltage differential allows plot voltage difference two points select menu click schematic twice rst signal node second reference node advanced probing menu probe probe functions provides many probing functions selectable tree structured list advanced plotting achieved menu probe add curve opens dialog box allowing enter expression also provides range options wish graph plotted chapter simetrix gui environment
overview simetrix user interface provides environment multiple views managed within window range views example content related views schematic editor symbol editor waveform viewer along system related views command shell file viewer dragging views title bar views rearranged within window layout best suits needs discuss layout possibilities note conceptually two types views within simetrix rst system views provide tools operate program includes command shell file viewer second workspace views provide means developing reviewing designs includes schematic editor waveform viewer overview user interface terms layout system views sit outside workspace views visualisation regions used place system view shown workspace views available space
interaction system views present regions system view placed shown blue relation workspace view shown white view dragged guiding regions shown blue displayed highlight view dragged alternatively views moved new existing windows interaction section detail given arranging layouts within window
interaction move view move mouse title bar top view shown grey gure blank schematic cursor change open hand click title bar hold cursor change closed hand next move mouse causing view undock window begin dragged mouse move view possible places redock view highlighted blue also provide preview new window layout look shown second gure dragging view ontop another view type either system workspace cause views stack top
interaction blank schematic draggable title bar shown shaded grey top schematic labelled untitled along drag available cursor placement view whilst dragged drag ended point time blue region shows dragged view would placed
interaction default views split take half available space placed next resized moving cursor inbetween cursor shown visible dragging required size shown gure two schematics placed sidebyside two schematics placed side side resize cursor shown two views workspace views one view window selected application focus focus determines menus toolbars shown targeted operations placing component carried bold title text views title bar indicates view selected quickly determine type view currently application focus look buttons top right screen shown gure multiple views within window buttons show different workspace views open current window type view focus highlighted blue quickly swap different workspace views different types click button type view want see display focus application last view type used
directory viewer multiple views within window selected view type schematic editor shown highlighted button top right window views moved new windows either dragging outside existing window alternately undock dock drop menu option available pressing button views title bar similarly views type undocked another window using undock drop menu option view button top right window
directory viewer directory viewer system view enables navigation simetrix related les directories default simetrix folder documents directory appear view rst use simetrix shown gure view display folders within directory along les associated program double clicking le open program
interface styles file view top level directory simetrix initial default top level directory subdirectories application related les shown add new toplevel directory viewer click add directory navigate directory add view selected le viewer show subdirectories les associated simetrix simetrixsimplis remove toplevel directory right click directory press unload directory right click menu also allows open containing folder particular subfolder le create new folder refresh listings although cases listing refresh automatically
interface styles style user interface swapped two preset styles lighter darker style two styles shown two gures swap two styles use file options interface colour also cause schematic styles changed
interface styles light version user interface dark version user interface chapter schematic editor
fundamentals
schematic windows sheets schematic editor windows content views simetrix gui environment see simetrix gui environment creating schematics simetrixsimplis schematic operate one two modes namely simetrix mode simplis mode select mode creating new empty schematic follows create empty simetrix schematic select menu file new simetrix schematic create empty simplis schematic select menu file new simplis schematic simetrixonly product use menu file new schematic changing simulator mode simetrixsimplis change simulator mode select menu simulator switch xxx mode xxx either simetrix simplis
fundamentals
schematic editor window
editing operations following notes references made schematic tool bar diagram shows standard toolbar function button place part parts conveniently placed using parts selector located right hand side schematic window showing select menu view show part selector make visible part selector hierarchical categorised list containing nearly parts available nd part want click either right click see menu options click place link list symbol view
fundamentals nd looking select menu place search part open simetrix search tool also use search button commonly used parts selected parts toolbar symbol selected using mouse move image part desired location press left mouse button x part schematic depending preference settings menu file options general schematic tab may presented another copy symbol placement use left key place press right key cancel rotate mirror ip part placing schematic using appropriate toolbar button keys f f shiftf respectively place twoterminal part directly wire wire broken allow part connected inline selecting single part operations require items selected item part wire selected changes colour blue select single part left click selecting area select items within rectangular area schematic press left mouse key empty area sheet hold dragging mouse opposite corner rectangle rectangular box drawn move mouse note initial cursor position close wire junction part move operation carried instead selection change value device type part first select select schematic popup edit part press f alternatively double click device dialog box appropriate type part displayed devices requiring model name list available types appear rotate mirror flip part click rotate toolbar button press key f rotate part operation performed part placed block moved copied see also select part block click rotate button press f key rotate situ mirror part block yaxis click mirror toolbar button press f key ip part block mirror xaxis click flip toolbar button press shiftf wiring see wiring
fundamentals deleting wires select wire placing cursor clicking left button click cut toolbar button press delete key disconnecting wires press shift key select area enclosing wire wires deleted press delete button move single part place cursor within drag using left mouse key rotateipmirror part see move one item select items described place cursor within selected items drag items desired location rotateipmirror items see move items disconnected select items described click detach toolbar button move items desired location press left mouse key rotateipmirror items see move property text labels simetrix provides ability move property labels simply dragging mouse method disabled default enable use menu file options general schematic sheet select enable gui property edits property editing box although course convenient method moving property labels recommendation method kept switched philosophy better move symbol label clearly visible rather move label see notes property text position discussion also move parts value pressing ctrlf reference using ctrlf move property select device popup properties move duplicate items select items described click duplicate toolbar button move items desired location press left key x rotateipmirror items see copy across schematics select block wish copy choose menu edit copy second schematic choose edit paste delete select items described click cut toolbar button press delete key
fundamentals multiple selection individual items lie within single rectangle selected holding control key using mouse select desired items described selecting wires hold shift key performing select operation holding alt key selecting limit part selection devices wholly enclosed selection box unselecting place cursor empty area press left mouse key unselect items within rectangle unselect area schematic enclosed selection box use menu edit unselect rectangle change part reference select parts press f select schematic menu edit change reference enter new reference correct mistake click undo toolbar button default backtrack ten operations changed file options general want undo undo operation select menu edit redo menu item add text schematic select popup menu item edit add free text opens dialog box prompting text entered entering text closing box position text require using mouse change text already entered select text press f enter new text hide part value select popup menu item hideshow value
fundamentals disableenable schematic part schematic parts may disabled simulation purposes behave present schematic disable one parts rst select select right click menu disable selected disabled parts greyout show cross reenable select right click menu enable selected part may disabled including regular components probes terminals module ports ground symbols bus rippers aware use method disable inline current probe probe become open circuit shortcircuit schematic part schematic parts may shortcircuited appear wire connection purposes simulation operation similar disabling part effectively removed circuit addition one pairs pins connected shortcircuit one parts rst select select right click menu disable shortcircuit selected disabled parts grey show thick line connecting one pairs pins twoterminal parts pins connected unconditionally part two pins connected pair pairs determined value shortpins property property form nnnn n n etc pin numbers starting pinorder dened symbol editor example connects pin pin connects pin pin pin pin part shortpins property action taken error message displayed command shell note shortpins property read directly symbol denition present instance breaking wires place new two pin part onto schematic pins part land wire thus shorting part wire automatically broken inserting part series also occur copying moving duplicating existing parts long part already short circuited operation started action occur parts two pins shortpins property dened part shortpins described shortcircuit schematic part zoom area click zoom box toolbar button drag mouse zoom selected area zoom full fit area select popup view zoom fit press home key whole schematic current window size
fundamentals zoom click zoom toolbar button press f zoom one level may also zoom holding control key rolling mouse scroll wheel backwards zoom click zoom toolbar button shiftf zoom one level may also zoom holding control key rolling mouse scroll wheel forwards panning easiest way pan schematic mouse scroll wheel rotate wheel vertical pan horizontal pan hold shift key rotate wheel may also use scroll bars cursor keys page keys pan schematic left right cursor keys pan schematic one grid square relevant direction page page control left cursor control right cursor pan schematic grid squares notes property text position simetrix schematic editor designed using basic principle better move part make property text visible rather move property way parts value properties always consistent location relative symbol body confusion part belongs situation device label property text clashes another rst thought probably move label ask instead think moving part owns label nearly always better way situations label long might better hide altogether nd moving label way aware positions property text dened simetrix property positions dened one two ways namely auto absolute standard symbols properties dened auto means simetrix chooses location property specied edge symbol ensures doesnt clash properties edge auto properties always horizontal therefore easily readable position absolute properties xed relative symbol body regardless orientation symbol location properties symbol rotated degrees absolute text also rotate absolute properties intended situations precise location important title block visible property symbol moved method described visible properties symbol converted absolute locations way positions properties preserved means move single property part properties rotate symbol reason better move property text orientation symbol nalised
wiring overview simetrix offers manual smart wiring methods smart mode select start end points simetrix nd suitable route manual mode place wire segment individually
fundamentals exactly locations require dont need change global settings select mode desire procedures mode different freely switch one wiring operation next however applications wont need use manual wiring method smart wiring method still used enter wire segments one one simply selecting start end points obvious straight line route fundamental difference smart manual smart mode always route around obstacles existing wire terminations whole symbols manual mode wire always go exactly take even crosses existing connections passes existing symbols smart wiring procedure initiate smart wiring bringing mouse cursor close either unselected symbol pin unselected wire end notice cursor changes shape depict pen symbol click left button press release mark starting point wire connection move cursor destination point may anywhere schematic wire end symbol pin viable route start point destination point simetrix locate draw wire route smart wiring notes smart wiring algorithm use heuristic algorithm nds many routes possible chooses best one based number criteria criteria used selection include number corners number wires crossed number property labels crossed overall length attempts nd aesthetically pleasing route somewhat subjective may necessarily nd route may chosen manually however tests found usually nds best route situations corners required developing algorithm paid particular attention common scenarios found analog design routing output opamp back inverting input nd common scenarios work well smart wiring options two option control smart wiring algorithm firstly disable smart wiring algorithm altogether case smart wiring procedure place wires similar fashion manual wiring methods secondly option controls whether smart wiring algorithm allowed route wires existing wires connected start end points default option ie smart algorithm allowed route connected wires option algorithm allow wires route connect existing wire regardless connected general recommend option left switched change smart wiring options select menu file options general two wiring options section titled wiring manual wiring procedure three button mouse start wire clicking middle button clicking middle button second time complete wire start new one click right button terminate wiring
fundamentals two button mouse start wire pressing f double clicking left button single clicking left button complete wire start new one click right button terminate wiring alternatively click wire button toolbar start wire single clicking left button otherwise continue described press wire button cancel mode
bus connections simetrix provides bus ripper symbol allow connection buses add bus connector select menu place connectors bus ripper display dialog enter bus name require start index end index dene wires within bus wish connect suppose connecting data bus called data bits wide wish make connection bits data data would enter start end index respectively bus ripper doesnt care size bus connecting choose appropriate style affects appearance symbol functionality click ok place symbol schematic draw buses special method drawing buses simply wire bus rippers would part soon connect bus pin bus ripper colour thickness wire automatically change signify bus increasereduce connections bus wish add connections delete connections bus ripper select ripper device press f popup menu edit part dialog displayed adjust start end indexes appropriately close box
fundamentals connecting buses hierarchy see connecting buses hierarchy
copying clipboard copy schematics clipboard select entire schematic choose menu edit copy wish schematic copied black white select edit copy monochromatic recommended zoom schematic window prior copying clipboard copying clipboard schematic pasted another application word processor
annotating schematic add caption free text schematic difference font style justication captions use heavy font centre justied free text use smaller font left justied place caption free text use popup xed menus edit annotation add caption edit annotation add free text
assigning part references standard behaviour place parts schematic automatically assigned part reference r q c etc references assigned sequence breaks sequence reused place resistors schematic r r r r delete r next resistor placed use reference r become available setting start value default auto assigned references start change using annominsufx option variable see table list options example type command line set annominsuffix auto assigned part references begin assigning position reassign part references allocated position schematic select menu edit assign references position
checking schematic schematic menu simulator check performs number checks first netlist circuit created process following potential errors reported unconnected pins dangling wires
fundamentals implicit connections eg two terminal symbols name name translations buses different names connected together one name win shorted parts parts two pins pins connected next netlist read simulator simulation started identify devices models found
schematic preferences part toolbar default toolbar show selection symbols useful however many buttons available added desired select schematic menu view congure toolbar display dialog box allowing full customisation part buttons schematic toolbar note toolbar conguration simetrix mode independent conguration simplis mode customisation toolbars possible using script commands also dene toolbars buttons full details may found script reference manual part placement options specify whether prefer multiple single placement parts default placement parts schematic tool bar repetitive placement parts menus done one time changed select menu file options general schematic sheet options available presented placement box
adding removing worksheets number standard sizes worksheet included see menu place worksheets worksheet menus automatically protect worksheet placed prevents selected delete worksheet use place worksheet delete worksheet menu avoid placing worksheet place symbol library menu protected
finding specifying net names simulation run netlist schematic created delivered simulator netlist generator automatically assigns names every net node circuit situations need nd name net example noise analysis see noise analysis must specify output node situations either nd name net netlist generator assigned alternatively specify name choice find assigned net name place mouse cursor net interest see name appear fth entry status box base schematic window form netnetname note schematic must netlisted work netlisting occurs run simulation example force time selecting menu simulator check
hierarchical schematic entry specify user dened name user dened net names specied using either terminal symbol small terminal symbol select menu place connectors terminal place connectors small terminal specify net name select terminal press f enter choice name
hierarchical schematic entry schematics organised multiple levels hierarchy typically top level would contain number blocks represents underlying child schematic child schematics turn contain blocks create hierarchical schematic one two ways schematic symbol stored within le combined element known component usually given le extension sxcmp methods creating hierarchical schematics described section use components
topdown method creating part symbol select schematic menu hierarchy create new symbol open graphical symbol editor see graphical symbol editor details note symbol create must given ref property typically initial value u model property must value x placing symbol schematic containing block never saved untitled caption bar must save schematic title step necessary schematic never saved select either hierarchy place component full path hierarchy place component relative path rst references component le using full le system path name second uses path relative parent schematic see placing full vs relative path details select sxcmp le used save symbol paragraph note see warning message component module ports underlying schematic match symbol pins displayed command shell warning may ignored point creating schematic block select symbol whose schematic wish dene select schematic menu hierarchy descend note symbol must saved component described new schematic sheet opened number module port symbols already placed named according pin names block must use make connections outside world
hierarchical schematic entry
bottomup method creating schematic open draw schematic must least one module port symbol place module port use schematic menu hierarchy place module port save schematic component select menu save select components save type list creating symbol schematic select hierarchy opencreate symbol schematic graphical symbol editor window opened default symbol generated number orientation names module ports schematic symbol created saved straight away edit suit requirements save symbol editor window select menu file save usually need change settings dialog press ok close
navigating hierarchical designs number means navigating hierarchical designs go one level jump straight top level root descending block select block either press controle select hierarchy descend schematic attached block already open brought view isnt opened note schematic associated block entered important one block attached schematic intend plot curves simulation explained fully section simulating hierarchical designs ascending parent schematic select hierarchy ascend schematic open brought view isnt opened
placing full vs relative path components placed using full path relative path placed full path component le referenced using full le system path name eg cprojectsprojampliersxcmp allows schematic le uses component freely moved long component le stays place however component le moved schematic longer able locate placed relative path component le referenced le system path name relative schematic uses likely component le directory folder schematic therefore referenced le name alone eg ampliersxcmp allows
hierarchical schematic entry schematic le component le moved together location may moved individually general recommend using relative paths wherever possible exception placing component held general library example standard cell used integrated circuit design place component using full path select schematic menu hierarchy place component full path select component le place normal way place component using relative path select schematic menu hierarchy place component relative path select component le place normal way using symbolic constants simetrix facility dene path names using symbolic constants system allows absolute locations les dened using single value thus making easy change location see symbolic path names details windowslinux interoperability paths stored schematic instance using unix directory separator forward slash provided compatibility older versions run linux simetrix linux longer available allows schematics created using windows version used legacy linux version cases windows accepts forward slash directory separator whereas linux accept back slash
connecting buses hierarchy overview bus connections passed hierarchy much way normal single wire connections bus connections dened underlying schematic symbol representing schematic require special treatment creating bus connections using bottom method enter schematic usual way dene bus connection place part hierarchy place module bus port instead usual module port select device press f dene port name bus size ie number wires bus save schematic component select menu hierarchy opencreate symbol schematic edit symbol required save
hierarchical schematic entry changing bus offset parent schematic bus connection parent schematic size determined module port child schematic however offset rst wire connects bus parent changed per instance basis proceed follows select label next bus pin form ab start wire default b nal wire note edited existing symbol add bus connection may see label select component menu hierarchy update bus connections press f enter new offset ok see label change accordingly example suppose bus wires dened child schematic begin label therefore connect bus wire change offset example label change meaning connection made wires changing nonbus connection bus connection child schematic change module port module bus port edit appropriate parent schematic select block menu hierarchy update bus connections update schematic show bus connection hierarchical block changing size bus connection child schematic select appropriate module bus port press f enter new size required parent schematic select block menu hierarchy update bus connections
global nets access net top level hierarchy using terminal symbol prexing name example suppose net top level called vcc access net level hierarchy without pass connection connecting terminal symbol place connectors terminal assigning name vcc
global pins supposing two instances hierarchical block wish connect different supply rails would need connect supplies say vcc pins top level explicit ie nonglobal connections lower levels every child schematic lower levels would also need vcc pins however sometime convenient hide connections one supply entire design done using global nets however scenario described two versions vcc would able use global net case solution use feature simetrix called global pins global pins dened symbol denition pin dened global net name available child schematics levels without need explicitly passed
hierarchical schematic entry example top level schematic block block
hierarchical schematic entry example vcc vee connections made block without passed via parent block trivial example supplied example see exampleshierarchyglobal pins creating global pins dene global pin select symbol editor menu propertypin global pins double click pin wish assign global select yes
passing parameters hierarchy pass parameters hierarchy assign params property give value assign parameter wish pass eg param param see supplied example folder exampleshierarchypassing parameters feature works simetrix simplis runs adding parameters symbol params property easily added symbol editor symbol hierarchical block created procedure open symbol symbol editor editing hierarchical symbol already created placed schematic select symbol menu hierarchy opencreate symbol schematic symbol editor select menu propertypin add property open add property dialog box name box enter params value box enter parameter names default values example param param leave remaining settings default values edit desired click ok select menu file save click ok close close symbol editor window desired procedure add params property new instances symbol add property existing instances already placed schematic already placed instances symbol update acquires new params property added symbol denition proceed follows select instance symbol schematic editor select right click menu update properties accept default action add properties missing existing instance present symbol denition editing parameters edit parameters added proceed follows select hierarchical instance select right click menu editadd properties
hierarchical schematic entry double click item name params enter new values required value box accessing parameters child schematic use parameter dened symbol expression dene component value model value enclose expression curly braces
missing hierarchical blocks hierarchical schematic opened simetrix needs locate component les contain symbols used hierarchical block however le particular component missing wrong location simetrix able display components symbol unlike library symbols component symbols stored locally schematic le order make possible resolve problem simetrix instead puts place holder symbol place missing symbol place holder symbol diagonal cross repairing missing components component missing either edit schematic identify new location component move les around components expected locations edit schematic select place holder symbol menu hierarchy replace component relocate les use systems le handling tools move component les select menu hierarchy update symbols
highlighting schematic highlighting features work hierarchy menus edit highlight net edit highlighting highlight net name highlight selected net within displayed schematic connected nets schematics hierarchy note following large hierarchies possible mechanism traces hierarchy identify connected nets noticeably slow time taken descend new schematic hierarchical highlighting disabled becomes problem see menu file options general check disabled hierarchy highlighting connectivity information simetrix schematics normally generated netlist created reason possible highlighting incomplete schematic edited since simulation last run highlighting algorithms seeks minimise problem running netlister certain times performance reasons netlist whole hierarchy use menu edit highlighting refresh hierarchical highlights resolve problem netlist complete hierarchy rebuild highlights scratch
copying hierarchy complete hierarchy may copied archival purposes subject certain conditions follows hierarchy must use relative paths throughout child components must either directory root directory direct descendant root
schematic annotations conditions met hierarchy may copied using schematic menu file copy hierarchy le copying started checks conditions met made rst check also made existing target les ensure existing le overwritten checks successful presented list les copied copying operation started
schematic annotations annotations elements placed schematic alter behaviour circuit give method adding additional descriptions someone using schematic understanding design four core annotation types lines shapes images text additionally also title block annotation allows marking title authorship information schematic
line based annotations two types line annotations available lines arrows placed place annotation new line new arrow menu options place line based annotation use menu link click schematic want annotation start drag want annotation end annotation moved clicking annotation dragging one end annotation moved rectangle selecting one end cross shown annotation like gure clicking cross dragging want end placed partially selected line arrow annotation cross marker left hand end shows left part annotation selected line annotations rotated mirrored using appropriate tool buttons
schematic annotations
shape based annotations several shape based annotations available rectangles ellipses shape annotations follow rules placing schematic selecting annotation place annotation menu click schematic start drawing annotation drag release annotation ended preview annotation shown nonrectangular annotations annotations drawn within bounding rectangle clicking line shape select whole annotation shown gure fully selected rectangle annotation annotation display selected style also four dot markers one corner dot markers show corners selected move cursor dragged four markers shown means whole annotation move dragged fully selected rectangle annotation dot markers corner show whole annotation selected shape annotations resized dragging corner side shape want resize case nonrectangular shapes resize bounding rectangle directions resize occur depend corners selected examples shown following two gures select single corner two adjacent corners use rectangle selection method ensure corners want select within rectangle resize click drag one dot markers
schematic annotations partially selected rectangle annotation one corner selected dot marker top right corner shows top right corner annotation selected arrows show directions movement made dragging marker partially selected rectangle annotation two corners selected dot marker top right corner shows entire right side annotation selected arrows show directions movement made dragging marker text added shape annotations shown gure rectangle text content add text shape annotation either double click annotation select annotation go menu edit annotation add caption shape open dialog enter
schematic annotations text text appear annotation line formatting given text box enter text large annotation annotation resize text rectangle annotation text content text added annotation clicking anywhere within annotations shape cause annotation selected without text edge shape selectable multiple lines text justication text changed available justications leftalign centered rightalign changed selecting annotation going menu edit annotation text alignment selecting alignment required available shapes ellipse octagon rectangle rhombus rounded rectangle triangle example shown fully selected given gure showing available shape annotations
schematic annotations available shape annotations fully selected dot markers nonrectangular shapes extend outside shapes bounds imaginary bounding rectangle dif ferent colours used easily identify ownership dot markers annotations shape annotations rotated mirrored using appropriate tool buttons
image annotations images placed within schematics either dragging image program operating system folder pasting image clipboard using menu place annotation add image choosing le schematic image initially resized size proportional schematic components attached mouse place image clicking schematic want image image later moved clicking dragging image resized using dot marker system used shape annotations
schematic annotations image annotation selected dot markers visible warning images whilst images scaled visually within schematic compressed terms data content saved images converted text based representation often larger size native format using large image therefore may make schematic les excessively large images added schematic therefore scaled suitable size placing simetrix additionally images scaled using fast scaling process drawing screen minimal antialiasing removal jagged lines images may produce poor looking results scaled even shrinking large initial image image looks poor placed schematic try resizing image external image editor add back schematic
text annotations text annotations added separately using menus edit annotation add free text edit annotation add caption two menu options produce text using two different styles changed editing styles alternatively text copied elsewhere pasted directly onto schematic
title block title block annotations present information schematic title authorship version notes shown gure annotation takes provided information automatically resizes content correctly create title block use menu place annotation add title block open window asking schematic information information provided placed title block annotation line format given may need add line breaks necessary
schematic styles title block annotation horizontal layout company name author logo elds values set default title blocks appear automatically version date values set manually auto value assigned auto values selected set schematic saved two layouts title block horizontal vertical horizontal layout provides detailed title block title author information notes version information logo picture vertical layout less detailed layout shows title authorship version information image used care taken ensure image large information found image annotations section
schematic styles styles manage look feel schematic symbol editors control colour backgrounds wires components annotations along line type thickness used styles exist either globally within simetrix environment locally within single schematic local styles transfer schematic le appear users machines styles user override local styles selecting menu edit style use global styles elements schematic least two styles associated one element looks normally one element looks selected advanced cases may additional styles associated single element
style editor style editor made four key components shown gure edit styles dialog components style names line settings font settings preview window
schematic styles edit styles dialog opened edit local style opened edit global style inheritance group displayed style listed left hand panel names settings lines fonts used edit style rst open style editor selecting menu item edit style addedit local styles schematic editor allow edit styles used schematic currently open change styles globally across program schematics use menu edit style addedit global styles next select style change left hand list style names selected right hand panel show line font settings used style preview window may also update covered preview window line font settings changed style cases wires line annotations text annotations may interested editing either line font settings components may wish change create new style use new button bottom style names list alternately duplicate existing style selecting style duplicate pressing duplicate button change name using edit name button local styles inherit global style characteristics style copied global style users opening schematic see preference dened global styles inherit global style check inherit global box edit characteristic local style inherit global box automatically become unchecked
schematic styles styles characteristics saved schematic le another user opening schematic see style dened line settings settings line type line size line colour line type options solid dash dot dashdot dashdotdot line size numeric value size one pixel wide commonly used throughout program typically lines would need line size majority size line colour selection box allows different ways inputting required colour font settings settings font name font size font decoration font colour font name drop box provides list available fonts font size numeric value preview window demonstrate relative size font schematic check boxes bold italics overline underline allow additional font styling decorations applied colour selection box allows different ways inputting required colour include property font check box allows styles font values added possible style overrides symbol instance properties covered advanced style settings preview window default preview window display example schematic using currently selected style gure top example line settings used draw wires symbol instances whilst font settings used text background grid marker colours come styles defaultbackground defaultgrid preview window set allow current style edit preview output deselect tick boxes preview window deselected wires drawn using defaultwire symbol instances using defaultinstance text using font information defaultinstance default styles styles automatically used within schematic editor default editable named prex default table default styles used style name used uses defaultannotation annotations except arrows stan dalone captions free text settings defaultarrow arrow annotation line settings defaultbackground schematic symbol editor back ground colour line colour
schematic styles style name used uses defaultbus schematic buses line settings defaultgrid grid used schematic symbol editor line colour defaultinstance symbols schematic editor properties settings defaultoutline used elements drag event show originally placed settings defaultschematiccaption caption annotation font font settings defaultselected used elements se lected except overridden exceptions settings defaultselectedbus selected override buses line settings defaultselectedhighlightedstyle selected override highlighted elements settings defaultselectedschematiccaption selected override schematic captions font settings defaultselectedtext selected override schematic free text font settings defaultselectionrect click drag selection rectangle line settings defaultsymboleditorfont fonts used symbol editor font settings defaultsymboleditorfontselected selected override symbol editor fonts font settings defaultsymboleditororigin origin marker symbol editor line settings defaultsymboleditorpin pin markers symbol editor line settings defaultsymboleditorsegment symbol line segments used symbol editor line settings defaulttext free text annotation font font settings defaulttitleblock title block annotation settings defaulttitleblockselected selected override title block settings defaultwire schematic wires line settings defaultwirecreation schematic wires created user line settings defaultwiremoving schematic wires moved around schematic line settings additionally legacy font settings used importing schematics earlier version simetrix preversion prexed legacy
simplied style editing creation simplied methods creating editing styles creating style subset elements schematic create style selection elements within schematic schematic select elements create new style go menu edit style create new style selected enter names used normal style selected styles created press ok
schematic styles edit styles dialog display two styles created previous step showing set styles required normal selected styles finish pressing ok selected elements use new styles note styles applied wires remain consistent changed connected wires share style editing styles used element selection elements change style properties used particular element group elements schematic select element elements change style properties go menu edit style edit selected styles edit styles dialog display styles used selected elements showing styles list make changes styles required finish pressing ok elements using styles updated schematic changes changes made local styles changing styles used element selection elements change style used particular element group elements schematic select element elements change style properties go menu edit style set normal style selected changing normal style edit style set selected style selected changing selected style list available styles appear choose style use press ok selected elements change use requested style
advanced style settings advanced topics using styles property fonts property fonts overrides standard font used properties within symbol instance style added available property fonts selecting include property font checkbox checking local style make style available properties within schematic whilst checking global style make available schematics fonts property changed right clicking symbol instance schematic click editadd properties
schematic styles edit properties dialog appear double click property change edit property dialog appear property attributes ensure font style checkbox default deselected choose font style shown gure click ok open dialogs close save changes edit property dialog showing drop list override font styles default selected font information symbol instances style used otherwise selected override style used property text alternatively globally available property styles altered using dialog available schematic editor menu edit style set property styles manually changing styles used styles used element manually changed changing style properties element properties change stylenormal style used displaying element normally schematic style styleselected used element selected user value property correspond style name
schematic grouping symbol fill colour symbol created lled region colour used lled region specied separately main style used setting stylenormalinstancefill property setting value style name also added symbol editor time creation also dialog used change colour schematic editor menu edit style set symbol fill style
schematic grouping grouping allows user interact set elements interacting single element selection elements grouped together allows user subsequently select one elements cause selected group together set elements select elements group together right click select menu item group selected alternately edit group selected ungroup set elements select group right click select menu item ungroup selected alternately edit ungroup selected multiple levels grouping example two sets elements grouped individually group group b later two groups grouped together form group c ungroup either grouping levels ungrouped individually example group c ungrouped leave group group b entire grouping removed using menu edit group ungroup selected
group breaking element moved onto group group moved onto another element grouping break shown gure visual indicator shown whilst elements dragged warning group destroyed drag ends state
schematic printing moving element group warning group destruction wires sistors grouped together capacitor dragged grouping warning box red cross appears around group indicate placing capacitor would break grouping elements
schematic printing
printing single schematic sheet select menu file print graph window currently open see graphs probes data analysis choose plot schematic alongside graph sheet select choice layout section schematic box select appropriate scale fit area schematic particular area relative size paper multiple sheets chosen small overlap included fixed grid means schematics grid mapped xed physical size paper sizes inches inch
mm means grid square displayed schematic
inches mm printed sheet
printing hierarchical schematic select menu file print hierarchy presented complete list schematics used current hierarchy select schematics wish print ok select options appropriate ok
file operations
file operations
saving normal save operations use file save file save menus save sheets currently open use file save
exporting schematic graphics may export schematic graphics applications word processors drawing programs via clipboard see copying clipboard writing le export schematic graphics le select schematic menu file save picture select format choice using save type drop box choices windows meta file emf wmf nearly windows applications support graphics import accept format note scalable format therefore suitable high resolution printing scalable vector graphics svg format supported applications unlike wmf emf supported operating systems windows may useful users wanting export scalable graphics applications run operating systems bitmap default image size png jpg bmp available platforms widely supported graphics applications scalable formats offer good quality printed using high resolution printers png default format choose le extension png tends efcient format use images schematics also lossless meaning uses compression technique lose information choose jpg jpeg format bmp windows bitmap format must explicitly enter jpg bmp le extensions respectively option image size match image size currently displayed screen wish specify different image size use next option bitmap specify image size png jpg bmp must explicitly dene image resolution pixels prompted close le selection dialog box note schematics always maintain aspect ratio nal image size may differ specify actual image always within x values give
schematic file formats compatibility earlier versions lifetime simetrix schematic formats detailed format details binary
obsolete binary
used version
used version
ascii default format since version
rst introduced version
xml optional format introduced version
simetrix versions
read write formats except binary note binary formats written using script commands need export schematic open older version simetrix use following table determine format use
file operations version details
binary
use script command saveas v lename
use script command saveas binary lename
later ascii format save normal note following reading version schematic later earlier version features introduced version useable older versions particular annotations styles available earlier versions version schematic annotations open older versions annotations displayed although schematic open wont necessarily simulate depend devices used schematic opening older schematics special procedure needed open schematics created older versions open schematic usual way simetrix detect format automatically note saved default format ascii format xml format new xml format introduced version
currently default format available users wish develop tools read simetrix schematics xml format closely associated ascii format uses similar hierarchical structure element attribute names intended formats supported well future write schematic le xml format proceed follows select menu file save special check xml format box enter le name click browse navigate le click ok xml le created currently open schematic still point original le schematic loaded read xml format le open usual way simetrix automatically detect format file format documentation ascii format found install cd see install cd may found docsfileformatsschematicasciiformatrevnnnpdf nnn format revision number
autosave enabled simetrix automatically save open schematics regular intervalsthis system write schematics normal le backup location simetrix closes unexpectedly due perhaps power failure asked whether would like recover autosaved schematics restart simetrix
properties enable auto saving set autosave interval select menu file options general see autosave interval section schematic sheet
overview properties one schematic editors important concepts actually used number purposes importantly used determine schematic device behaves simulation property tells simulator type device resistor bjt subcircuit etc another property species devices value model name hierarchical block property species le location underlying schematic many applications need understand meaning ref value model properties explained also adding standard properties also useful essential understand schematicpath property used hierarchical blocks
property property item text attached schematic part specify circuit parameter part reference eg r value eg
k model name eg bc properties name value number attributes propertys value may displayed schematic attributes determine value displayed exception protected attribute determines whether property allowed modied property name long spaces value however certain property names special meaning impart particular functionality part owns special properties described following table note however exhaustive list many properties used special parts behaviour impart dened script used edit parts property name function ref part reference eg r circuit devices must property value must unique value part value model name eg bc circuit devices must property may confusing described property name value propertys value
properties property name function model single letter signify type device list signifying letters device supported simulator see summary simulator devices absent rst letter part reference used instead spice example device model property value q always bjt regardless part reference model properties x h f special signicance follows x subcircuit instance pinnames specier added inform simulator devices pin names simulator choose names device current vectors allow crossprobing currents schematic f current controlled current source standard spice cccs two terminal device uses separate voltage source controlling current simetrix provides facility use single four terminal device pins controlling current pins output symbol four terminals model property f treated device additional voltage source created netlist generator connected pins used controlling current h current controlled voltage source f voltage output list valid device types signifying letters see summary simulator devices respects special behaviour model property values x f h legacy past recommended method customising netlist output use template property supported early versions simetrix netname property present symbol nets connected pins named according value property netname property used terminal part menus place connectors terminal place connectors small terminal terminal parts force net attached user specied name value netname property used absence value property scterm identies part module port identify connections hierarchical blocks tol lot match used monte carlo analysis specify tolerances see page monte carlo analysis schematicpath path schematic hierarchical designs mapping rearranges pin order sequence numbers representing symbol pin order order numbers mapping order schematic symbol pins placed netlist example lmcb comparator library assigned mapping output comparator symbol pin model requires third node netlist entry params additional parameters device appended value model property x keyword params prexes params property value
properties property name function template species customised netlist entry device see template property full details valuescript species script called f equivalent menu selected incscript script called shiftup key pressed increment parts value currently used potentiometers passive devices decscript incscript shiftdown decrement device handle property automatically allocated every instance always unique value automatically added property every schematic part guaranteed possess property protected therefore edited simulator determines simulator compatibility see adding standard properties
template property subject section see
editing properties schematic unprotected properties symbol placed schematic may edited using popup menu edit properties rst opens dialog listing properties owned device selecting property edit dialog box similar box described dening properties property select protected dialog box still open able change settings
restoring properties method restoring instances properties values attributes original symbol especially useful situations symbol edited example add new property wish new property included existing instances symbol restore instances properties follow instructions select instances whose properties wish restore select popup menu restore properties two options new properties add new properties selected instances property present symbol denition schematic instance added properties remain intact properties restore properties symbol denition includes deleting instance properties symbol denition effect restore symbol placed using place symbol library menu note ref properties automatically annotated make unique option must used care dont use unless clear
template property function restore properties according local symbol denition stored schematic wont necessarily global denition symbol library information see symbols stored
template property
overview template property provides method customising netlist entry schematic part normally single line created netlist schematic part except f h devices dened two lines line created according values various properties importantly ref model value properties however template property specied system bypassed netlist entry dened value property template property value contain number special keywords characters substituted netlist creation values substituted include node names pin names value property three template keywords dene multiple lines implement series orand parallel combinations ladder networks arrays devices
template property format netlist entry device template property literal text template propertys value certain special characters words substituted text enclosed keywords special meaning text enclosed substituted value property whose name enclosed character finally text enclosed curly braces treated expression evaluated described detail following sections property substitution text enclosed substituted value property whose name enclosed character ref would substituted value ref property expressions text enclosed curly braces treated expression evaluated note property substitutions performed expressions evaluated result expression depend combination property values attempt evaluate expression fails result empty error message reported keywords text enclosed represents keyword keyword along substituted according keyword dened following table two types keyword simple compound simple keywords single word whereas compound keywords consist sequence names values separated colons compound keywords used generate multiple netlist lines applications creating series parallel combinations
template property template properties evaluated template properties processed two passes rst pass property names enclosed substituted keywords expressions pass untouched second pass keywords expressions processed character treated literally makes possible use property values expressions control values multi line keywords example modelref nodelist value ww adw
u modelm refq value n would resolve following rst pass mq nodelist n lu w
u aduu second pass would able evaluate expression resolve nodelist see value ad calculated according whatever w set alternative method setting mosfet area perimeter values method used standard symbols different order remain compatible earlier versions note property value contains special characters treated literally example property value tailres attempt would made evaluate tailres second pass keyword summary keywords available summarised following table explained detail keyword description bus returns name bus connected specied pin foreachpin repeats pin ifd conditional whether property dened conditional result expression inode generates internal node join joinpin joinnum joinref returns information connected device used current probes mappednoden node order dened mapping property present mappedpinnames pinnames order altered according mapping property present nodelist nodelisth substituted full list nodes device nodename replaced text signies item following node name netlist generator must able identify text node correctly substitute name required noden substituted individual node numpins returns number pins symbol parallel start compound keyword create parallel combination paramsvalue returns passed parameters
template property keyword description pinlist substituted full list pin names symbol pinnames equivalent pinnames pinlist except substitution takes place nopinnames switch specied netlist command probe similar node resolves mapped nodes simplis mode ref spice compatible part reference repeat start compound keyword create general purpose repeating sequence rootdir root schematic directory hierarchical design rootpath root schematic full path hierarchical design schemdir schematic directory schempath schematic full path sep returns separator character usually series start compound keyword create series combination step used series parallel return sequence number substitutes property value treating template value returns resolved value following descriptions square bracket character used denote optional item square brackets bold mean literal square bracket symbol bus busn returns name bus connected nth pin foreachpin foreachpinvarbody repeats body pin symbol var variable assigned pin number processed may used inside expression body may also use keywords node pin access connected nodes pin names respectively ifd ifdpropnameactionaction propname present blank action substituted otherwise action substituted example ifdvaluevalue property value present substituted otherwise value substituted
template property iftestactionaction test resolves nonzero value action substituted otherwise action substituted typically test would expression enclosed curly braces example following implements somewhat complex manner series connection resistors actually one line repeatlineseriesrefrline ifline noderefline ifline seriesnoderefline value note usually action enclosed omitted action contain keywords doubt put inode inodename resolves unique node number guaranteed used anywhere else value name may used identify number repeated use within template example inodea always resolve node number used within template denition inode intended used create devices need multiple netlist lines connected nodes also done using subcircuit simple cases inode may convenient join joinpropnameindex used instances symbols one one pin returns value propname instance attached directly single pin device example following joinref probe rp would return r value ref property resistor situations one instance connected pin index may used specify one index may value less number devices connected use joinnum determine many devices connected note pin device must directly connected ie pins superimposed wires join intended used current probes joinref
template property joinref similar joinref except instead literal ref property returns connected instance identied netlist takes account template property connected instance possesses model property prex template property joinnum joinnum valid single pin instances returns number joined devices see join details joinpin joinpinindex valid single pin instances returns connected pin name another device connected devices pin used conjunction join return current vector part eg joinrefjoinpin probe device would return rp situations one instance connected pin index may used specify one index may value less number devices connected use joinnum determine many devices connected mappednode mappednoden node except mapping property applied mapping property used rearrange nodes different order dened symbol used modelsymbol association system allow single symbol associated multiple models may necessarily terminal order mappedpinnames mappedpinnames pinnames mapping property applied see mappednode nodelist nodelisth
template property nodelistmapnox nodelisthmapnox replaced nodes connected devices pins nodelisth includes hidden global pins see global pins used hierarchical schematics whereas nodelist omits two options map present order nodes according mapping property nox present disable xspice pin attributes see adding xspice pin attributes details nodename nodename replaced text signies item following node name netlist generator must able identify text node correctly substitute name required example following template denition nchannel mosfet bulk connected vss modelref nodelist nodenamevss value vss actually connected ground netlist generator would replace nodes called vss meaning ground nodename keyword present netlist generator would able determine vss node substitution would take place node noden replaced individual node identied n starting node node name connected rst pin symbol numpins numpins returns number pins symbol owning template property parallel parallelnumline creates parallel combination device described line example parallelparallelref nodelist value creates parallel combination parts number parallel determined property parallel note ref keyword returns part reference appropriately modied model property appended sequence number parallel refr valuek modelr device connected external nodes rp rn end result r rp rn k r rp rn k r rp rn k r rp rn k r rp rn k
template property num element empty eg example parallel property empty missing output made example used two terminal part must however parallel property present symbol paramsvalue paramsvalue returns instances parameters dened params property prexed parameter separator subcircuit devices params simetrix mode vars simplis mode keyword also include tolerance parameters dened properties lot tol match present pinlist pinlist replaced symbols pin names pinnames pinnames equivalent pinnames pinlist except substitution takes place nopinnames switch specied netlist command probe proben simetrix mode behaves identically node simplis mode return mapped node name relevant happen node name dened terminal symbol instead assigned node number keyword return node name prexed name implies intended use probe symbols ref ref returns part reference device using rules used template property present rules model property blank model single character rst letter ref property equals model property ref ref otherwise ref modelsepref sep separator character usually changed netlist command line see netlist command syntax script reference manualcommand referencenetlist ref used series parallel repeat sequence appended sepstep
template property step sequence number seriesparallel function see repeat repeats line num times varname incremented step varname may used expression dene device node names following example creates subcircuit dene rc ladder circuit variable number sections dened property num resistance section dened property res capacitance property cap note explained templates resolved two passes rst pass property names enclosed substituted values expressions keywords left untouched second pass keywords expressions processed subckt ladder num gnd repeatidxnumxidx idx idx gnd section subckt section gnd r res c gnd cap ends ends varname set idx num set ten line xidx idx idx gnd section would repeated times idx incrementing one time note semicolon end line signies new line must created essential end result num resk capn subckt ladder gnd x gnd section x gnd section x gnd section x gnd section x gnd section x gnd section x gnd section x gnd section x gnd section x gnd section subckt section gnd r k c gnd n ends ends although legal nest repeat keywords recommend avoiding lead unexpected results always use subcircuit denitions multidimensional repeats usually easier understand example multiple lines entered using edit properties dialog box best way dene multiple line templates rst enter text editor copy paste edit properties dialog rootdir returns root directory hierarchical design design hierarchical returns value schemdir
template property rootpath returns full path root schematic hierarchical design design hierarchical returns value schempath schemdir returns directory current schematic located schempath returns full path current schematic sep sep returns separator character used separate device letter part reference defaults changed netlist command line see netlist command syntax script reference manualcommand reference series seriesnumline creates series combination device described line example seriesseriesref nodelist value creates series combination parts number series determined property series note ref keyword returns part reference appropriately modied model property appended sequence number series refr valuek modelr device connected external nodes rp rn end result r rp k r k r k r k r rn k num element empty eg example series property empty missing output made example used two terminal part must however series property present symbol step step used series parallel keywords returns sequence number tpropname
ltspice compatibility propname except properties value evaluated template propname literal value property always used note recursive properties simply substituted nothing eg ttemplate return empty used template property called template value value returns value property value unless instance hierarchical block case returns name referenced subcircuit denition information put new line netlist entry use literal new lines also accepted put literal character text use two become
template scripts also possible write script compile line generated netlist generator scripts called template scripts approach enjoy full power scripting language complex devices created manner full details approach please refer script reference manualapplicationsschematic template scripts
ltspice compatibility simetrix load schematics symbols created ltspice xvii visually result close original display ltspice except colour differences schematic use encrypted models usually possible run simulations although usually necessary make minor modications especially simulator commands individual symbol les opened directly also possible convert entire symbol library single simetrix symbol library le easier faster access note order load schematic les symbol les use must available see symbols ltspice details
symbols ltspice schematics ltspice schematic les embed symbol denitions opened standalone regular symbols resistors transistors diodes shipped ltspice ltspice installed system symbols uses available simetrix locate symbol les using search rules ltspice uses dont ltspice installed system need provide copies symbol les simetrix uses search path symbol les detailed ltspice documentation established experiment following locations searched schematic symbols local folder ie folder schematic mydocumentsltspicexviilibsym subfolders search paths specied ltspice ini le located appdataltspicexviiini section options key symbolsearchpath value list paths separated semicolons
ltspice compatibility search made le name symbolnameasy sometimes symbol name prexed folder name case folder also searched le note symbol le found multiple locations les different locations identical error result symbol load schematic open symbol missing error message list conicting les situation remove rename one conicting les reload schematic various locations ltspice les believed xed design ltspice expected found different locations case locations change future version possible congure different locations see ltspice conguration building symbol library build simetrix symbol library contains ltspice symbols found search path useful want use ltspice models simetrix schematics build library select menu tools ltspice buildrebuild ltspice symbol library process takes seconds complete information using ltspice models see using ltspice models
opening ltspice schematics procedure opening ltspice opening simetrix schematic use file open select schematic files le type drop box alternatively simply drag drop ltspice asc le simetrix note double clicking ltspice schematic le open le ltspice mentioned ltspice compatibility symbols schematic must available schematic open correctly ltspice installed system schematic opens correctly ltspice also open correctly simetrix
simulating ltspice schematics schematics simulate correctly without modication many need changes kind common difference ltspice stores simulation commands within schematic simetrix schematics converted ltspice use method choose analysis gui reads writes simulation commands f window allow gui control simulation need copy commands across note simetrix ltspice simulation commands compatible basic level single step transient devicebased dc sweeps ac frequency sweeps usually compatible multistep commands different need converted schematic loader perform conversion many models designed ltspice used simetrix information see using ltspice models
saving ltspice schematics simetrix able save schematics ltspice format save ltspice schematic asc le prompted save new le name using sxsch wxsch overwrite original asc le resulting schematic readable ltspice
ltspice compatibility
ltspice text property styles simetrix attempt use typefaces font sizes original ltspice schematic needs know fonts ltspice using initially simetrix use factory default fonts ltspice uses time writing tahoma font family set bold change setting import current ltspice settings proceed follows select menu tools ltspice font settings import current settings used ltspice click load current ltspice settings button make ltspice schematic rendered simetrix text sizes styles ltspice although note colours usually alter font characteristics deviate ltspice prefer make changes series schematic styles designed ltspice schematics altered manually alter styles using style manager gui note running sequence overwrite changes
ltspice conguration number option settings available allow nonstandard ltspice installations following changed ltspice documents root folder folder symbol les stored folder model les stored location ini le font settings search locations stored font families available conguring ltspice documents folder ltspice documents including symbols models example schematics stored location documents folder standard location documentsltspicexvii location appears hardwired ltspice design cant changed however reason becomes necessary relocate new location specied using ltspicedocspath option variable use command set ltspicedocspathnewlocation symbol model library locations specied relative location see folder symbol les stored folder model les stored conguring symbol file location default location ltspice symbol les documentsltspicexviilibsym change absolute location folder change location relative ltspice documents folder change relative location execute command command line set ltspicesymbolssubdirnewlocation default value ltspicesymbolssubdir libsym note leading necessary
load component values conguring model file location default location ltspice model les documentsltspicexviilib change absolute location folder change location relative ltspice documents folder change location execute command command line set ltspicemodelssubdirnewlocation default value ltspicemodelssubdir lib note leading necessary actual models sub directories libcmp libsub specifying lib sub directories searched model library location needed reading schematics display required ltspice models used simulation model library searched ltspice schematic loaded model part found schematic instance decorated properties locate model using lib simulation statement conguring ini file default location ltspice ini le appdatapathltspicexviiini appdatapath application data folder usually cusersusernameappdataroaming username login username change location execute command command line set ltspiceinipathnewlocation newlocation full path ini le ini le read simetrix locate additional symbol model search locations font settings conguring font families ltspice uses xed range font families appears hardwired application opposed enumerated fonts installed system time writing font families arial arial narrow palatino linotype tahoma times new roman verdana ms shell dlg range fonts changes different system change selection command line command set ltspicefontfamilieslistoffonts listoffonts font family names separated pipe symbol must appear order show ltspice control panel font selection box
load component values load component values feature allows quickly change component values design without edit component individually multiple designs use schematic congured easily saving conguration le containing set component values design congured loading appropriate conguration le refer following topics overview menus
load component values conguration file format creating conguration file schematic loading conguration file handling shorted disabled components loading xml content automating load component values command line switches automating load component values script
overview load component values feature change schematic symbol property however schematic conguration including symbol placement wiring unchanged load component values feature works simetrix simplis simulator modes caution sure backup schematic loading set component values load conguration le schematic values change action undone load component values feature following load component property values text le change component design according values text le produces report simetrixsimplis command shell detailing properties changed
menus six menu items main menu tools load component values overview opens help topic create cong file schematic creates componentvalue conguration le currently selected schematic default file loads component values default text le default text lename schematicnamecompvaluestxt select file load prompts conguration le load edit conguration file prompts conguration le edit view log file views values last componentvalue log le
conguration file format conguration le plain ascii text le two columns separated tab character following rules conguration le blank lines comment lines starting ignored nonblank noncomment line assumed loadcomponentvalue directive loadcomponentvalue directives following form address value
load component values ldcr address information point explicit designatorproperty combination example resistance value specied rvalue merely r note correct address given parameter depends heavily type symbol used merely type component program supports many standard symbols custom seldomused symbols may require tweaking order get desired behavior address value must separated tabs value appear exactly want set component values containing whitespace characters enclose value double quotes
creating conguration file schematic create conguration le schematic follow steps select menu tools load component values create cong file schematic system reads schematic symbols currently selected schematic creates componentvalue conguration le le selection dialog type lename select location save conguration le conguration le contains symbol properties component values successfully loaded property values spaces automatically double quoted per required conguration le format property values protected contain double quote character excluded generated conguration le edit conguration le using menu tools load component values edit conguration file remove load component value directives dont need
loading conguration file caution sure backup schematic loading set component values load conguration le schematic values change action undone example including schematic conguration le downloaded simplisloadcompvaluesmpzip load component values design follow steps unzip archive location computer open schematic double click sxsch le drag le simetrixsimplis command shell execute one menu options load component values menu tools load component values default file tools load component values select file load schematic reects new values following report appears command shell window located default component value input le pathsimplisloadcompvaluesmpcompvaluestxt action refdes old new change vinvc
load component values change vinesr change ccc u
u change ccc u change ccc n n change ccc u u change lli
u change ccc u u change cquantity x change ccc p p change rvalue
k k change rvalue
k load component value complete xxxxxx may also view log le tools load component values view log file menu
handling shorted disabled components since symbols contain property indicating whether shorted disabled special ag used disable short reenable schematic instance address value ldisabledstatus open ldisabledstatus short ldisabledstatus enable
loading xml content xml content loaded within load component values le directly xml le directly loading le completed using fromle tag relative absolute addresses acceptable address value lgmdfilecontents xml version
encodingutfinductor inductor lgmdfilecontents fromlexmlle relativegmd lgmdfilecontents fromlectempxmlle absolutegmd
automating load component values command line switches special switch l letter l numeral added simetrissimplis automatically open schematic load set component values program starts syntax command line switch fullpathtosimetrixexe fullpathtoschematictoopen l fullpathtocompvaluesle note three command line arguments full paths
cmos ic design
automating load component values script load component values feature provided script loadcompvaluessxscr script one optional argument lename without optional argument script attempts load default le schematicnamecompvaluestxt le found opened le selection dialog opens allow select conguration le load default le type loadcompvalues simetrixsimplis command line load different lename type loadcompvalues conglename simetrixsimplis command line note lename enclosed single quotes load component values script called simetrix script scripting language available full version simetrixsimplis although script feature temporarily unlocked simetrixsimplis elements using unlock feature
using schematic editor cmos ic design
mosfet symbols four mosfet symbols supplied use cmos ic design
cmos ic design symbols model name n nchannel types p pchannel types names course changed placed schematic would time consuming time avoid one following modify spice model les devices always called n p modify standard symbol model name corresponds spice models create new set symbols process use best course action probably create new symbol process created new symbols modify toolbar buttons call new symbols instead standard ones must using defbutton command redenes toolbar buttons make permanent changes defbutton command put startup script procedure select menu file options edit startup script open startup script text editor window startup script automatically run time program starts enter defbutton command toolbar button wish redene mos symbols
cmos ic design commands one combinations following defbutton nmos inst ne yournmossymbol defbutton pmos inst ne yourpmossymbol defbutton nmosic inst ne yournmossymbol defbutton pmosic inst ne yourpmossymbol replace yournmossymbol yourpmossymbol etc internal names new symbols
edit length width popup menu edit mos lengthwidth edit l w properties menu initially hidden enabled setting option variable enablelweditmenu typing command command line set enablelweditmenu need restart simetrix bring effect
automatic area perimeter calculation optional popup menu edit mos lengthwidth see edit length width edit device length width scale factor menus alter symbol properties w l width length multiplier symbols described designed manner additional parameters ad ps pd nrs nrd may automatically calculated width length use facility append value property parameter denitions dened expressions eg n adw
u device ad parameter calculated width
u note formula enclosed curly braces width length expressed w l respectively use similar expressions parameter alternative dene ad etc parameter expression subcircuit see subcircuits details
editing mos symbols may wish create mos symbols process use suggest always make copy standard symbols save new name symbol library copied version edit suit ic process applications probably need edit value property see next paragraph editing value property value property denes model name devices parameters except length width multiplier standard value property denes model name defaults n nmos devices p pmos devices edit match model name used process
information addition described automatic area perimeter calculation append value property parameters ad etc dene expressions relating width using w orand length using l edit default values l w edit l w properties appropriate edit hidden node terminal devices hidden bulk node three terminal devices dened bulknode property defaults vss nmos devices vdd pmos devices
information
symbols stored symbol placed schematic copy symbol denition stored locally makes possible open schematic even symbols uses available symbol library however edit symbol denition schematic saved open schematic choice local copy symbol copy library chooses depends option chosen symbol saved saving symbol graphical editor see check box references symbols automatically updated checked schematic editor always use library symbol present use local copy schematic using local copy wish update current library version select symbol symbols select popup menu update symbol note instances symbol updated possible two versions symbol schematic important note note symbol geometry pin denitions protected properties schematic instance changed symbol denition edited unprotected properties remain example standard npn bipolar transistor symbol initial value property qn place one schematic place menu tool bar value rst displayed course subsequently changed initial value qn dened npn symbol however edit symbol denition change initial value something else say bc value value property instances symbol already placed change use popup menu restore properties restore properties symbol dened values information see restoring properties wish property value always follow denition symbol must protect see dening properties details
summary simulator devices following information needed dene schematic symbols various devices supported simulator
information order able crossprobe pin currents pin names schematic symbol must match used simulator bjt bipolar junction transistor simulator refers four pins b c e base collector emitter substrate letters must also used pin names schematic bjt symbol simulator device pin names listed model property schematic symbol property describes type device symbol refers spice uses rst letter part reference identify type device simetrix netlist generator prexes model property symbol part reference comply makes possible use part reference schematic device model property pin pin names pin function xspice device arbitrary sources b p n bipolar junction transistors q c collector b base e emitter substrate capacitor c p n current controlled current source terminal f p n current controlled current source terminal f p output n output control control current controlled voltage source terminal h p n current controlled voltage source terminal h p output n output control control current source p n
information device model property pin pin names pin function diode p anode n cathode gaas fets z drain g gate source inductor l p n junction fet j drain g gate source mosfet drain g gate source bulk resistors r p transmission line lossless p port term n port term lossy p port term n port term voltage controlled current source g p output n output cp control cn control voltage controlled switch p switch term n switch term cp control cn control voltage controlled voltage source e p output n output cp control cn control voltage source v p output n output
information device model property pin pin names pin function subcircuits x pins given name numbering must order pins appear subckt control denes subcircuit simetrix uses special extension netlist format tell simulator pin names veriloga device u recommended pin count names order must match ports verilog module statement see veriloga user manual details vsxa veriloghdl device u pin count names order must match ports verilog module statement see vsxa device simulator reference manual ac table lookup u pin count x number ports device currently provide current readback pin names thus assigned arbitrarily chapter symbol editor library
creating schematic symbols overview large variety schematic symbols supplied simetrix cover many uses however occasions wish either dene new symbol perhaps implement hierarchical block subcircuit modify one standard symbols chapter describes done schematic symbols organised library handled library manager details refer symbol library manager two different methods create symbols use graphical symbol editor see graphical symbol editor create manually script applications using graphical symbol editor appropriate method creating symbol script appropriate automated symbol creation details provided script reference manualapplicationsschematic symbol script denition
graphical symbol editor
notes graphical symbol editor shares much operation layout schematic editor reason recommended learning use symbol editor become competent operation schematic editor parts following sections explanations assume already familiar schematic editor
symbol editor window following diagram shows main elements symbol editor
graphical symbol editor
elements symbol schematic symbols composed combination following elements symbols represent electrical device would comprise elements symbols used purely annotation would need pins may need one remaining elements either schematic caption example symbol consists purely properties segments make visible body symbol include straight line segments arc segments pins dene electrical connections device properties properties name value used dene behaviour device represented symbol also used annotation example label caption
creating new symbol select menu file new symbol open symbol editor window shown create elements symbol described details provided following sections
graphical symbol editor
editing existing symbol select menu file symbol manager select symbol wish edit see symbol library manager details wish edit symbol placed open schematic select symbol schematic choose popup menu edit symbol
drawing straight line segments drawing straight line segments symbol editor similar drawing wires schematic editor one following select draw segment mode clicking draw segment tool button draw segments using left right mouse buttons press button revert normal mode three button mouse middle button start new segment left button complete segment terminate operation right button terminate without completing current segment enter draw segment mode temporarily pressing f double click left button start new segment
drawing arcs circles ellipses basic method drawing curved elements case drawing starts must dene startnish angle ellipses ratio height width drawing operation denes start nish points full circles ellipses start nish points opposite sides dedicated menus supplied starting full circle half circle quarter circle everything else use arcs ellipsearc initiated operation cursor change shape showing pencil small circle draw curved segment dragging mouse left key release mouse button operation complete mouse mode revert normal select mode easier demonstrate explain may wish experiment arccircleellipse drawing gain feel system operates note full circles displayed small lled square opposite sides select points pick either one drag resize circle
placing dening pins placing single pin place single pin select propertypin place pin place sheet left clicking mouse desired location note pins always snap major grid points see diagram section symbol editor window rst pin place sheet called pin signies pin name visible symbol placed schematic
graphical symbol editor editing pin attributes edit attributes pin eg change name visibility select either pin label left mouse key press f select popup menu edit propertypinarc display following dialog pin name must unique within symbol may contain spaces symbol used hierarchical block pin name must match names module ports schematic represents symbol used existing subcircuit example model library pin names important choose suitable name pin names need match node names subcircuit denition text location justication pin name visible species alignment hidden check box wish pin name visible schematic vertical pins label displayed vertically checked attributes font style select font style use visible pin name choice styles schematic fonts explained fonts prex instruct netlist generator prex node used mark start vector connection xspice device
graphical symbol editor sufx instruct netlist generator sufx node used mark end vector connection xspice device placing multiple pins place one pin select menu propertypin place pin repeated prompted supply base pin name used compose actual pin name simetrix append number name make pin name unique rst number used unless append base name number case appended number used starting point example supplied base name data rst pin placed called data second data etc assuming arent already pins name sheet supplied base name data rst pin place called data second data etc editing multiple pins edit names pins one time edit attributes group pins single operation first select pins wish edit selecting done manner schematic except note select pins pin names either press f select popup menu edit propertypinarc change pins attributes except name change applied selected pins moving pins pin names moving item symbol editor done way schematic note however pin names attached pins move pin name moves move name making sure name selected pin dening pin order symbols pin order important dening symbol use subcircuit primitive simulator device subcircuit symbols pin order must match order corresponding nodes dened subckt statement symbol primitive device must follow order dened section summary simulator devices creating symbol hierarchical block need dene pin order connection symbol underlying child schematic made name dene symbols pin order select menu propertypin edit pin order use buttons reorder pins appropriate adding xspice pin attributes xspice devices support vector connections andor variable type connections designated netlist characters explained simulator reference manualsimulator devicesusing xspice devices add symbol prexing appropriate pin name characters required netlist eg start vector connection pin named enter pin name close vector connection pin use pin name similarly change connection whose default type v ie singleended voltage differential current typeid prex rst pin name withid space eg pin name vin would become id vin
graphical symbol editor examples use vector connections symbols found digital gate symbols
dening properties properties dene behaviour symbol full documentation use properties see section properties section methods adding editing properties symbol editor described adding single property add property symbol select propertypin add property see following dialog box box allows dene name value attributes property note property protected value attributes changed symbol placed schematic using schematic popup edit properties name name property would usually one special properties documented properties however add property name wish display text provide special function dene custom script restriction name must contain spaces
graphical symbol editor value propertys value dont confuse value property insert new line pressing enter key careful press enter key accidentally intending close dialog must delete erroneously entered new line text location dene position propertys value text schematic autoabsolute auto selected propertys value text positioned automatically outside symbols border according options specied normal rotated absolute selected property placed xed position relative symbol body dene location interactively mouse auto selected text always horizontal absolute selected text vertical symbol degree rotation normal auto selected species side symbol text located symbol normal orientation rotated auto selected species side symbol text located symbol rotated degrees justication denes reference point text absolute specied see diagram meaning options reference point always xed location respect symbol body position remainder text may vary zoom level font size hidden propertys value text displayed schematic vertical checked property displayed vertically option available absolute location selected property attributes font style select one eight font styles actual font denition dened font dialog box see fonts details selectable checked instance symbol owning property selected clicking property text recommended option unless symbol body eg pure text item protected checked possible edit delete property schematic instance symbol
graphical symbol editor linear checked size font adjusted best readability necessarily scale exactly zoom magnication box checked font size follows magnication linear fashion show name selected name property well value displayed resolve symbolic value may contain expressions enclosed keywords enclosed property names enclosed items substituted resolved value obtain property text actually displayed expressions may contain usual arithmetic operators may also use functions dened script reference manualfunction reference property names enclosed substituted propertys value keywords may date time version ifd date time resolve date time local format version resolves integer value incremented time schematic saved keywords ifd behave manner template property keywords name see template property details note like template properties resolution performed two passes property values substituted rst adding standard properties select menu propertypin add standard properties prompts values ref value model properties properties usually specied symbols exception hierarchical blocks require value property using simetrixsimplis product also prompted supply value simulator property following table describes four standard properties property name function ref property part reference eg u r etc would conventionally letter letters followed question mark place part schematic question mark replaced automatically number makes reference unique dont specify model property see rst letter reference important denes type device explained detail value property devices value model name including additional parameters resistor might k opamp lm bipolar transistor qn value property must present symbol denition stage initial value important would usually changed symbol placed schematic
graphical symbol editor property name function model property property usually value single letter species type device subcircuits hierarchical blocks letter must x types device refer table summary simulator devices property present rst letter ref property used identify device information value property symbol prexed ref property obtain rst word device line netlist hence complying spice syntax wont done rst letter ref property already value model property would unnecessary simulator property required simetrixsimplis product declares simulator symbol compatible purpose advising user part may work particular simulator affect functionality part simulator property one three values simetrix symbol compatible simetrix simulator simplis symbol compatible simplis simulator dual symbol compatible simetrix simplis editing property edit property select press f select popup menu edit propertypinarc open dialog box similar one described without option enter property name make appropriate changes click ok
saving symbols save current symbol select menu file save following dialog displayed
graphical symbol editor dene symbol user name enter name wish displayed dialog box opened schematic menu parts symbols dene symbol internal name new symbol internal name automatically entered type user name cases leave however internal name must unique across whole model library may situations need change unsure whether name used unique prex something unlikely used anywhere initials resulting name need meaningful anyone else identifying code descriptive name dene symbol category enter category determine symbol listed dialog box opened schematic menu place symbol library subcategories separated using semicolon note easily move symbols different categories using symbol library manager unsure stage category use place temporary category move later dene symbol references symbol automatically updated checked changes make symbol automatically applied instance existing schematics whether open
creating symbol script checked instances symbol updated update symbols menu selected schematic copies symbols used schematic stored locally within schematic local version updated box checked see symbols stored details save library file saves symbol library le specied file box would usually sxslb extension save component file saves symbol component le specied file box would usually extension sxcmp component les used hierarchical schematics contain schematic symbol representing le save symbol component le symbol portion overwritten contains embedded schematic schematic remain unchanged see hierarchical schematic entry save current schematic symbol saved currently selected schematic available schematics file library component le name see press browse select new le
creating symbol script creating symbol script method creating symbols programmatically useful creating symbols devices variable characteristic example transformer varying number windings indeed technique employed create symbols builtin transformer models full documentation create symbol script refer script reference manualapplicationsschematic symbol script denition
symbol library manager symbol manager comprehensive system managing symbols libraries store open symbol library manager select menu file symbol manager dialog shown displayed
symbol library manager note box resized usual way symbols available schematic editor stored library les conventionally extension sxslb symbols installed libraries available placing new part note however symbol placed schematic copy stored locally still view schematic uses symbols installed symbols le grouped categories using tree structure shown symbols box manager allows install uninstall library les move symbols les categories delete symbols copy symbols create new categories also create new empty symbols ready editing symbol editor
operations installing libraries select add button select library le install clicking add button open le select dialog box allowing add new symbol library le
symbol library manager uninstalling libraries select library le wish uninstall library files box click remove button note delete le changing search order searching particular symbol library les searched order listed library files box change order use buttons moving symbols move individual symbol new category simply pick mouse drop onto new category move symbol new library dropping symbol onto library le library files box move one symbol time picking complete category copying symbols copy symbol within library select symbol symbols box click copy button use right click menu copy symbol enter new user name symbol isnt usually necessary change internal name copy symbols new library use drag drop procedure moving hold control key single symbol entire category note copying new library symbol retains user name internal name therefore duplicates installed unless renamed deleting symbols delete symbol select press delete right click popup menu name also delete entire category way renaming symbols select symbol press f right click popup menu rename also rename category way note renames user name symbol method changing internal name making copy new name deleting original creating new category create new category select parent category wish placed click create popup menu name dialog opens select category button enter new name
symbol library manager creating new symbol select category wish symbol placed click create popup menu name enter desired user name internal name automatically entered type user name usually left alone symbol created empty use symbol editor dene call directly clicking edit button note close library manager dialog box placing symbol schematic sheet open place symbol directly library manager clicking place button note close dialog box
editing system symbol libraries system symbol libraries listed le systemlibsxlst located symbol libraries folder libraries treated specially written eg editing symbol library system symbol libraries protected edited directly still edit system symbols changes stored separately ascii le located directory application data area scheme protects changes lost system symbol libraries updated service update system symbol libraries stored directory dened symbolsdir option variable see list options typically located cprogram filessimetrixxxsupportsymbollibs directory system library edits stored dened usersystemsymboldir option variable see list options chapter parts chapter describe parts available schematic level broadly speaking parts fall two categories namely numbered generic numbered parts also referred model library parts devices manufacturers part number described model either supplied simetrix manufacturer generic parts devices dened one parameters entered user part placed schematic transistor like n bc example numbered part resistor probably simplest example generic part parts characteristics types cmos ic designers would use mosfets dened model customise length width parameters saturable inductors underlying model describe cores characteristics number user dened parameters dene geometry air gap numbered parts need model usually stored model library refer device library parts management details chapter concerned devices schematic level many devices implemented directly simulator example simulator bipolar transistor model built devices dened set simulator parameters however devices implemented directly simulator example operational amplier device built parts constructed number parts subcircuit devices built simulator described simulator devices chapter simulator reference manual
find place parts simetrix number different ways nding placing parts many parts placed different ways choose depend personal preference methods part selector part selector hierarchical list parts may displayed within main application window part search searches parts available part selector place menu includes model library browser search specication see selecting model specication system parts may also placed place menu many easier locate using part selector toolbar parts available quick easy
part selector
part selector part selector hierarchical list parts used schematic editor system view part selector placed anywhere around outside window default position right hand side window see part selector arranged hierarchical manner ease browsing part wish place use part selector locate part place either right click select menu appropriate vast majority parts offer single placement repeated placement parts model library also provide view model menu preview actual electrical model click hyperlink shows part selector tree symbol window double click part selector tree
part search virtually available parts may selected using part selector differences simetrix simplis modes parts located model library placed simetrix mode part appears directly part selector whereas simplis mode part selector directs model library browser options change behaviour see partselshowsimplismodels list options part selector may customised number ways reorganise hierarchical structure using simple gui also add special parts remove standard items information see parts management conguring part selector
part search part search feature locates part name using keywords attached part click binoculars button schematic editor tool bar open search tool part selector maintains list keywords associated part list also searched results displayed type select whether wish include model library parts search check include model library parts box enable located part desire select list click ok place part schematic usual way
model library browser numbered parts parts located model library may accessed via model library browser select menu place model library open
model library browser select appropriate category left part number right picture shows would see selecting irf nmos category sure category part select devices category nd bottom category list looking part installed opposed part supplied simetrix nd user models category well devices category installed within last days also nd recently added models reduce number devices displayed manageable level specify lter use wildcards match character match single character match string devices displayed irf display device starts three letters irf irf display device beginning irf followed three three characters
selecting model specication classes part select model based desired specication example looking nchannel power fet v max vds rdson less
ohms enter specication obtain list parts meet currently devices supported scheme include power fets diodes zener diodes feature available simetrix simplis modes use method selecting device proceed follows select one menus listed place select specication also access feature using part selector picture show would see selecting nmos power fet
model library browser note entire list available parts desired type parts specication available listed however representative range possible nd model suitable initial development work lter listed parts include desired spec use dropdown boxes bottom box filter group note upper end range exclusive example means everything including including selected model click ok place usual way
viewing editing models parts selected using model library browser described dened using model located global model library view model using right click popup menu viewedit model display something like following dialog box
model library browser top half box shows denition model library bottom half shows editable local copy model begin exactly library model shown top half may edit desired note edit top line starting subckt bottom line ends model used instead global library model select check box bottom use local model may subsequently swap global local models time local model stored
numbered parts simplis schematic instance property continue available even select global model time allows freely swap library model modied version note models dened global library may viewed edited way models dened locally f window models dened using lib inc may currently viewed edited
numbered parts simplis section applies simetrixsimplis product simplis works quite different way simetrix spice result models semiconductor devices completely different reason selection devices available place model library simplis mode simetrix mode however simetrix able convert spice models use simplis supported device placed simplis schematic model parameter extraction routine invoked automatically convert spice model simplis model model parameter extraction process simetrixsimplis automatically runs several spice simulations spice model extracts simplis model parameters piecewise linear pwl model parameters extracted resulting device model run simplis conversion spice models simplis models covered help system navigate simplis documentation simplis parts semiconductors
circuit stimulus circuits require form input signal pulse sine wave signals stimuli specied using voltage current source placed schematic usual way number different types source available described following sections
waveform generator used create time domain signal transient analysis generator work simetrix simplis modes operation place one devices select menu place voltage sources waveform generator voltage source place current sources waveform generator current source specify signal source select choose popup menu edit part press f bring dialog box shown simplis simulation mode additional check box see notes
circuit stimulus select wave shape right hand side enter parameters appropriate following notes provide details controls damping describes exponential decay factor sinusoidal waveshapes decay governed expression edampingt delay checked species signal initial value delay period elapsed note parameters specied one way example frequency period edit controls supplied changing one cause updated appropriately applies duty width vertical controls lower half cosine waveshape combined positive delay delay checked function correctly simplis mode simplis simulation mode also see check box titled source idle pop ac analyses checked source disabled pop ac analysis modes
pwl source device used describe piece wise linear source pwl source describe arbitrary wave shape terms timevoltage timecurrent pairs place pwl source select menu place voltage sources pwl source place current sources pwl source edit device select press f edit part popup menu open edit pwl dialog allows enter time voltagecurrent values
circuit stimulus well entering values individually also paste windows clipboard pressing paste button ctrlv values copied clipboard using text editor values may separated spaces tabs commas new lines pwl sources may used simetrix simplis modes note simplis pwl sources limited points larger denitions allowed simetrix mode large pwl denitions pwlfile source efcient see analog device reference simulator reference manual information simplis mode pwl source always held inactive pop ac analyses held constant value dened source
power supplyfixed current source select menu place voltage sources power supply place current sources dc source place xed voltage current source devices work simetrix simplis modes
ac source small signal analysis modes ac sweep transfer function require ac sources input stimulus place ac source select menu place voltage sources ac source ac analysis place current sources ac source also use universal source see ac source simetrix ie simplis simulations sure check enable ac check box universal source
universal source sources described used simetrix simplis modes operation simetrix mode also universal source provides function transient ac dc sources one device addition universal source may used create random noise source place universal source select menu place voltage sources universal source place current sources universal source edit universal source select device press f popup menu edit part display following dialog box
circuit stimulus refer following details tabbed sheet pulse sheet sine sheet noise sheet ac sheet dc sheet text sheet
circuit stimulus pulse sheet selects values pulse waveform values used pulse radio button right box must selected diagram denes pulse waveform timings
circuit stimulus per period pw width tr rise tf fall td delay periodwidth frequencyduty boxes two different ways specifying thing modify one pair others change accordingly
circuit stimulus sine sheet selects values sine wave generator values used sine radio button right box must selected shape waveform described delay voffset delay stop time voffset vpeaketdelaytheta sinfreqt delay time voffset value offset edit box vpeak value peak edit box rms selected vpeak vrms delay value delay edit box theta value theta edit box freq value frequency edit box phase implemented using negative delay value example phase degrees entered delay
freq
circuit stimulus noise sheet enable noise select noise radio button right dialog box source generates random value guiinterval distribution spectrum signal generated approximately frequency equal interval amplitude noise rms volts start time end time values may entered dene interval noise signal active end time zero noise continue end simulation
circuit stimulus ac sheet entries ac sheet used ac analysis sets magnitude phase source ac analysis take effect enable ac check box must checked specication effect analysis modes simetrix require ac specication input referred source noise analysis dc sheet species dc value bias point calculation one sine pulse noise piece wise linear exponential single frequency fm sources also specied value ignored time value used instead
circuit stimulus
circuit stimulus text sheet text sheet may used dene one following pwl denition pwls denition pwlfile denition text sheet may also used dene single frequency fm exponential source using traditional spice syntax refer simulator reference manualanalog device referencevoltage sourceexponential source single frequency fm details pwl denition piecewise linear source may entered text sheet universal source using syntax described applies voltage current sources pwl v v v pair values ti vi species value source vi time ti value source intermediate values time determined using linear interpolation input values
circuit stimulus example produces waveform pwls denition pwls denition allows advanced signal sources created using simple language syntax syntax described example see pwls examples syntax following form pwls timescalefactortimefactor valuescalefactorvaluefactor pwlsspec pwlsspec
circuit stimulus timefactor scales time values denition timefactor valuefactor scales magnitude values valuefactor pwlsspec may one following time value creates single data point time relative current context time value creates single data point time relative previous point repeat n pwlsspec endrepeat repeats pwlsspec n times repeat forever pwlsspec endrepeat repeats pwlsspec forever sin sineparameters end creates sinusoid see table denition sineparameters pulse pulseparameters end creates pulse train see table denition pulseparameters file lename loads denition le lename name contains spaces must quoted sine parameters name description default compulsory freq frequency na yes peak peak value sine
offset offset
delay delay sine starts
phase phase
cycles number cycles use
minpoints minimum number timesteps used per cycle ramp frequency ramp factor
sine value dened follows delay peak sinfpitphasepi offset else peak sinphasepi offset f freq tramp time tref delay time global simulation time tref reference time spec pulse parameters name description default compulsory v offset
circuit stimulus name description default compulsory v positive pulse value
v negative pules value
rise rise time ie time change v v period fall fall time ie time change v v period width positive pulse width periodrisefall period period na yes delay delay start cycles number complete cycles means innity rise fall width period must greater zero delay must greater equal zero pwls examples example pwls repeat forever u u u u u u endrepeat produces repeated signal shown
circuit stimulus example following denes simple grey scale pal test signal pwls repeat forever
u u u u u sin freq
meg cycles peak end u u
u endrepeat example following repeats pwl denition times pwls repeat u u u u u u u endrepeat
circuit stimulus example following describes tone burst signal pwls repeat forever sin peak delay freqk cycles minpoints offset end
endrepeat
circuit stimulus pwlfile denition pwlfile filename performs function normal piece wise linear source except values read le named lename le contains list time voltage pairs text form separated whitespace character space tab new line necessary add continuation character new lines ignored included nonnumeric data contained le also ignored aware numbers engineering format ie using sufxes u e k e recognised pwlfile denition data include values instead use pwls denition form pwls filefilename accept values
digital sources digital pulse digital pulse device creates single shot repetitive pulse digital event driven domain digital analog nodes freely interconnected analog parts may connected efcient use analog pulse generator purpose place digital pulse select menu place digital digital pulse place digital digital pulse open emitter place open emitter version wireored requires pull resistor use menu place digital pulldown select device press f equivalent menu enter parameters required single pulse enter period
circuit stimulus device operation device supplies repetitive single pulse dened period delay width optionally device may specied open emitter output allowing several pulse sources wire ored create complex pulses main model parameters may also specied device line instance parameters case override values specied model control digital signal source digital signal source provides multi bit arbitrary digital signal dened le standard schematic part device dened arbitrary number outputs information see simulator reference manualdigital mixed signal device referencedigital signal source
sources sine tone burst generates sequence sinusoidal bursts user dened number cycles per burst burst frequency tone frequency use menu place voltage sources sine tone burst place device usual way editing device bring dialog parameters parameter description burst freq burst frequency tone freq frequency sinusoidal tone num tone cycles number sinusoidal cycles burst peak peak voltage offset offset voltage points per cycle minimum number time steps sinusoidal cycle increasing number improve accuracy simulation expense simulation speed swept sinusoid generate sinusoidal signal linearly increasing frequency use menu place voltage sources swept sine place usual manner editing device bring dialog parameters parameter description start frequency starting frequency end frequency frequency end ramp interval time taken ramp start frequency end frequency peak peak voltage offset offset voltage
generic parts parameter description points per cycle minimum number time steps sinusoidal cycle increasing number improve accuracy simulation expense simulation speed bidirectional pulse generates symmetrical bidirectional pulse waveform use menu place voltage sources bidirectional pulse place device usual way editing device bring dialog parameters parameter description pp voltage peak peak voltage frequency pulse frequency delay delay start
generic parts explained overview generic parts devices dened one parameters entered user part placed following generic parts available device simplis support ideal transformer yes saturable inductors transformer inductor yes capacitor yes resistor yes potentiometer yes transmission line lossless transmission line lossy innite capacitor innite inductor voltage source yes current source yes voltage controlled voltage source yes voltage controlled current source yes current controlled voltage source yes current controlled current source yes voltage controlled switch
generic parts device simplis support voltage controlled switch hysteresis yes delayed switch parameterised opamp yes parameterised optocoupler parameterised comparator vco device nonlinear transfer function laplace transfer function nonlinear resistor nonlinear capacitor nonlinear inductor analogdigital converter digitalanalog converter digital counter digital shift register nandnororand gates digital bus register
simplis primitive parts following parts available simetrixsimplis product simplis found menu place simplis primitives full details see simplis reference manual device comparator setreset ipop setreset ipop clocked jk ipop dtype ipop toggle ipop latch simple switch voltage controlled simple switch current controlled transistor switch voltage controlled transistor switch current controlled vpwl resistor
generic parts device ipwl resistor pwl capacitor pwl inductor
saturable inductors transformers simetrix supplied number models inductors transformers correctly model saturation models hysteresis parts nearly always custom designed catalogue manufacturers parts semiconductor devices consequently little information needed specify one devices section describes facilities available description models available core materials available models cover range ferrite mpp core materials inductors transformers number windings complete simulation model based library core model generated user interface according winding specication entered placing specifying parts select menu place magnetics saturable transformerinductor see following dialog box
generic parts specify number windings required primary secondary conguration section want single inductor set primary turns secondaries specify number turns winding windings list conguration section also dene positive negative polarity control orientation winding specify coupling factor conguration section coupling factor windings dene different coupling factors winding adding ideal inductors series one windings instances may necessary add coupled inductors series explained detail coupling factor specify core characteristics dene core section number standard core sets preprogrammed selected select core type list top part wish use list wish use variant say different air gap manually enter characteristics clicking manual entry check box values need enter ae effective area le effective length ue relative permeability core material model details models saturable magnetic parts found le coreslb models based jilesatherton magnetic model includes hysteresis effects mpp models use simpler model include hysteresis models dene single inductor derive transformer model user interface generates subcircuit model constructs nonmagnetic transformer using controlled sources inductive element added core gives model inductive characteristics model currently handle core characteristics eddy current losses handle winding artefacts resistive losses skin effect interwinding capacitance proximity effect
ideal transformers ideal transformers may used simetrix simplis modes note simplis operation efcient coupling factors set unity dene ideal transformer select menu place passives ideal transformer open following dialog box
generic parts conguration specify number primaries secondaries specify dene winding turns inductance specify number turns winding list bottom window also set inductance rst primary inductances windings automatically update calculated primary inductance relevant turns ratio may also specify polarity winding polarity winding shown schematic symbol using conventional dot one end winding coupling factor interprimary coupling coupling factor primaries inter secondary coupling coupling factor secondaries primarysecondary coupling coupling factor primary secondary method implementing ideal transformer totally general purpose arbitrarily dene inter winding coupling factors need conguration supported method dene ideal transformer using ideal inductors mutual inductance device simetrix version explained mutual inductors simplis equivalent see simplis reference manual
dc transformers dc transformer model like normal transformer except effect innite inductance work dc zero magnetisation current place dc transformer select menu place magnetics ideal dc transformer open following dialog box
generic parts conguration specify number primaries secondaries specify dene winding turns dene number turns winding list note behaviour part depends ratios turns may also specify polarity winding polarity winding shown schematic symbol using conventional dot one end winding
coupling factor standard user interface saturable ideal transformers provide limited exibility specify interwinding coupling factor majority applications coupling factor important issue standard model sufce applications however relative coupling factors different windings important example yback switched mode supply output voltage sensed auxiliary winding instance best performance achieved sense winding strongly coupled secondary transformer likely different coupling factor various windings use external leakage inductances model coupling factor provide additional exibility one approach set user interface coupling factor unity model nonideal coupling using external inductors cases may necessary couple leakage inductors consider example ecore windings one outer leg two inner leg winding taken would approximately coupling core would leakage inductance two windings centre leg would closely coupled windings model leakage inductances centre windings could coupled using mutual inductor method described next section
mutual inductors specify coupling number ideal inductors using mutual inductor device menu schematic symbol dened line text must added netlist see manual entry simulator commands format mutual inductance line
generic parts kxxxx inductor inductor couplingfactor inductor part reference rst inductor coupled inductor part reference second inductor coupled couplingfactor value denes strength coupling note inductors coupled must k device dene every possible pair examples couple l l together k l l
couple l l l k l l
resistors resistors may used simetrix simplis modes note simetrix mode number additional parameters may specied work simplis must specied dual mode operation required select place passives menu edit value use f select popup menu edit part menu usual display following dialog resistors enter value directly result box use base decade updown controls
generic parts additional parameters press parameters button edit additional parameter associated device temperature coefcients tc tc refer device simulator reference manual details device parameters
ideal capacitors inductors capacitors inductors may used simetrix simplis modes note simetrix mode number additional parameters may specied work simplis must specied dual mode operation required following dialog displayed edit capacitor inductor device value edited manner resistors also supply initial condition denes device behaves dc operating point calculated capacitors either specify device open circuit alternatively specify xed voltage inductors device treated short circuit dene constant current
innite capacitors inductors innite capacitors inductors often useful ac analysis place innite capacitor select menu place passives innite capacitor place innite inductor select menu place magnetics innite inductor innite capacitor works follows dc bias point calculation behaves like open circuit like regular nite capacitor subsequent analysis behaves like voltage source value equal voltage achieved dc bias point calculation innite inductor behaves follows dc bias point calculation behaves like short circuit like regular nite inductor subsequent analysis behaves like current source value equal current achieved dc bias point calculation
generic parts parts allow close feedback loop dc bias point open subsequent analysis innite capacitor built primitive part actually implemented voltage source device innite inductor subcircuit using innite capacitor controlled sources
multilevel capacitors multilevel capacitor four model levels level increases additional parasitic circuit elements added capacitor available version
later used model wide variety capacitor types number type parasitic circuit elements congured model name multilevel capacitor level wquantity simulator device compatible simetrix simplis simulators parts selector menu location simetrix passives capacitors multilevel capacitor us style v parts selector menu location simetrix passives capacitors multilevel capacitor eur style v parts selector menu location simetrix passives capacitors multilevel capacitor nonpolarised v parts selector menu location simplis commonly used parts multilevel capacitor level wquantityversion
symbol library passivessxslb model file simetrix preproclb model file simplis simplisparamlb subcircuit name multilevelcapqty multiple selections multiple devices selected edited simultaneously editing multilevel capacitor congure multilevel capacitor follow steps double click symbol schematic open editing dialog parameters tab choose model level make appropriate changes elds described table image
generic parts label levels units description capacitance f capacitance value leakage resistance leakage resistance across capacitor series resistance esr equivalent series resistance esr series inductance esl h equivalent series inductance esl esl shunt resistance shunt resistance parallel esl resistance included limit maximum frequency response parasitic esl maximizes simulation speed simplis mode click calc calculate value use ic na checked model uses specied initial condition unchecked capacitor initial condition open circuit initial condition v initial voltage capacitor time use quantity na checked model uses specied quantity capacitors parallel quantity na number capacitors parallel note maximize simulation speed using simplis place single symbol specify value parameter instead placing multiple capacitors model builtin provisions setting monte carlo parameters parameters except esl shunt resistance montecarlo parameters entered themonte carlo parameters tab shown dene monte carlo parameters follow steps click monte carlo parameters tab make appropriate changes elds described table image
generic parts label levels units description capacitance sigma tolerance capacitance value leakage resistance sigma tolerance leakage resistance across capacitor series resistance esr sigma tolerance equivalent series resistance esr series inductance esl sigma tolerance equivalent series inductance esl probability distribution function na choices function available parameter following none parameter tolerance value xed monte carlo simulations gauss parameter gaussian distribution specied sigma tolerance return values greater less sigma tolerance truncated gauss gauss truncates values outside sigma tolerance uniform parameter uniform distribution within specied sigma tolerance worst case parameter random values nominal value specied sigma tolerance multilevel capacitor model levels multilevel capacitor four levels model level increases additional parasitic circuit elements added model diagram shows circuit used four levels
generic parts following table summarises model parameters parameter levels description cap linear capacitance rlk leakage resistance resr equivalent series resistance lesl equivalent series inductance resl esl shunt resistance quantity implementation simplis mode multilevel capacitor model two quantity parameters useqty qty specify number capacitors parallel conguring parameters minimizes number reactive circuit elements model therefore provides maximum simulation speed implementation quantity parameter uses dc transformer technique capacitors terminal current multiplied constant using current controlled current source cccs technique effectively divides resistance inductance values quantity parameter qty
generic parts multiplies capacitance value circuitry added useqty parameter set schematic quantity implementation level multilevel capacitor shown quantity implementation simetrix mode simetrix quantity parameter implemented parameter common primitive spice components improves simetrix simulation speed correctly scales resistances noise analysis
electrolytic capacitors electrolytic capacitor model superseded multilevel capacitor electrolytic capacitor still available parts selector locations passives capacitors simple legacy passives capacitors detailed legacy electrolytic capacitor models shown
generic parts simple model detailed model passives capacitors simple legacy
generic parts
potentiometer potentiometer may used simetrix simplis modes place select menu place passives potentiometer device edited usual manner fedit part popup display enter resistance wiper position required check run simulation position change wish new simulation run immediately wiper position changes potentiometers wiper position may also altered using shiftup shiftdown keys device selected edit incdec step size alter step size used feature
lossless transmission line select menu place passives trans line lossless press hot key editing usual way display enter characteristic impedance z delay indicated
generic parts
lossy transmission line select menu place passives trans line lossy rlgc editing usual way display lossy lines must dened terms per unit length impedance characteristics lossy line model implemented subcircuit uses laplace transfer device see laplace transfer function details
ac table sparameters yparameters ac table device may used implement nport network dened using parameters read touchstone format le note part implements frequencydependent characteristics smallsignal analyses actfnoise analysis transient analysis behaves like simple gain block place ac table device select menu place passives sparameter lookup table device prompted le extension snp ynp n number ports simetrix create symbol implement required number ports placed normal way hard limit number ports allowed although practical upper limit due numerical performance considerations
fixed voltage current sources see circuit stimulus
controlled sources four types found menu place controlled sources voltage controlled voltage source vcvs voltage controlled current source vccs current controlled voltage source ccvs current controlled current source cccs
generic parts variety uses vcvs implement ideal opamp current controlled devices monitor current voltage controlled devices convert differential signal single ended require one value dene gain edit value usual way presented dialog similar used resistors capacitors inductors without parameters button
voltage controlled switch essentially voltage controlled resistor two terminals resistance two control terminals place one schematic place analog functions switch editing using f equivalent menu displays voltage voltage control voltage voltage resistance resistance else control voltage voltage resistance resistance voltage voltage control voltage voltage resistance resistance else control voltage voltage resistance resistance control voltage lies voltage voltage resistance somewhere resistances using law assures smooth transition states refer simulator reference manualanalog device referencevoltage controlled switch
switch hysteresis alternative switch device available abruptly switches states rather following continuous vi characteristic device used simetrix simplis although behaviour slightly different switching thresholds governed hysteresis law used simetrix simulator state change controlled occur dened time period edited device placed schematic menu place analog functions switch hysteresis parameters
generic parts parameter description resistance switch resistance state resistance switch resistance state threshold average threshold switches state value plus half hysteresis switch state value less half hysteresis hysteresis difference upper lower thresholds switching time time switch takes switch note total time point switch starts switch point fully switched initial condition sets initial state switch start simulation need control switch times switch times independently use delayed switch model see delayed switch
delayed switch implements voltagecontrolled switch dened delay model used implement relays switch action similar switch hysteresis described delayed switch model functionality hysteresis switch addition time delay parameters separate parameters switch switch times unlike hysteresis switch device exact simplis equivalent device placed schematic menu place analog functions delayed switch parameters parameter description resistance switch resistance state resistance switch resistance state threshold low switch switches control voltage drops threshold threshold high switch switches control voltage rises threshold delay delay high threshold reached switch starting switch delay delay low threshold reached switch starting switch switching time total time switch takes switch switching time total time switch takes switch older versions model include switching time parameters wish update delayed switch already placed schematic include parameter use editadd properties menu change parammodelname property delayedswitchv
parameterised opamp implements operational amplier available menu available menu place analog functions parameterised opamp dened parameters listed
generic parts parameter units description offset voltage v input voltage needed zero output bias current average input currents offset current difference input currents openloop gain voutvin vin simple ratio db gainbandwidth hz gain x bandwidth product ndorder rolloff ratio gbw nd order rolloff frequency expressed ratio gainbandwidth product gbw eg gbwmhz value secondorder rolloff frequency mhz enter disable nd order rolloff pos slew rate vs slew rate positive output transistions neg slew rate vs slew rate negative output transistionssimplis simetrix negative slew rate positive slew rate cmrr common mode rejection ratio expressed straight ratio db psrr power supply rejection ratio expressed straight ratio db input resistance differential input resistance output res series output resistance simetrix interacts quiescent current output resistance must satisfy rout
iq iq quiescent current satised high risk model converge limitation consequence way output stage implemented limitation apply simplis quiescent curr supply current load must satisfy relation shown output res headroom pos v difference positive supply voltage maximum output voltage headroom neg v difference minimum output voltage negative supply rail offset v statistical v montecarlo analysis species sigma offset voltage tolerance simetrix
parameterised optocoupler implements optically isolated coupler available menu place analog functions parameterised optocoupler dened two parameters described following table parameter description current transfer ratio ratio output current input current
generic parts parameter description rolloff frequency db point
parameterised comparator implements simple differential comparator available menu place analog functions parameterised comparator parameters dened following table parameter description input resistance differential input resistance output resistance series output resistance hysteresis difference switching tresholds output switch lowhigh differential input voltage rises half hysteresis output switch highlow differential input voltage falls half hysteresis output low voltage unloaded output voltage low state output high voltage unloaded output voltage high state delay delay threshold crossing start output changing state risefall time output rise fall time
vco implements simple voltage controlled oscillator digital output place vco schematic using menu place digital generic vco analog digital parameters parameter description frequency vc output frequency control voltage zero gain hzv change frequency vs change input voltage
veriloga library simetrix pro simetrix elite may also use one veriloga implemented devices available place analog functions veriloga library devices dened using veriloga language veriloga code devices may found supportvalibrary directory simetrix root currently veriloga library devices described following paragraphs voltage controlled delay implements variable analog delay
generic parts device three parameters dened table double click device edit parameters parameter description max delay maximum delay device may provide seconds voltage minimum delay input voltage minimum delay ie zero voltage maximum delay input voltage maximum delay delay minimum maximum voltages calculated following linear characteristic fixed delay implements xed analog delay device single parameter dening delay seconds double click device edit sinewave vco implements sinewave voltage controlled oscillator four parameters dened parameter description amplitude peak amplitude sine wave centre frequency frequency zero volts input gain hzvolt change frequency volt change input minimum steps per cycle minimum number time points per cycle simulator force time points ensure cycle least number specied pulse width modulator implements voltage controlled pulse width dened parameters follows parameter description frequency frequency pulse input low voltage voltage zero duty cycle input high voltage voltage maximum duty cycle output low voltage low voltage output pulse output high voltage high voltage output pulse maximum duty cycle maximum duty cycle may higher
""
generic parts
iso waveform sources range waveform sources designed testing automotive electronics available simetrix simulations parts implemented veriloga require simetrix pro simetrix elite license description sources available reference description iso pulse high voltage negativegoing transient test disconnection inductive loads iso pulse high voltage positivegoing transient due sudden interruption currents device connected parallel device test due inductance wiring harness iso pulse b transients due motors acting generators ignition switched iso pulse negativegoing high frequency high voltage transients occur result switching processes iso pulse b positivegoing high frequency high voltage transients occur result switching processes iso
swept frequency source hz khz representing residual alternating current direct current supply iso
slow decrease increase supply representing battery discharge charge iso
negative going pulse arising melting fuse element another circuit iso
succession increasing negativegoing pulses test reset behaviour iso
waveform representing supply voltage electric starter cranking iso
test positive going high voltage transient simulates load dump transient occurring event discharged battery disconnected alternator generating charging current loads remaining alternator circuit moment iso
test transient clamped place edit sources sources available part selector part selector open part selector select menu view show part selector navigate sources iso source alternatively open search dialog type iso search term select desired source note source v v versions parts least one editable parameter denition parameter dened relevant iso standard document
generic parts
generic adcs dacs generic data conversion devices available menus place digital generic adc place digital generic dac devices implemented using simulators adc dac models details refer simulator reference manualdigital mixed signal device referenceanalogdigital converter simulator reference manualdigital mixed signal device referencedigitalanalog converter controls boxes explained number bits resolution converter values
creating models convert time adc time start convert active rising edge data becoming available max conversion rate adc max frequency start convert period f must less equal convert time output slew time whenever input code changes output set trajectory reach target value time specied value offset voltage selfexplanatory range full scale range volts
generic digital devices number generic digital devices provided place digital generic menu automatically create symbol using basic spec provided entries dialog box functions provided counter shift register nand gates bus register
arbitrary nonlinear passive devices place part looks exactly like linear counterpart difference try edit value f menu edit part prompted enter expression case resistor capacitor relates value applied voltage inductor expression relates inductance current resistors capacitors terminal voltage referred equation vn inductors devices current referred iv
creating models
overview simetrix provides soft recovery diode model use power electronics circuits model spice standard models available device manufacturers sources therefore also developed soft recovery diode parameter extractor allows creation soft recovery diode models data sheet values parameter extraction tool works directly within schematic environment may used similar manner parameterised devices parameterised opamp however also option save particular model device library making available standard part addition simetrix offers tool creating saturating inductor model data sheet inductance vs current curve
creating models
creating soft recovery diode models select menu place create model soft recovery diode see dialog box enter required specication dc forward bias spec reverse recovery specication capacitance sections see technical details specications select save schematic symbol wish store specication model parameters schematic symbol allow modify specication later select save model library denition written library le installed parts library make new model available standard part able subsequently modify reentering specication manually choose option must specify device name box click ok place diode schematic selected save model library model le device also created point le saved user models directory located documentssimetrixmodels soft recovery diode specication parameter extractor allows specication three important characteristics diode dc forward bias voltage reverse recovery capacitance currently reverse leakage breakdown characteristics modelled specify forward bias characteristics simply enter coordinates two points graph showing forward drop versus diode current found data sheets choose values extremes low current value essentially determine value parameter high current value denes series resistance device
creating models reverse recovery characteristics explained following diagram values quoted data sheets vary manufacturers value given tr sometimes taken reverse peak rather zero crossing case calculate time zero crossing reverse peak using values irm difdt arrive value tr shown data sheets give value irm cases best done enter intelligent guess capacitance measured value zero bias unfortunately always quoted data sheets case either enter zero may speed simulation times enter estimated value course alternative would measure capacitance actual device notes soft recovery diode model soft recovery diode use standard spice model model based work university washington full details model found simulator reference manual
creating power inductor models power inductor model models effects saturation series shunt resistance saturation effects entered lookup table may optionally dened digitising graph image
creating models technical details underlying simulation model please refer simulator reference manualanalog device referenceinductor table lookup power inductor specication create power inductor model select menu place create model power inductor show following dialog box various elements dialog box explained
creating models dialog element description il table table values denes inductance vs current table dene single quadrant power inductor model implementation automatically generate inductance values negative current enter values manually paste values external source digitise graph image digitise graph image click load image invoke data sheet curve digitiser see digitising data sheet curves complete data data sheet curve digitiser entered il table series resistance series resistance inductor shunt resistance parallel resistance applied across inductor initial condition enabled inductor behave like current source dc operating point calculation current specied disabled inductor short circuit operating point calculation smoothing sets smoothing function inductor model points entered il table may optionally smoothed using mathematical function options smoothing points dened table joined straight lines local cubic fits cubic points derivative average slope either side points continuous second derivative cubic spline option cubic spline boundary conditions lower dldi upper dldi continuous second derivative cubic spline option cubic spline boundary conditions lower dldi upper dldi slope nal segment continuous second derivative cubic spline option usually produces best results sometimes fail simulation error message error instance ref fit spline table using smooth strat case try either cubic spline option local cubic save options use save schematic symbol save model parameters directly schematic symbol use save model library enter model name save model model library available placed schematics using menu place model library note able make subsequent edits model using option
creating models
digitising data sheet curves graph data extraction tool used extract values datasheet curves imported use within models pro elite versions simetrix simetrixsimplis one use power inductor model also available freestanding tool digitise graph found image le free standing version initiated using schematic menu tools digitise data sheet curve directly script command graphimagecapture use tool rst image graph required graphs often come manufacturer data sheets websites cases may able copy images direct website may need use screen capture pdf image save image le tool supports images png jpg bmp gif formats png preferred format image requirements tool designed handle many different layouts graphs quality images tool accept graphs single multiple plotted data series linear logarithmic axes grid marker lines poor quality text text labels required tool operate graphs light dark backgrounds tool perform poorly may fail give reasonable values graphs angle step grid boundary detection rst step tool determine boundary graph along grid lines demonstration use following image
creating models graph want capture data grid lines single data series image loaded tool make initial estimate graph bounds grid lines might bounds highlighted blue whilst grid lines highlighted red shown next gure
creating models view rst step window example image rst loaded many cases action users part required step continuing step ensure boundary graph highlighted blue many grid lines possible highlighted red image black background colour inversion tick box unchecked requirements ensuring bounds graph correct important used nal data point extraction getting grid lines fully identied essential makes user interaction step easier make adjustments boundary grid line identication number sliders right window grid line identication control sensitive selection grid lines horizontal vertical plane moving sliders left selection becomes sensitive greater number lines detected whilst moving right cause less grid lines identied adjusting sensitivity bars lead grid lines detected false detections occurring graph boundary control position boundary lines consequently region interest within graph useful correcting issues boundary detection failed also restricting part graph interested generating data want extract data part graph note lines displaying try resizing window horizontally due image compression displaying resulting images step complete press continue
creating models step plot detection second step pick curve want extract data grid lines successfully detected bounds set begin preview similar shown next gure view second step window completing step currently curve marked use mark curve use press button add points click along line want use red square placed point added default points snap curve nearest clicked need highly precise click disable snapping behaviour uncheck snapped check box add points red line preview line used generate data shown next gure red line snap curve although solution may look obvious full automaticdetection single line case presented cases multiple lines image lower quality automation would highly error prone instead adding initial points add points places red line match curve want capture
creating models line detection three points added red line shows line data obtained nal step line currently match actual curve graph shown white meaning points required added places curves match generally require many points placed obtain red line well resembles curve want capture shown next gure many need place many points along regions graph consistent behaviour continuous curves straight regions areas greater precision required may require several closely positioned points
creating models completed line detection points spaced majority curve dense ends curve due curve levelling regions point added erroneously press stop adding button press remove point button click point want remove remove point behaviour works one point time multiple points removed remove point button need pressed time whilst curves produced method generally provide good representation simply adding points alone may situations red curve generated smooth enough points cases curve smoothness slider used make curve smoother usage slider remain default position fully left moving slider fully right make curve become smooth slider fully right curve become straight line curve detection complete press continue step axis settings bounds graph curve selected nal step determine values axes shown next gure nal step show originally loaded graph image along graph bounds highlighted blue selected curve red either bounds curve appear correct go back previous stages update
subcircuits completed line detection points spaced majority curve dense ends curve due curve levelling regions submit values axes set minimum maximum values graph bounds text boxes right graph image example minimum value horizontal axis maximum vertical minimum maximum either graphs logarithmic axis select logarithmic scale check box finally determine granularity points generated adjusting generated points slider moving slider left increases number points indication samples taken seen blue ticks horizontal axis stages complete press complete button button disabled messages appear stating stages completed required complete button pressed dialog return vectors data points extracted curve
subcircuits
overview subcircuits method dening circuit block referenced number times single netlist line schematic device subcircuits method used dene many device models opamps also underlying mechanism hierarchical schematic entry system dont need know anything subcircuits unless wish dene device models perhaps build library tested blocks general distribution wish enter circuit
subcircuits modular manner hierarchical schematic entry probably appropriate method see hierarchical schematic entry details section explains create subcircuit schematic reference one netlist schematic subckt control syntax see command reference chapter simulator reference manual
creating subcircuit schematic subcircuits must dened text form netlist however schematic editor used generate netlist create subcircuit schematic need identify nodes connected externally done using module port symbol used hierarchical schematic entry see hierarchical schematic entry procedure dening subcircuit follows draw circuit using schematic editor including module port symbols identify external connections create netlist circuit describe procedure use example stage draw schematic circuit simple opamp fact circuit ctitious sxoa opamp used tutorial terminal symbols eg
subcircuits connections outside world module port symbol found schematic menu hierarchy place module port important use normal terminal symbol recommended model denitions included subcircuit denition makes subcircuit selfcontained referenced models device library import schematic automatically using schematic menu simulator import models placed simulator command window opened pressing f alternatively enter command window manually stage netlist circuit create subcircuit netlist select schematic menu simulator create netlist subcircuit rst prompted subcircuit name name also used le name extension mod entering name asked specify subcircuit pin order close box subcircuit created text displayed
calling subcircuit schematic call subcircuit schematic must choose create symbol symbol must number pins ideally would also pin order words order nodes subckt line would pin order symbol matching subckt node order symbol pin order absolutely essential makes things much easier method overcoming problem using mapping property explained section properties creating symbols schematic covered creating schematic symbols overview symbol must following properties see properties
subcircuits property name property value purpose model x ensures netlist line starts x identies part subcircuit hidden protected value subcircuitname name used reference subcircuit denition changed user placing schematic ref componentreference eg u automatically allocated placing symbol schematic symbols possess properties anyway important fact model property must set x dening symbol scratch properties dened one go graphical symbol editor propertypin add standard properties use subcircuit denition simetrix must able nd various places put means telling simetrix location choices place denition directly simulator command f window see manual entry simulator commands placed location read unconditionally simetrix need search put separate le pull schematic inc control see simulator reference manualcommand referenceinc placed simulator command f window read unconditionally put library le reference schematic lib control see simulator reference manualcommand referencelib placed simulator command f window similar efcient library many models used schematic devices required read put library le install using procedure described full model installation procedure make device globally available schematics also install model library browser system topics covered device library parts management also subject tutorial place device schematic nd symbol menu place symbol library place normal way placed select device press shiftf enter subcircuits name installed device model library browser system mentioned choice able place device pressing controlg selecting device appropriate category model library browser system also provides simple use means overcoming problem mentioned occurs symbols pin order match subcircuits node order explained associating multiple models symbols passing parameters pass parameters subcircuit subject covered detail simulator reference manualsimulator devicessubcircuitspassing parameters subcircuits specify parameters subcircuit device schematic must enter values manually using shiftf enter values subcircuit name eg suppose wished specify parameters freqk q enter select subcircuit press shiftf append subcircuit name freqk q add params emphasise parameters start also compatibility simulators eg
special parts params freqk q note information passing parameters hierarchical block please refer passing parameters hierarchy
special parts
initial conditions initial conditions force node xed voltage current calculation dc bias point two types initial condition namely soft hard soft initial conditions apply voltage xed resistance hard initial conditions apply voltage directly without resistance place soft initial condition select menu place connectors initial condition place device desired location select press f enter suitable voltage place hard initial condition select menu place symbol library select device connections ics nodesets initial condition hard place device desired location select press f enter suitable voltage notes soft initial conditions implemented using ic control also correctly apply initial condition skip dc bias point specied transient analysis driving resistance soft initial condition default altered using icres simulator option add options icresnnn f window see manual entry simulator commands hard initial conditions implemented using voltage source dcop parameter specied feature proprietary simetrix compatible spice simulators refer simulator reference manualanalog device referencevoltage source information voltage sources dcop parameter
nodesets nodesets used help convergence also coerce particular state circuits one possible dc solution information nodesets given simulator reference manualcommand referencenodeset place nodeset select menu place connectors nodeset place device desired location select press f enter suitable voltage
parameters expressions
parameters expressions specify device model parameters using arithmetic expression containing user dened variables variables may dened using param simulator control must placed netlist globally script using let command variable may also swept using parameter sweep mode swept analyses stepped multistep analyses complete documentation subject found simulator devices chapter simulator reference manual brief details use expressions schematic based design explain example
example circuit two pole lowpass lter c xed rr design equations rrpifcalpha ccalphaalpha freq cut frequency alpha damping factor expressions device values must entered enclosed curly braces running circuit must assign values variables done one three methods param control placed netlist let command command line script using script must prex parameter names global sweeping value using parameter mode swept analysis multistep analysis expressions device values must entered enclosed curly braces suppose wish khz roll lter using param control add lines netlist using f window see manual entry simulator commands param f k param alpha param c n using let command would type
parameters expressions let fk let alpha let cn wanted alter damping factor
need type new value let alpha
rerun simulator execute let commands within script prex parameter names global eg let globalfk many cases param approach convenient values stored schematic example passing parameters subcircuits lter example implemented subcircuit different values parameters freq alpha c could passed instance subcircuit allows several lters differing rolloff frequencies damping factors quickly drawn set values parameters instance subcircuit appending expressions value property symbol main circuit separated eg chapter analog behavioural modelling
introduction analog behavioural modelling process creating analog device description behaviour rather lowlevel design simetrix offers three way create analog behavioural models veriloga modelling veriloga compiled language used create sophisticated analog devices dened using nonlinear equations frequency domain denitions timedomain events features information refer veriloga manual nonlinear transfer function single device singleended differential output generates voltage current expressed function arbitrary number voltage current inputs see nonlinear transfer function laplace transfer function denes linear device frequency domain using laplace transform variable see laplace transfer function
nonlinear transfer function select menu place analog behavioural nonlinear transfer function displays
nonlinear transfer function may specify equation denes output voltage current terms number input voltages currents input voltages specied form va vab b may arbitrary name choice input currents specied form ia completion simetrix generate schematic symbol complete input voltages andor currents reference equation need specify many input voltages currents wish use simetrix automatically determine equation well input voltage currents also reference output voltage current equation single ended output voltage accessed using vout differential output voltage accessed using voutpoutn specify output voltage may also access current owing using iout example expression shown vvinavinbiiin multiplies voltage current together could used monitor power two terminal device shown following schematic
nonlinear transfer function arb device created nonlinear transfer function menu arboutp carry voltage equal power dissipation r
expression expression entered denes output device terms inputs expressions generally comprise following elements circuit variables parameters constants operators functions look tables described following sections circuit variables circuit variables allow expression reference input voltages currents voltages form vnodename vnodename nodename
nonlinear transfer function nodename nodename input connectionsthe second form returns difference voltages nodename nodename special names outp outn may used access voltage output use single ended output conguration outp andor outn differential output conguration currents form isourcename sourcename name input current output voltage congurations use iout access output current device example iout implements ohm resistor device congured differential output voltage parameters expression may use number parameters local global local parameters dened local parameters edit box right hand side global parameters must dened within schematic usually f window enter local parameters enter one denitions form nameexpression local parameters edit box expression may constant expression referring local global parameters expression may contain circuit variables eg vin comment lines may entered must start builtin parameters number parameter names assigned simulator parameter name description time resolves time transient analysis resolves otherwise including pseudo transient operation point algorithm temp resolves current circuit temperature celsius hertz resolves frequency ac sweep zero analysis modes ptaramp resolves value ramp pseudo transient operating point algorithm otherwise value resolves constants apart simple numeric values arbitrary expressions may also contain following builtin constants constant name value description pi
e
e true
""
nonlinear transfer function constant name value description false
e charge electron coulombs boltz
e boltzmanns constant operators listed listed order precedence precedence controls order evaluation higher precedence operator description digital logical unary minus raise power multiply divide plus minus comparison operators equal equal digital see digital see logical logical test trueexpr falseexpr ternary conditional expression see comparison equality logical operators boolean nature either accepting returning boolean values boolean value either true false false dened equal zero true dened equal zero comparison equality operators return
result operation true otherwise return arguments equality operators always expressions guaranteed exact value eg boolean expression return value functions sgn operator example return true arguments exactly equal following never used vn
vn may ever exactly
may chance
operators intended used function described ternary conditional expression digital operators operators considered obsolete may supported future versions simetrix operators implement logic operations analog domain
nonlinear transfer function continuous nature ternary conditional expression form testexpression trueexpression falseexpression value returned trueexpression testexpression resolves nonzero value otherwise return value falseexpression functionally function described functions table functions function description absx x acosx arccosx cosx acoshx coshx asinx arcsinx sinx asinhx sinhx atanx arctanx tanx atanxy tanxy valid atanhx tanhx cosx cosx coshx coshx ddtx dxdt expx ex floorx intx next lowest integer x ifcond x maxslew cond true result x else result maxslew rate change result slew rate controlled see function iffcond x maxslew ifcond x maxslew limitx lo hi x lo result lo else x hi result hi else result x limitsx lo hi sharp limit smoothed corners sharp parameter denes abruptness transition higher number gives sharper response limits gives better convergence limit see limits function lnx lnx x result
lncoshx lncoshx r tanhxdx logx logx x result logx logx x result maxx returns larger x minxy returns smaller x pwrxy xy
nonlinear transfer function function description pwrsxy x xy x xy sdtx r xdt sgnx x x x sinx sinx sinhx sinhx sqrtx x x x x stpx x x tablexxypairs lookup table refer lookup tables tablexxxypairs table except end points extrapolated refer lookup tables tanx tanx tanhx tanhx ux stpx urampx x x x monte carlo distribution functions following functions return randomly generated value running monte carlo analysis used dene component tolerances name distribution lot distribution user dened distribution distributionl user dened distribution yes ud alias distribution udl alias distributionl yes gauss gaussian gaussl gaussian yes gausstrunc truncated gaussian gausstruncl truncated gaussian yes unif uniform unifl uniform yes wc worst case wcl worst case yes gausse gaussian logarithmic gaussel gaussian logarithmic yes unife uniform logarithmic unifel uniform logarithmic yes wce worst case logarithmic wcel worst case logarithmic yes
nonlinear transfer function full discussion use monte carlo distribution functions given simulator reference manualmonte carlo sensitivity worstcasespecifying tolerances function ifcondition truevalue falsevalue maxslew result condition nonzero result truevalue else result falsevalue maxslew present greater zero result slewrate limited positive negative directions value maxslew situations example truevalue falsevalue constants result function discontinuous condition changes state lead nonconvergence lower bound timestep cases maxslew parameter included limit slew rate providing controlled transition truevalue falsevalue viceversa simulator setting options discontinuousifslewratemaxslew provided simetrix automatically apply maxslew parameter occurrences function truevalue falsevalue constants provides convenient way resolving convergence issues thirdparty models make extensive use discontinuous expressions note discontinuousifslewrate option also applied conditional expressions using cstyle condition truevalue falsevalue syntax limits function limitsx low high sharp limits function similar limit provides smooth response corners leads better convergence behaviour behaviour shown
nonlinear transfer function limits function follows equation limitsx low high sharp
lncoshv lncoshvv low high v sharphighlowxlow v sharphighlowxhigh v sharphighlow lookup tables expressions may contain number lookup tables allows transfer function device specied according say measured values without obtain mathematical equation lookup tables specied terms x value pairs describe piecewise linear transfer function three ways create lookup table
nonlinear transfer function method syntax form tablexypairsinputexpression xypairs sequence comma separated pairs constant values dene input output values table pair rst value x input value second output value explicit numeric constants may used even internal constants pi may used inputexpression expression dening input x value table method syntax form tableinputexpression xypairs inputexpression expression dening input x value table xypairs sequence comma separated pairs values dene input output values table pair rst value x input value second output value unlike method values need literal constants may expressions containing parameters circuit variables reference input voltages currents table function retains value end point x values beyond range table example last point table function input greater give output value references circuit variable expression table function used must ultimately evaluated arbitrary source method syntax form tablexinputexpression xypairs inputexpression expression dening input x value table xypairs method except outofrange points extrapolated nal segment see table lookup example method efcient handling large tables hundreds values however method generally exible recommended choice applications method also compatible simulators whereas method proprietary simetrix example see table lookup example
examples table lookup example following arbitrary source denition implements soft limiting function using method table
vn using method
laplace transfer function tablevn
using method tablexvn
resulting transfer functions illustrated following picture
veriloga implementation simetrix pro simetrix elite may select compile binary using veriloga option build denition device using veriloga language compile binary dll process takes place run simulation benet using veriloga wider range functions available complex denitions also performance benet refer veriloga manual details available functions
laplace transfer function
laplace transfer function
overview laplace transfer function device implements linear device dened frequency domain laplace transform example laplace transform denes rst order low pass lter exps denes second delay simetrix laplace transfer function device features two different methods implementation namely lumped network convolution lumped network implementation fast efcient may used transfer functions represented polynomial form convolution method general purpose model wide range transfer functions high performance achieved using fast fftbased convolution method
user interface selecting menu place analog behavioural laplace transfer function brings following dialog operation various controls described denition see laplace expression delay adds delay seconds requires convolution method equivalent multiplying transfer functions expdelays frequency scale factor multiplier frequency device type transfer function expression denes outputinput impedance vi two terminal device expression denes voltagecurrent admittance iv two terminal device expression denes currentvoltage input input conguration transfer function
laplace transfer function output output conguration transfer function implementation see implementation convolution options convolution size increase value increase upper frequency limit slow simulation increase memory consumption memory usage single device approximately n bytes n value entered note memory partly shared multiple devices upper frequency order nt simulation time example simulation time ms n upper frequency limit region mhz higher frequencies gradually attenuated well increasing memory consumption higher values convolution size slow simulation become signicant n exceeds increases markedly higher values advanced options tab displays following error control congures timestep control algorithm rapidly changing inputs time step must kept small retain good accuracy parameters entered control mechanism diagnostics check box enable diagnostic runtime messages provide information extraction impulse response
laplace transfer function impulse extraction method parameters controlling extraction impulse response try methods methods attempted sequence analytic attempt analytic method inverse fft attempt inverse fft method stehfest attempt stehfest method size inverse fft power using longer inverse fft extract impulse response increase accuracy results especially impulse response decays slowly
laplace expression laplace expression denes behaviour device frequency domain example denes simple single pole lowpass lter expression may contain arithmetic operators number functions described following sections aware expression physically realisable example exps denes negative delay device whose output responds input future operators means raise power lumped network implementation power must integer nonintegral powers may entered convolution implementation constants decimal number following normal rules spice style engineering sufxes accepted variable raised power using example power integer may omitted example functions following functions may used convolution mode function syntax description sqrtx x expx ex lnx logex logx logx sinx sinx cosx cosx
laplace transfer function function syntax description tanx tanx acosx cosx asinx sinx atanx tanx sinhx sinhx coshx coshx tanhx tanhx asinhx sinhx acoshx coshx atanhx tanhx atanxy tan x powxy xy filter response functions filter response functions may used lumped network implementation convolution implementation described following table function syntax filter response bessellporder cutoff bessel lowpass besselhporder cutoff bessel highpass butterworthlporder cutoff butterworth lowpass butterworthhporder cutoff butterworth highpass chebyshevlporder cutoff passbandripple chebyshev lowpass chebyshevhporder cutoff passbandripple chebyshev highpass order integer specifying order lter maximum limit practice orders larger tend give accuracy problems cutoff db frequency hertz passbandripple chebyshev passband ripple spec db lookup tables frequency response system may dened tabular form using lookup tables lookup table consists sequence values arranged triplets triplet form frequency value value value value dene magnitude phase various ways described variants lookup table described
laplace transfer function function name value value table db phase degrees tablem magnitude phase degrees tabler db phase radians tablemr magnitude phase radians tableri real part imaginary part example tablem
denes response gain phase shift degrees
hz hz hz hz gain falls
phase shift remaining degrees hz hz gain falls
phase changes degrees real life possible implement characteristic behaviour noncausal however implemented suitable delay added characteristic delay may added dene laplace transfer function dialog box denition section see delay entry alternatively may added laplace expression using expdelays eg tablem
exps adds second delay ease reading triplet table may placed separate line prexing line character eg tablem
""
interpolation dened frequency points laplace transfer function nds magnitude phase using interpolation interpolation performed logarithmically magnitude data values outside table frequency range dened respective end points example magnitude phase shown
laplace transfer function parameters parameters dened param may used laplace expressions currently convolution implementation selected lumped network implementation use parameters underlying simulator device dene expression terms numerator denominator coefcients refer sdomain transfer function block simulator reference manual details
device type transfer function expression denes outputinput impedance vi two terminal device expression denes voltagecurrent admittance iv two terminal device expression denes currentvoltage
implementation describes method simulator uses implementation laplace expression two choices lumped network laplace transform implemented using network integrators
laplace transfer function convolution laplace transform implemented convolving impulse response laplace transform input signal see details lumped network diagram shows conguration used third order network method implement quotient polynomials variable expression reduced quotient polynomials expressions fast efcient method implement expressions containing arbitrary functions squareroot exponentials laplace expressions must implemented using convolution method convolution general purpose method implement wide range laplace transforms frequency domain linear system may represented v outs v insfs fs transfer function time domain system may represented v outt v int ft ft impulse response fs convolution operator
laplace transfer function method challenging implement simple convolution applied simulation data raw form algorithm means number computations required step proportional square number steps practice becomes unacceptably slow time steps simetrix overcomes performance limitation using fft based fast convolution method computation speed log n although dramatically faster algorithm requires data presented xedinterval steps effect placing upper frequency limit actual upper frequency limit arbitrarily increased increasing number steps value n expense speed memory consumed practice default settings work well applications give good performance accuracy perform convolution simulator must also extract impulse response laplace transform simetrix three methods analytical matches laplace transform known analytical solutions example impulse response simetrix automatically detect known laplace transforms inverse fft calculates inverse fourier transform laplace expression general purpose method applied widerange laplace transforms however condition impulse response must decay zero time interval stehfest method method calculate inverse laplace transform sometimes method works slowly decaying transforms fail inverse fft method
impulse response problems impulse response extraction convolution method impulse response laplace transfer function must extracted mentioned three methods attempted inverse fft method stehfest methods approximate nature reason result method tested test fails impulse response rejected another method attempted methods fail simulation abort transfer functions decay slowly likely fail inverse fft method method requires impulse response decay zero nearly zero stehfest method also fails problem sometimes resolved increasing inverse fft size increases duration inverse fft evaluated providing longer time decay many situations impulse response extraction fails transfer function noncausal means response negative time noncausal transfer functions made causal adding delay impulse response cache impulse response cached speed subsequent simulations response cache located cusersloginnameappdataroamingsimetrix technologiessimetrixlaplacecache loginname name used log system deleted time cache size limited mbytes default changed using option variable
laplace transfer function laplacecachesizembytes type set laplacecachesizembytesnnn command line set new value impulse response analytical extraction impulse response analytical extraction attempts match transfer function one following patterns parameters b c etc represent constant values laplace expression impulse response abs ab bs bt abs c abecbt bs c ectb bt p abs c ectb bt bs cs et pqp et pqp p p q p cb q db aebs ab absc atc bc bs c ds gs f etargetargpuquv arg upetargetarg p ba q ca u gd v fd arg u v arg arg u arg arg u b cs ds f c q uarg arg u varg arg u v q ba u dc v fc arg et uvu arg et uvu b cs edtcbc ad c c b cs tety p ac dc ba dc ba bessel functions
laplace transfer function analytic matching algorithm attempt match partial expressions well whole expression combined addition subtraction multiplication example exps matched product exps respectively impulse responses et two impulse responses convolved yield nal result note succeeds partial expressions matched analytically exploit method ensure expression entered manner keeps partial expression distinct example following would matched correctly would seen two partial expressions resolved analytically nal result would obtained convolving two impulse responses however following mathematically identical expression would matched analysis algorithm attempt decompose denominator products recognised analytically would extracted using inverse fft would usually successful might run time considerably shorter time constant chapter device library parts management electrical characteristics semiconductor devices transistors complex devices operational ampliers built simulator program dened separate library les text les containing model subckt controls libraries supplied simetrix obtain others device manufacturers model vendors also create using text editor section explains use install manage parts libraries important library parts management systems described chapter work discrete devices dened using subcircuits model statements currently support process corner selection process binning used many models supplied integrated circuit process foundries see using schematic editor cmos ic design details handle libraries
using model library browser model library browser provides convenient method selecting part model library parts arranged categories allow rapid searching open model library browser select schematic menu place model library devices models installed displayed listed appropriate category cant nd device expected category select devices category every single device currently installed displayed note large libraries may wait second two see list devices selecting category installed models see parts management installing models always nd listed category user models installed within last days recently added models select part user models recently added models may presented associate model dialog box happen simetrix unable determine symbol use model explained placing new model schematic
parts management installing models
overview process installing third party spice models always fundamentally tricky one
installing models difculty associating spice model electrical denition device schematic symbol pictorial representation model provides electrical description device schematic symbol use category model library browser simetrix able determine device implemented using model statement models refer particular type device npn nmos diode etc devices implemented subcircuits however remain problem nothing subckt denition tells simetrix device example three terminal regulator power mosfet use identical syntax simetrix cant tell difference syntax alone resolve simetrix shipped database known part numbers providing named schematic symbol part category relevant pin mapping order part database action required user part appear browser correct category select correct symbol model database terminals simetrix attempt determine type device performing tests model using simulation process successful simetrix choose appropriate schematic symbol without action required simetrix determine device order use device schematic need provide association information prompted information place part schematic rst time often convenient method however also method providing association information bulk advantageous many cases
procedure two stages installing spice models install model program knows look simply matter dropping les folders command shell see installing electrical model associate models schematic symbol process often automatic dont need anything see explanation overview necessary prompted information required see placing new model schematic
full model installation procedure following full procedure installing models including association required installing electrical model open suitable le manager program windows explorer windows locate folder model les located select items wish install also install single le multiple les entire folder multiple folders thing cant install les folders time make sure simetrix command shell visible visible select menu view show command shell pick items selected drop message window command shell installed individual les see message box asking conrm wish continue click ok model les installed drop folders search made folders spice models addremove models dialog displayed shown
installing models select items wish install lower box transfer upper box pressing add button also change order items upper box affects search order simulation run click ok see message displayed command shell model library changed rebuilding catalogs please wait nished message completed displayed electrical model models installed placing new model schematic place models installed using model library browser select schematic menu place model library see dialog box similar shown model library browser left hand side select category recently added models models installed days ago select user models see models installed listed right hand side select device wish place press place point one two things happen either schematic symbol appear possibly short delay place schematic sheet action needed placing symbol simetrix unable identify suitable schematic symbol model associate models symbols dialog box open see next step
installing models following dialog box displayed enter suitable category part choose category xxx xxx model name create new category desired pressing new category using drop box dene symbol xxx select suitable symbol model image symbol displayed check appropriate suitable symbol available press auto create symbol one automatically created edit symbol later required selected existing symbol must check pin order matches model model text displayed electrical model xxx pin order needs changing use arrow keys rearrange pins appropriate click ok place symbol usual steps need done model note message unknown file type xxx displayed drop le means valid spice models found le mean le wrong extension simetrix accept extension model les exception extensions used schematic graph les sch sxsch sxgph
part selector
removing model libraries select file model library viewremove libraries dialog box similar shown installing electrical model displayed available libraries box empty select devices wish remove selected libraries box
parts management conguring part selector
overview schematic part selector see part selector customised application preference done two ways category editor gui tool allows move categories parts different positions hierarchy also hide altogether add edit remove individual items gui support done editing catalog le
category editor hierarchical structure part selector may changed using category editor parts listed part selector assigned category names category editor maps category names positions part selector hierarchy example category name nmos maps location discretes mosfets nchannel using category editor possible reorganise parts displayed also remove categories part selector moving path called hidden open category editor select menu file model library edit part selector categories simetrix mode file model library edit part selector categories simplis mode open gui shown
part selector left hand side list part selector paths individual parts folders within part selector contain parts right hand side category names parts displayed category editor category name category editor rename folder entries part selector select entry right click menu rename hide categories parts dont use select category wish show part selector drag drop hidden category path move categories new locations hierarchy move categories another existing location simply dragging dropping also create new folders within category editor move categories select existing category folder root right click menu create new category folder change order categories select category category folder right click menu edit sort order enter positive number small number earlier list item placed
part selector items without dened sort order placed items sort order items sort order sorted alphabetically delete categories category folders note delete categories category folders builtin delete new categories folders created want remove items part selector move category hidden folder see item
editing part selector catalog also possible add parts part selector although gui available add parts part selector create le called schematicgenericpartstreejournalsimetrixcat simetrix mode schematicgenericpartstreejournalsimpliscat simplis mode line le denes single entry part selector line semicolon delimited list elds dene various aspects part see following table denition elds field number function example name part appear place menu hyperlink dc motor internal symbol name dcmotorsymbol unused leave empty category name motors name appears parts selector hierarchy dc motor unused leave empty script name set pssimple pssimple unused leave empty search keywords add additional words help user search separate multiple word commas electromechanical operation add edit delete creating new parts must add add using example shown table line would dc motordcmotorsymbolmotorsdc motorpssimpleelectromechanicaladd create many lines like wish important occupies single line le le placed location cusersusernameappdataroamingsimetrix technologiessimetrixnnndevdbuser username login account name nnn simetrix version integer eg version ver simetrix version form
""
advanced topics
parts management advanced topics
associating multiple models symbols previously described procedure installing model libraries see full model installation procedure explains install library required associate model individually place device schematic situations might wish perform association process bulk many devices use file model library associate models symbols menu see associate model dialog box top left hand group select device devices wish associate dropdown box top list categories usually would select device devices unknown category also edit association known devices categories category selected list devices category displayed list box select device devices associate select multiple devices hold control key selecting note allowed select multiple devices different numbers pins help determine type device electrical model displayed window covers lower half dialog box must dene category symbol necessary pin order device done using top right hand group controls titled
advanced topics choose symbolcategory select appropriate category symbol note compatible symbols number pins selected device shown appropriate symbol available instruct simetrix create one pressing auto create symbol button symbol created functionally correct course design labelling may exactly would like edit pin names new symbol pressing edit pin names changes required edit symbol using graphical symbol editor later time next list box allows pin order changed used auto create symbol described paragraph need change pin order even used existing symbol drop box probably wont need change default devices opamps mosfets use defacto standard pin order usually check pin order electrical model display bottom dialog box many subcircuit denitions preceded text identies connection sub circuit must correspond exactly pin order symbol names symbol pins names used subcircuit terminations need match order important pin order match change using arrow buttons simply select pin list box move list note change apply devices currently editing devices associated symbol unaffected nished selecting category symbol pin mapping must select apply changes button edits lost dont warned closing box
embedded association possible embed association information within model le useful wish prepare model distribute users wish spare burden performing association process models embedded association installed dropping les command shell action required subcircuit devices may receive embedded association information information placed specially formatted comment line subckt line rst device command line form assoc categorycategory symbolsymbol mappingmapping category category part spaces must enclosed double quotation marks symbol internal symbol name used part mapping mapping information changes mapping subcircuit terminals symbol pin order usually easiest simply arrange subcircuit pin order match symbol pin order case required however reason rearranging subcircuit pins desirable instead specify pin order using mapping value mapping value list symbol pin numbers match corresponding subcircuit terminal mapping value says rst subcircuit terminal connects pin symbol second subcircuit terminal connects pin third pin example subckt irf g assoc categorynmos symbolnmossub ends
advanced topics priorities possible association information could provided multiple sources case possibility conict arises case following priorities apply user supplied association eg using associate symbols models dialog takes precedence embedded association embedded association takes precedence predened association predened association stored allcat catalog le supplied simetrix
catalog files data model symbol associations stored catalog les three catalog les follows allcat resides supportdevdb simetrix root directory stores catalog data supplied simetrix simetrix never modies le uservcat resides devdbuser application data directory see application data directory stores catalog data supplied user data le overrides data allcat associate models dialog box writes le simetrix versions
earlier le called usercat simetrix automatically import data usercat uservcat usercat present outcat resides devdbworking application data directory see application data directory actually used model library browser select place parts generated associate model dialog box information allcat uservcat installed models also automatically created model library browser already exist also force rebuilt time selecting menu file model library rebuild catalog file format catalog les text les line provides data single device semicolon delimited elds elds follows field device name appears browser may optionally followed comma followed number terminals model field symbol name field model property x subcircuits appropriate devices eld empty allcat uservcat determined automatically electrical model outcat built field category field subcategory currently used field pin mapping order filed used select ok edits written uservcat le see table format allcat root folder allcat never modied also another le updated
sundry topics called outcat le used model library browser process building outcat may take seconds model library large
importing models schematic simetrix provides means automatically import models needed schematic schematic models placed simulator command window opened f see manual entry simulator commands models imported schematic longer necessary simetrix locate models library simulation run following benets makes schematic completely selfcontained useful archiving wish pass schematic third party edit models locally without affecting global library import models schematic select schematic menu simulator import models provided two options import direct copy import reference rst import model text directly schematic second put model text le referenced schematics simulator command window using inc control see simulator reference manualcommand referenceinc
sundry topics
lib control lib netlist control allows local specication model library particular circuit syntax lib pathname pathname file system path name specifying single le using wildcard group les path name contains spaces must enclosed quotation marks control species pathname searched model subcircuit libraries number lib controls may specied wildcards ie may used model subcircuit called device line denition present netlist simetrix search les specied using lib control simetrix also supports another form lib used model les designed hspice see simulator reference manualcommand referencelibhspice form details
drag drop schematic install model le schematic picking windows explorer dropping onto schematic window insert lib control see path le dropped installs model le local schematic
library diagnostics enabled library diagnostics display messages showing progress location device models enabledisable select file options general model library tab
sundry topics
local models also enter model subcircuit denition schematics f window however enter model manner available schematic
library indexing mechanism technique used speed search models subcircuits completely transparent requires action user simetrix creates index le library specication encounters either installed globally referenced using lib index les contain details le locations models subcircuit denitions referenced library specication index les used later simulation runs speed search models subcircuits index les automatically rebuilt library les referenced modied modications detected comparing le dates index les stored appdatadirindexes appdatadir location application data directory see application data directory location directory les named sxnsxidx n number note add new model le directory simetrix running simetrix wont know new le relevant indexes wont updated situation select menu file model library rebuild catalog update indexes
duplicate model names models common parts available different sources sometimes different names eg lf lfns latter available national semiconductor library cases model names different sources identical poses problem models uniquely identied name simetrix builtin utility automatically rename models duplicate names devices renamed adding user specied sufx model name rename utility accessible via menus must invoked typing command command line proceed follows first ensure model library les wish process installed global libraries make backup copies model les optional utility makes backups anyway type following command line command line edit box top command shell visible select menu view show command shell renamelibs list currently installed libraries displayed double click wish processed renaming supply sufx sufx must contain spaces start nonalphanumeric character note models found duplicates renamed simetrix rename unique models supply sufx library devices within renamed press ok operation take long time possibly minutes library large completion message rename complete see renamelog details displayed command shell renamelog le contain full details rename process includes details models renamed
sundry topics notes device renamed implemented subcircuit rename utility copy symbolmodel association device new name devices used locally ie within model le excluded rename procedure devices renamed added list searched identify duplicate names perform test run creates log le actually perform renaming type command renamelibscheck note messages output log le command shell report renaming models renaming actually take place
using ltspice models simetrix use models developed ltspice especially useful simulating opamp models available ltspice note unencrypted text format models may used simetrix ltspice models placed symbol library model library usual simetrix models done symbol library must built select menu tools ltspice buildrebuild ltspice symbol library process takes seconds complete symbol library built models placed schematic menu place symbol library using one ltspice categories category ltspiceincompatible contains symbols display correctly whose associated model compatible simetrix cases model encrypted many models run without modication without special settings models use features need explicitly enabled models add following setting simulator options ltspicecompatibility models need minor modications run successfully need major modications current maintenance contact technical support assistance simetrix also open ltspice schematics symbol les information see ltspice compatibility chapter analysis modes chapter describe various analysis modes available set schematic editor information analysis modes including full details netlist commands invoke simulator reference manualcommand reference analyses setup using choose analysis dialog box opened schematic menu simulator choose analysis also enter raw netlist commands f window contents window remain synchronised choose analysis dialog box settings freely switch two methods choose analysis dialog box support sensitivity polezero analysis methods must set using f window
running simulations
running simulations
overview analysis set using procedures described chapter simulation would normally run synchronous mode perhaps selecting simulator run schematic menu synchronous mode use part program simulation running also methods running simulation run simulation netlist directly also run asynchronous mode explained following sections
starting pausing aborting analyses starting analysis start simulation normal synchronous mode use simulator run menu press f key press run button choose analysis dialog box shown dialog box show status simulation pausing analysis pause simulation selecting pause button simulator status dialog box restart select resume button pause button changes name simulation pauses simulator resume menu item simulation paused carry using program simulation completed includes plotting results simulation completed far decide wish continue run need explicitly abort start new run normal way asked would like resume pending run answer pending run automatically aborted new run started aborting analysis actually never need explicitly abort analysis decide wish continue run pause described pause abort except option change mind restart nevertheless abort facility simply select simulator abort menu abort run able restart one benet aborting run instead pausing analysis aborted simulator frees memory needed run note happen run completes normally need free simulator memory normal run completes type reset command line available simetrixsimplis elements working analysis running operations performed simulation running example zoom graphs many schematic editing operations also performed however operations blocked full functionality available simulation completed paused need full gui functionality simulation running run simulation background see running analyses asynchronous mode
running simulations
running analyses asynchronous mode asynchronous mode simulation runs background free carry using simetrix environment entering schematics viewing results previous analyses simulation running background necessary simulation process detached front end environment reason possible use graph xed probes plot simulation results course run also must manually load simulation data run complete starting asynchronous run select menu simulator run asynchronous note simulation status box appears similar box used synchronous runs additional activity box bottom messages generated simulator displayed simulation complete must load data manually name le load displayed command shell simulation starts select menu file data load temporary data load data le able cross probe schematic used run analysis normal manner le loaded pausing aborting asynchronous runs pause press pause button note load data generated far pausing run described abort run press close button
running analysis netlist run analysis netlist created hand perhaps third party schematic entry program run netlist synchronous mode select command shell menu simulator run netlist locate netlist le run netlist asynchronous mode select command shell menu simulator run netlist asynchronous locate netlist le see running analyses asynchronous mode information running asynchronous analyses
simulation multicore processors license permits simetrix create multiple threads running individual cores help speed simulation please note following relation multiple core operation products support multiple core operation see list product name number cores supported simetrix classic simetrixsimplis simetrix pro simetrixsimplis pro simetrix elite
transient analysis product name number cores supported simetrixsimplis elite simetrixsimplis elements free version running multistep analysis monte carlo greatest benet multiple cores achieved using multicore multistep mode see using multiple cores multistep analyses simetrix use single core small circuits even multiple physical cores simetrix product supports multiple core operation certain circuit size multiple core operation actually slow simulation speeding simulations employing multiple cores analogous speeding human projects allocation people results vary enormously according circuit simulated circuits benet multiple core operation large typically contain many type device typical integrated circuit design smaller circuits contain variety different types device dont benet nearly much system tted multiple chips referred physical processors simetrix use cores one physical processors default example may core system two physical processors cores situation simetrix use cores rst physical processor use second physical processor consequence cached hierarchical memory systems used modern systems force simetrix use available cores physical processors using mpnumthreads option see many systems use hyperthreading make single core behave like two cores resulting cores referred logical cores actual hardware cores referred physical cores simetrix use physical cores multiple core operation see help nd specication system number important number physical cores simplis simulator currently exploit use multiple cores single step runs however run multistep analyses using multiple cores see multicore multistep simplis analyses manually control number cores used single step simulation using mpnumthreads option enter line netlist f window option mpnumthreadsn n number cores wish use simetrix use number physical cores tted system regardless set n
transient analysis mode simulator computes behaviour circuit time interval specied stop time usually stop time parameter needs specifying number others available
setting transient analysis select menu simulator choose analysis select transient check box right
transient analysis select transient tab top enter parameters described following sections transient parameters enter stop time required note simulation paused stop time reached allowing results obtained far examined also possible restart simulation stop time reached continue long needed reasons important get stop time absolutely right aware however default values number simulator parameters chosen according stop time minimum time step example avoid therefore entering inappropriate values stop time data output options sometimes desirable restrict amount data generated simulator situations large specify data output begin specied time also specify time interval data output dataoutput print step simulator generates data variable time step according circuit activity output data checked data output output print step checked data output xed time step regardless activity circuit actual interval set print step explained output print step option checked simulator forced perform additional step required interval data output xed time step interval data generated interpolation case generic spice products derived start data output simulation data output time reached print step print simulator command specied netlist enable output tabulated data list le see simulator reference manualcommand referenceprint details print value specied controls interval used tabulated output provided print value also used determine data output interval output print step specied real time noise see real time noise monte carlo multistep analysis see multistep analyses advanced options opens dialog shown
transient analysis time step option presented set upper time step used transient analysis actual time step used controlled simulator ensure convergence satisfy tolerance requirements set limit higher upper limit lower limit may set convergence options dialog box see convergence options integration method set gear see unexplained triangular ringing simulation results always use trapezoidal resonant circuits full discussion integration methods given simulator reference manualconvergence accuracy performanceaccuracy integration methodsintegration methods method option skip dc bias point checked simulation start nodes zero volts note unless voltage current sources specied zero output time zero simulation may fail converge option specied fast start accuracy simulation relaxed period specied speed run expense precision means accelerating process nding steady state circuits oscillators switching power supplies often little interest steady state reached precision relaxed nding
transient analysis note reduced precision also reduce accuracy steady state found often settling time required fast start period startup time enable setting value enabled independent voltage current sources including time varying values start zero ramp sources initial value time specied intended convergence aid supplies signals zero operating point easy locate initial value found supplies signals gradually ramped effect simulating switching power similar strategy used pseudo transient analysis pta different number ways pta supply ramping done behind scenes separate analysis startup mode supply signal ramping part main analysis pta modies circuit aid reaching stable dc operating point adding capacitors various points usually speeds analysis helps reach convergence also hinder analysis triggering circuit oscillate pta performs nal true dc iteration ramp settled usually pta better solution nding operating point challenging circuits enabled default situation fails may situations desirable observe circuits behaviour supplies input signals ramped note native voltage sources current sources affected startup ramp devices create nonzero dc signal affected includes example arbitrary source constant term digital veriloghdl devices veriloga devices arbitrary sources nevertheless dened respond startup specication using builtin variable startupramp startupramp normally returns value
value startup ramp period veriloga designs function simparamstartupramp also return startupramp value
restarting transient run transient analysis run completion reached stop time still possible restart analysis carry previously stopped restart transient run select menu simulator restart transient new stop time box enter time wish restarted analysis stop click ok start run see also simulator reference manualcommand referencetran
transient snapshots overview often need investigate circuit set circuit conditions achieved transient run
transient analysis example might nd amplier circuit oscillates conditions conditions difcult impossible create bias point calculation usually precedes smallsignal ac analysis transient snapshots provide solution problem state circuit user specied points transient run may saved subsequently used initialise smallsignal analysis saved state circuit called snapshot snapshots created specied intervals transient run also created demand point transient run rst pausing run manually executing save snapshot command example nd amplier reaches unstable point transient analysis stop analysis save snapshot subsequently analyse small signal conditions ac sweep option also available save dc operating point data list le point snapshots saved dening snapshots run starts select menu simulator choose analysis transient sheet select button dene snapshots see following dialog select either linear sequence list dene time points snapshots saved snapshot mode box select one three options write bias info list le instructs simulator write dc operating point data list le save snapshot data save state actfnoise analysis instructs simulator save snapshot data bias point information output list le write bias info save state performs operations described
operating point creating snapshots demand create snapshot transient run started executing savesnapshot script command proceed follows pause current transient analysis allow nish normally must abort run destroys internal simulation data type command line edit box top command shell savesnapshot needed start new small signal analysis using snapshot created applying snapshots small signal analysis select menu simulator choose analysis select ac tf noise analysis press dene multistep analysis required analysis mode select snapshot mode analysis repeated available snapshots important note snapshot data applied identical circuit one created snapshot data must make sure parts needed smallsignal analysis uses snapshot data already present circuit transient run starts particular course must make sure ac source present error message output topological differences circuit generated snapshot data circuit uses part value model parameter differences snapshot data may accepted without error best results need careful interpretation worst completely erroneous generally change part affects dc operating point results meaningful change ac value eg capacitor value results probably valid snapshots stored snapshot data stored le default name netlistsxsnp netlist name netlist used simulation using schematic editor usually designnet usual name snapshot le designsxsnp override name using snapshotfile options setting although rarely reason snapshot le automatically deleted start every transient run savesnapshot command always appends data snapshot le predened snapshots preserved snapshot data applied subsequent smallsignal analysis snapshot le read checked valid circuit analysed
operating point specify dc operating point analysis check dcop note operating point performed automatically analysis modes useful analysis specied
sweep modes operating point analysis additional parameters tab sheet see also simulator reference manualcommand referenceop viewing dc operating point results
sweep modes analysis modes dc ac ac noise transfer function swept repeat single analysis point varying circuit parameter different sweep modes applied analyses modes also used dene multi step analyses explained multistep analyses modes device temperature parameter model parameter frequency applicable dc monte carlo sensitivityworstcase well different modes different sweep methods linear decade list dialog support list method available denition multistep analyses simulator also offers octal sweep method supported choose analysis dialog sweep modes explained detail
device sweep mode principal value single device swept analysis denition must specify part reference device following types device may used device value swept capacitor capacitance diode area voltage controlled voltage source gain current controlled current source gain voltage controlled current source transconductance current controlled voltage source transresistance current source current jfet area inductor inductance
sweep modes device value swept bipolar transistor area resistor resistance lossless transmission line impedance voltage source voltage gaas fet area
temperature global circuit temperature swept
model parameter similar device sweep except applied named model parameter model name parameter name must specied special note recommended model parameter swept also specied model parameter list cases isnt actually necessary instances terminal resistance parameters necessary
parameter user named variable referenced number expressions used dene model device parameters example see examplessweepacparamsxsch
sweep modes simple long tailed pair circuit resistors r r given values restail restail parameter swept ac sweep plot gain amplier vs tail resistance khz result run
sweep modes
frequency sweeps frequency small signal analysis modes namely ac ac noise transfer function standard spice sweep mode available ac noise transfer function swept
monte carlo repeats analysis point specied number times device tolerances enabled following graph show result circuit shown restailk point monte carlo ac sweep run takes fraction second modern machine
sweep modes graph shows variation gain samples using histogram feature statistical distribution easily plotted
sensitivityworstcase sensitivity worstcase really two separate modes always selected together treat single mode sensitivity sweep repeats analysis point varying parameter dened distribution function turn worstcase sweep uses data obtained sensitivity sweep identify combination parameter variations yield worst result two points run combinations extreme information see setting single step sensitivity analysis
setting swept analysis ac dc noise transfer function analysis sheets select dene button sweep parameters box bring following dialog
sweep modes select desired mode left enter necessary parameters right parameters required vary according mode follows mode parameters device device part reference eg v frequency ac noise tf parameter parameter name frequency ac noise tf model parameter model name model parameter name frequency ac noise tf temperature frequency ac noise tf frequency available dc none
dc sweep mode parameters monte carlo number points frequency ac noise tf sensitivityworstcase sensitivity measurement function frequency ac noise tf
dc sweep operates sweep modes described sweep modes except frequency repeats dc operating point calculation range circuit parameters dened sweep mode
setting dc sweep select menu simulator choose analysis select dc sweep check box right select dc tab top enter parameters described following sections sweep parameters start value stop value denes sweep range stop start values points per decade number points denes sweep range number points sweep dened per decade decade sweep linear sweep must enter total number points deviceparametermodel name device name device sweep parameter name parameter sweep model name model parameter sweep may entered may also entered sweep mode dialog opened pressing dene dene sets desired sweep mode see setting swept analysis monte carlo multistep analysis see multistep analyses see also simulator reference manualcommand referencedc
example using example circuit used previously
dc sweep following result dc sweep v restail set k analysis parameters follows sweep mode device v sweep range
linear sweep points
ac sweep ac analysis calculates small signal response circuit number user dened inputs small signal response computed treating circuit linear dc operating point like dc ac noise transfer function analyses ac analysis swept mode operate modes documented sweep modes modes eg sweeping resistor value necessary dc operating point recalculated point others frequency sweep necessary calculate start run ac analysis meaningful must least one voltage current source circuit ac specication nd set one see ac source
setting ac sweep select menu simulator choose analysis select ac check box right select ac tab top enter parameters described following sections sweep parameters start value stop value denes sweep range stop start values
ac sweep points per decade number points denes sweep range number points sweep dened per decade decade sweep linear sweep must enter total number points dene sets desired sweep mode see setting swept analysis monte carlo multistep analysis see multistep analyses data output check save currents check box enable output current data including semiconductor devices box checked current devices transistors diodes saved ac analysis cpu time required output data signicant relative solution time aware checking box may slow simulation signicantly note check box affects ac analyses see also simulator reference manualcommand referenceac
example examples shown sweep modes ac analyses following frequency sweep traditional ac analysis mode performed circuit shown restail k
ac sweep
noise analysis
noise analysis like ac analysis ac noise analysis small signal mode circuit treated linear dc operating point contribution noisy devices designated output computed total noise output also calculated optionally noise referred back input source may also computed like dc ac transfer function swept mode operated modes described sweep modes modes eg sweeping resistor value necessary dc operating point recalculated point others frequency sweep necessary calculate start run note necessary apply ac specication source including optional input referred source standard spice many derivatives
setting ac noise analysis select menu simulator choose analysis select noise check box right select noise tab top enter parameters described following sections sweep parameters start value stop value denes sweep range stop start values
noise analysis points per decade number points denes sweep range number points sweep dened per decade decade sweep linear sweep must enter total number points dene sets desired sweep mode see setting swept analysis noise parameters output node compulsory name circuit node appears netlist usually schematics netlist generator chooses node names recommend running noise analysis assign user dened name designated output node nd see finding specifying net names reference node optional output noise referred node assumed ground omitted source name optional voltage current source input source referred enter part reference either voltage current source monte carlo multistep analysis see multistep analyses see also simulator reference manualcommand referencenoise
plotting results noise analysis refer plotting noise analysis results
example
noise analysis frequency sweep result noise analysis circuit using frequency sweep
noise analysis
example noise parameter sweep following circuit wish nd optimum value tail current source impedance k sweep parameter taili used set current well values r r r r seen graph would seem best noise analysis setup following parameters sweep parameter taili points per decade output node vpos reference node vneg input source v sourcer set param control
noise analysis result
real time noise
real time noise extension transient analysis rather separate analysis mode activated real time noise sources added noisy devices magnitude frequency distribution calculated using equations used ac noise analysis allows noise analysis performed sampled data systems oscillators ac noise analysis appropriate real time noise available versions product contact sales details
setting real time noise analysis select menu simulator choose analysis select transient check box right select transient tab top enter parameters described following sections set transient analysis parameters detailed transient analysis check enable realtime noise select dene set real time noise parameters enter values explained interval species sampling interval noise generators set maximum highest noise frequency interest note interval also forces maximum time step short intervals result long simulation times
real time noise start time time noise generators switched defaults stop time time noise generators switched defaults stop time transient run think may wish restart transient run completed wish noise generators continue enabled restart must specify time beyond initial stop time starting analysis avoid however using inappropriately large values stop time may noticeably slow simulation extreme cases could cause memory condition rtn mode affects noise sources handled noise steps choice mode mode mode nearly always best mode underestimate noise cases difference modes explained follows real time noise introduces current sources across noisy junctions magnitude sources determined noise step according operating point device randomly generated value whose magnitude determined noise equations rtn mode affects current source set noise steps problem operating point device unchanged source simply ramps linearly next noise step problem occurs operating point changes especially changes profoundly would case transistor switches rapidly onstate offstate scenario magnitude noise current would high onstate fall away near zero offstate time switch moves strongly conducting state nonconducting state mode source ramps linearly noise steps operating point device considered new noise step reached method cases grossly overestimate noise mode noise source recalculated time step adjusted according operating point device method tends underestimate noise excessive amount mode overestimates general cant think good reason use mode except condence check methods give similar results noise step small enough useful check run circuit small time using mode small noise step results similar rtn seed options real time noise waveforms created using pseudorandom number generator requires seeded starting value seed controls random number sequence two runs starting seed give identical results two option settings provide control seed chosen addition mcfixedseed option designed used realtime noise option settings available gui may set using options command schematic f window directly netlist rtnseed fixes seed used realtime noise start step note option set runs multistep run use seed
transfer function rtnreseed boolean specied new random seed generated realtime noise run overridden rtnseed option neither rtnseed rtnreseed specied realtime noise seed xed start simulation consistent value meaning successive realtime noise runs yield noise waveforms note step multistep run use different seed mcfixedseed option affect realtime noise seed designed used realtime noise greater zero monte carlo steps multistep monte carlo run use seed thus select component values see also real time noise analysis simulator reference manual includes results comparisons ac noise real time noise
transfer function transfer function analysis similar ac analysis performs swept small signal analysis however whereas ac analysis calculates response circuit nodes usually single input source transfer function analysis calculates individual responses source circuit single specied output node allows example series mode gain common mode gain power supply rejection amplier measured one analysis measurements could performed using ac analysis several would need run transfer function mode also calculates output impedance admittance input source specied input impedance
setting transfer function analysis select menu simulator choose analysis select tf check box right select tf tab top enter parameters described following sections sweep parameters start value stop value denes sweep range stop start values points per decade number points denes sweep range number points sweep dened per decade decade sweep linear sweep must enter total number points dene sets desired sweep mode see setting swept analysis transfer function parameters voltagecurrent specify whether output node voltage device current
transfer function output nodeoutput source compulsory voltage mode selected name circuit node gain circuit sources calculated node name appears netlist usually schematics netlist generator chooses node names recommend running transfer function analysis assign user dened name designated output node nd see finding specifying net names current mode selected name voltage source output current measured simulation calculate gain every circuit source current reference node optional available voltage mode output voltage referred node assumed ground omitted source name optional input impedance source calculated specied monte carlo multistep analysis see multistep analyses see also simulator reference manualcommand referencetf
plotting transfer function analysis results see plotting transfer function analysis results
example perform transfer function frequency sweep following circuit
transfer function results
dc sensitivity waveforms created single analysis
dc sensitivity standalone analysis mode confused sensitivityworstcase sweep mode multistep mode control instructs simulator perform dc sensitivity analysis analysis mode dc operating point rst calculated linearised sensitivity specied circuit voltage current every model device parameter evaluated results written list le also placed new data group latter allows data viewed message window type display command line also accessed scripts analysis analysis mode performs similar analysis sensitivity sweep applied dc analysis however differs calculates sensitivity every parameter circuit distribution function applied also way analysis performed different sensitivity sweep perturbs parameter performs full nonlinear dc analysis case analysis mode uses matrix arithmetic calculate approximation true sensitivity
setting dc sensitivity analysis place control following form f window sens vnodename refnodename isourcename
convergence nodename output node sensitivities calculated refnodename reference node ground omitted sourcename voltage source measure output current sensitivities calculated
convergence simulations sometimes fail converge simulation aborts completion one messages convergence transient analysis convergence dc analysis nd dc operating point iteration limit exceeded pseudo transient analysis nd dc operating point convergence pseudo transient analysis convergence failures xed setting appropriate simulation options making changes circuit making changes models sometimes combination three required see following sections information convergence options convergence failure report convergence static analysis
convergence options select menu simulator convergence options presented dialog box
convergence dialog allows set number simulation options help simulation convergence options sometimes penalty either slow simulation way degrade accuracy described item description iteration mode selects solver iteration mode options improves convergence expense simulation speed extended precision mode provides worthwhile convergence improvement modest speed loss
convergence item description tolerances setting current tolerance n sometimes xes convergence problems increase setting circuit small currents time step minimum time step default value es lower values sometimes help transient analysis especially using quad precision iteration modes increasing value improve simulation speed value sets lower limit simulation abort slew rate discontinuous sources effect use models contain discontinuous sources common switching power controllers shunt capacitance often effective especially apply shunt capacitance globally box checked however option effectively modifying circuit always used care note option benet transient analysis iteration mode iteration mode trades simulation speed numerical noise numerical noise one major causes simulation failure transient analysis numerical noise noise induced result uncertainly calculation due limited precision arithmetic sometimes referred roundoff error similar concept quantization noise prevalent data converters numerical noise increases time step reduces due behaviour reactive components reach levels exceed tolerance parameters determine convergence reached simetrix provides range iteration modes reduce numerical noise employing higher precision numerical calculations addition simetrix offers advanced iteration mode lowers numerical noise employing efcient iterative equation mode typical numerical noise factor typical simulation run time factor advanced iteration precision normal x x doubleextended advanced iteration yes doubleextended extended precision yes extended extendedquad precision e x x yes extendedquad quad precision e x x yes quad double precision decimal resolution approximately digits extended precision decimal resolution approximately digits quad precision decimal resolution approximately digits
convergence
convergence failure report convergence failure report provides details items caused convergence failure create convergence report select menu simulator convergence report report divided following sections nodes failed converge nal step lists circuit nodes whose failure converge led simulation aborting usually initial focus investigation nodes highlighted schematic top level hierarchy often shows general area giving trouble devices failed converge nal step devices whose failure converge led simulation aborting items failed converge earlier run items listed necessarily lead failure however devices nodes often fail run may worth investigating count value indicates often item failed nodes overowed run node voltage exceeds preset limit iteration aborted repeated smaller step necessarily cause concern node frequently overows could indicative problem static audit circuit result static analysis circuit see details
convergence static analysis convergence static analysis feature performs analysis circuit identify items give trouble could lead convergence failure static analysis automatically performed part convergence failure report may also run simulation using menu simulator convergence static audit run simulation dummy run simulation required prompted whether would like performed load circuit simulator actually start run static analysis identify following potential problems code description ifdiscontinuity arbitrary source expression form ifexpression constant constant discontinuous switch abruptly one value another time denition lead convergence failure sgndiscontinuity use sgn sign function arbitrary source discontinuous although depends used reported inneon mosfet igbt model safely ignored stpdiscontinuity use u stp functions arbitrary source discontinuous depends used floordiscontinuity use oor function arbitrary source discontinuous often gives convergence problems
data handling keeps code description dividebyzero divide zero condition detected arbitrary source dividebyvar means something form expressionvn expressionvnn expressionvnvn expressioniv case v access function usually return zero point leading dividebyzero error valuetoosmall model device parameter set value small example n parameter diode model small values often used models order make diode small voltage drop lead difculty situations valuetoolarge model device parameter set value small large capacitors trigger failure example
data handling keeps keeps form part system limit amount data output simulation designs data output great available disk space case multicore multistep runs possible rate data generated exceed write speed disk system leading slow run times situations data output needs restricted default voltage currents shown schematics saved includes data child schematics hierarchical designs excludes signals inside ascii subcircuit models restrict data output use data tab within choose analysis dialog box select menu simulator choose analysis click data tab show following
data handling keeps
scope options following description ascii subcircuits means subcircuits created simetrix hierarchical schematic editor simetrix hierarchical schematic editor uses spice subcircuits using subckt base decorates subcircuit denitions special comment distinguish subcircuits sources ascii subcircuits would typically include models devices opamps along foundry models integrated circuit processes everything data saved including signals inside ascii subcircuits top level hierarchy data root schematic hierarchical child schematics saved data xed probes keeps see also saved data inside ascii subcircuits saved top level signals root schematic saved data xed probes keeps see also saved probes keeps signals attached xed probes keeps see saved
signals options signals classed voltages currents digital digital signals created event driven simulator cases veriloghdl interface digital signals generally take much less
simulator options space data stored change state whereas analog signals data stored every time step applications disabling saving currents reduce amount data saved signicant amount may sufcient resolve problems caused large amounts data saved case current keeps may used save specic currents required data output inhibited options described add keep symbols schematic select specic voltages currents saved keep symbols use underlying simulator statement keep information comprehensive features keep please refer simulator reference manualcommand referencekeep
add voltage keep schematic part selector navigate probes connectors keeps voltage keep place device desired schematic net
add current keep schematic part selector navigate probes connectors keeps current keep place device directly device pin
simulator options simulator features large number option settings although fortunately vast majority left default values nearly applications option settings set via choose analysis dialog box described following sections remainder controlled using simulators options control details may found simulator reference manualcommand referenceoptions
setting simulator options select menu simulator choose analysis select options tab following displayed
simulator options note veriloghdl group displayed versions veriloghdl feature tolerances relative tolerance controls overall accuracy simulation default value
adequate applications simulating oscillator circuits recommended reduce
lower increasing value speed simulation often degrades accuracy unacceptable level current tolerance sets minimum tolerance current may benecial increase circuits large currents voltage tolerance sets minimum tolerance voltage may benecial increase circuits large voltages circuit conditions temperature circuit temperature c initial condition force resistance initial conditions apply voltage selected node force resistance defaults option allows force resistance changed
multistep analyses list file output expand subcircuits checked listing expanded subcircuits output list le sometime useful diagnosing problems parameters controls level model device parameter output list le options none output brief values dened expression output given default values explicitly dened output monte carlo seed seed pseudo random number generator used generate random numbers tolerances see multistep analyses enable check box unchecked seed value chosen simulator veriloghdl options section show veriloghdl simulation available version simetrix open console verilog process verilog simulator runs console window displayed showing output messages simulator see open console verilog process details verilog simulator simulator used run veriloghdl see verilog simulator details timing resolution time resolution verilog simulator see timing resolution details
multistep analyses analysis modes transient ac dc noise transfer function setup automatically repeat varying circuit parameter multistep analyses dened using sweep modes used individual swept analyses addition snapshot mode see transient snapshots details snapshots modes briey described note monte carlo analysis subject whole chapter see monte carlo analysis device steps principal value device eg resistance resistor voltage voltage source etc part reference device must specied model parameter steps value single model parameter name model parameter name must specied temperature steps global circuit temperature parameter steps parameter may referenced expression frequency steps global frequency ac noise transfer function analyses monte carlo repeats run specied number times tolerances enabled
multistep analyses well different modes different sweep methods applied modes except monte carlo linear decade list simulator also offers octal sweep method supported choose analysis dialog
setting multistep analysis dene transient ac dc noise transfer function required check enable multistep press dene button transientdc analysis see following dialog box analysis modes except frequency radio button enabled
multistep analyses enter parameter described boxes entries required enabled example number steps box enabled required monte carlo mode sweep mode choice modes described
multistep analyses step parameters dene range values decade selected must specify number steps per decade linear specied total number steps must entered list selected must dene sequence values pressing dene list number cores multicore computers work multistep analyses may split multiple cores speed simulation see using multiple cores multistep analyses information parameters parameters required vary according mode follows mode parameters device device name eg v parameter parameter name model parameter model name model parameter name temperature none frequency dc transient none monte carlo none snapshot see transient snapshots
using multiple cores multistep analyses work multistep analyses split multiple processor cores speed simulation maximum number cores may used dependent license number processor cores system equipped speed improvement achieved method vary due number factors typically order core count eg cores speedup may fold setting multicore multistep simulation set multistep simulation normal way set number cores edit box number cores wish use able set number cores larger certain value depending system license values shown number cores selector running multicore multistep simulation run simulation normal way simulator status box show single entry core used see
multistep analyses shows status box showing step monte carlo analysis using cores line shows status processes apart sending back status information processes runs completely independently writes data le run complete data processes linked main data le subsequently plot analyse results exactly way would single core run using fixed probes multicore multistep simulation fixed probes usually plot simulation results incrementally plots updated simulation proceeds multicore multistep runs curves created primary process plotted run remaining curves plotted automatically run complete
multistep analyses data handling multicore multistep multiple processes running parallel writing data single disk possible cases disk write bottleneck develop whereby simulation appears hang temporarily problem particularly acute large circuits large number signals saved signal saved allocated buffer main memory buffer written disk full works well buffers large enough large circuits many cores buffers smaller time taken write become dominated disk seek times easy predict given situation whether problem arise running medium large circuit nodes using cores consider restricting data saved see data handling keeps
example refer circuit plotting results noise analysis example previous example swept tail current nd optimum value minimise noise k source resistance extend example run repeated range source resistances source resistance varied performing parameter step sourcer dialog settings multistep run
multistep analyses decade sweep varying sourcer k k steps per decade result get
multistep analyses
example following circuit simple model full bridge switching amplier used deliver controlled current inductance
multistep analyses sources v v dened dependent parameter named duty species duty cycle switching waveform see examplesbridgebridgesxsch setup perform multi step analysis parameter duty stepped
result
safe operating area testing
safe operating area testing
overview safe operating area soa separate analysis mode feature enabled dc transient analyses soa testing set maximum minimum limits simulation quantity simulator display limits violated use soa testing must two things dene soa limits models devices using enable congure soa testing item covered detail simulator reference manual see section titled simulator reference manualcommand referencesetsoa also limit parameter described section titled simulator reference manualcommand referencemodel setting simple limit tests using simple schematic symbols described
dening simple limit tests schematic symbols three schematic symbols provided allow denition simple limit tests report following voltage single node
safe operating area testing current single device pin differential voltage node pair use following menus place devices place probe watch voltage place probe watch current place probe watch differential voltage symbols edited usual way three parameters specify minimum limit use large negative number eg e dont wish specify minimum limit maximum limit use large positive number eg e dont wish specify maximum limit label default value ref resolve devices part reference enter literal value instead setting soa testing select menu simulator choose analysis select soa tab soa mode choose either summary output full output summary output mode rst violation soa device reported full output mode violations reported results choose would like results reported note writing results message window time consuming operation avoid selecting option expecting large number violations running simulation run simulation normal way violations results reported location locations specied results section
advanced soa limit testing simulator control setsoa allows much sophisticated denitions soa limits particular dene limits devices belonging specied model suppose using bjt model vcb limit v could place differential voltage watch device across instance model would time consuming error prone instead dene single setsoa control refers model name device simulator automatically set limit test every instance model would usually enter setsoa control schematic editors f window see manual entry simulator commands details refer simulator reference manualcommand referencesetsoa details setsoa also possible set soa specication model within model control see simulator reference manualcommand referencemodel chapter simplis analysis modes simplis simulator supplied simetrixsimplis product information simplis see simplis chapter explain analysis modes available simplis simulator information simplis analysis modes including full details netlist commands required invoke simplis reference manual setup simplis simulation must rst set schematic editor simplis mode see simulation modes simetrix simplis details set simplis analysis select menu simulator choose analysis see dialog box simplis offers three analysis modes namely transient ac periodic operating point pop
transient analysis analysis modes described detail simplis reference manual meaning controls described chapter simetrix also enter raw netlist command f window contents window remain synchronised choose analysis dialog box settings freely switch two methods
transient analysis simplis transient analysis similar simetrix transient analysis
setting transient analysis select menu simulator choose analysis select transient check box right select transient tab top enter parameters described following sections analysis parameters stop time nish time transient analysis start saving data data required create plots start output time start plotting data plot data output similar function subtly different see details plot data output number plot points total number points generated evenly spaced within start stop times advanced pressing advanced button opens following dialog
transient analysis snapshot output simplis ability save internal state order allow run repeated certain time point allows run continued previously left similar simetrix transient restart facility internal saved states known snapshots simplis always saves snapshot end every run start new run circuit start time start saving data equal stop time previous run simplis need rerun start instead load snapshot state simplis automatically entries dialog section allow specify saving snapshots times well end run might useful wanted restart run end previous run enable snapshot output check box enable saving snapshot data snapshots always saved end run snapshot interval minimum duration snapshots max snapshots maximum number snapshots saved setting overrides snapshot interval conict average topology duration simplis calculates average time spends topology dened number topologies value falls minimum value simulation aborts entries average topology duration group dene parameters feature follows
periodic operating point pop minimum average time falls threshold simulation abort measurement window number windows average time calculated purpose resolve problems simulation apparently getting stuck situations unexpected high speed oscillations happens may wish increase minimum time reduce measurement window appropriate
periodic operating point pop periodic operating point pop nds steady state operating point switched systems periodically driven selfoscillating predominant application analysis mode rapidly nd settled condition switching power supply without simulate entire power sequence dramatically speeds analysis designs behaviour different load conditions details pop analysis see simplis reference manual
setting pop analysis select menu simulator choose analysis select pop check box right select pop tab top
periodic operating point pop enter parameters described following sections pop parameters triggering use pop trigger schematic device pop analysis requires trigger signal indicate start periodic cycle best way dene using special schematic part place select menu place analog functions pop trigger check box using part trigger gate use schematic pop trigger device see must specify suitable part edit box enter full part reference device trigger condition polarity trigger edge conditions
periodic operating point pop max period set value larger expected period circuits switching cycle run simplis expects see valid trigger conditions however fault design circuit fault denition trigger conditions possible none detected max period prevents simplis carrying indenitely event cycles launching pop simplis run number switching cycles normal transient analysis starting periodic point algorithm speed convergence pop cases make difference pop converging converging nd pop converge increasing value sometimes help advanced pop options press advanced button pop options convergence sets convergence criteria periodic operating point analysis convergence criteria satised relative change state variable start end switching cycle less parameter iteration limit sets maximum number iterations periodic operating point analysis
ac analysis number cycles output successful pop analysis transient analysis specied simplis generate steadystate timedomain waveforms integral number switching cycles option sets number cycles use snapshot previous transient analysis checked pop instructed take advantage last data point previous transient simulation assuming circuit initial conditions remained two simulation runs output pop progress checked progress pop solution output data le plotting etc useful debugging enable automatic transient analysis failed pop pop fails transient analysis automatically follows help diagnose cause pop failure also useful cases subsequent transient may settle sufciently perform study load transient behaviour details refer simplis reference manual see simplis reference manualsimplispoptatements relating pop analysispopstatement pop analysisbehaviour pop analysis pop convergence failure use default transient runtimespecify run time failed pop see
ac analysis ac small signal frequency domain analysis mode applied switching circuit please refer simplis reference manual full details analysis mode note ac analysis requires pop analysis see also dened
setting ac analysis select menu simulator choose analysis select ac check box right note pop check box automatically checked ac checked select ac tab top enter parameters described following sections
multistep monte carlo ac sweep parameters start frequency enter start frequency ac sweep stop frequency enter stop frequency ac sweep points per decadenumber points decade sweep selected enter number points required decade linear sweep selected enter total number points analysis decadelinear select type sweep
simplis options save options selected voltages currents saved voltages selected node voltages saved probes selected voltages currents explicitly probed output options force new analysis tells simplis ignore state information may stored could used speed run example stored snapshots see used selected forced output data checked simplis force data point every switching instant circumstances option remain turned long simulations generate extremely large data sets waveform viewer may slow responding user commands cases turning noforceddata option reduce number simulation data points displayed waveform viewer switching cycle long simulations involve many switching instants one switching cycle reduction signicant enabling option way degrades accuracy simplis solution potentially reduce delity displayed waveforms within switching cycle
multistep monte carlo analyses
overview simetrix environment provides facility run automatic multiple simplis analyses two modes available namely parameter step monte carlo parameter step mode run repeated setting parameter value step parameter may used within expression describe device model value monte carlo mode runs simply repeated specied number times random distribution functions enabled distribution functions return unity normal analysis modes monte carlo mode
multistep monte carlo return random number according specied tolerance distribution model device parameter may dened terms functions allowing analysis manufacturing yields performed
comparison simetrix simplis multistep analysis modes offered simetrix simulation mode achieve end result simplis multistep modes method implementation quite different simetrix multistep analyses implemented within simulator simplis multistep analyses implemented front end using scripting language different approaches trade speed exibility approach used simplis exible used simetrix faster
setting simplis multistep parameter analysis example begin example use one supplied example schematics first open schematic examplessimplismanualexamplesexampleexamplesxsch set system repeat analysis three times varying r proceed follows first must dene rs value terms expression relating parameter select r press shiftf enter following rvalue rvalue arbitrary parameter name could also use r select menu simulator select multistep enter rvalue parameter name set start value stop value number steps see
multistep monte carlo press run analysis repeated three times values rvalue resistor value r dened terms rvalue effect stepping r range cases probably want step one part similar manner described also use parameter value dene number part model values run normal single analysis nd simplis reports error unable resolve value r overcome specifying value using var control add line var rvalue f window line denes value r normal single step analysis run options example illustrates linear multistep parameter run also dene decade logarithmic run also list based run selects parameter values list set list run select list radio button press dene list enter values list using dialog box
multistep monte carlo
setting simplis monte carlo analysis example set monte carlo analysis must rst dene part tolerances done dening value expression using one functions gauss unif wc another example open example circuit make following changes select r press shiftf enter value gauss
select c press shiftf enter value ugauss
delete xed probes v input r prevent many unnecessary curves plotted give r tolerance c tolerance sigma gaussian distribution set monte carlo run select menu monte carlo setup monte carlo enter desired number steps number steps demonstrate concepts sufcient usually monte carlo run would minimum around steps press run see series curves build run progresses
multicore multistep simplis analyses system license permit specify multiple processor cores employed multistep analyses substantially speed run example suppose core system wish run step monte carlo analysis steps may split across cores steps cases improve run time least factor mode operation multiple simplis processes run independently one creating data le setup multicore multistep simplis analysis setup multistep analysis normal dene simplis multi step analysis dialog box set number cores desired value shown note maximum value set determined license system allowed number cores product type see simulation multicore processors
multistep monte carlo running simplis multicore multistep analysis start run usual way multistep run see usual simplis status box difference multiple tabs one process running shown watch progress process using tabs top status box
multistep monte carlo using fixed probes simplis multicore multistep analyses fixed probes usually update waveform viewer incrementally display updated simulation proceeds happen multicore multistep runs instead graphs updated run complete
tolerances distribution functions distribution functions tolerances dened using distribution functions simplis monte carlo three functions available dened function name description gausstol returns random mean
standard deviation tol random values gaussian normal distribution uniftol returns random value range
tol uniform distribution wctol returns either
tol tol chosen random l e sufx functions available simetrix monte carlo analysis available simplis operation lot device tolerances special provision made implement called lot tolerances model tolerances track however nevertheless possible implement lot tolerances dening parameter random variable suppose example resistor network consisting resistors k absolute tolerance resistors match within
absolute tolerance lot tolerance implemented assign random variable using var preprocessor control use param simplis simulations eg var rv unif
give resistor network value k rv unif
rv updated monte carlo step always value place used
monte carlo log file monte carlo analysis run log le created details device values changed changed two versions log le created one plain text called simplismcloglog html format called simplismcloghtml view html log le select menu monte carlo view log file example shown
multistep monte carlo
monte carlo seed values introduction random values used monte carlo analysis generated using pseudorandom number generator generates sequence numbers appear random statistical properties random numbers however sequence used fact repeatable setting dened seed value sequence generated always long starting seed value used makes possible repeat specic monte carlo step long seed value known simetrixsimplis explicitly sets random seed value start monte carlo run records le facility exists explicitly set seed value instead using random seed makes possible repeat specic step useful cases one monte carlo steps show unexplained behaviour investigation needed also useful wish nd values parts used particular monte carlo step finding seed value nd seed value particular step follow procedure run normal monte carlo without seed denition done already find run number result whose seed require repeat step nd run number plotted waveform monte carlo run plot result normal position small cursor curve interest run number displayed status bar right
multistep monte carlo select menu monte carlo view log file show log le seed value shown run number see monte carlo log file using seed value use seed value repeat run associated follow procedure select menu simulator setup multistep monte carlo seed group check enable box enter seed value obtained step section set number steps run simulation normal finding part values used part values used particular step found studying deck le created every simplis run follow procedure nding using seed value described single run complete locate le deck extension located simplisdata folder name top level schematic extension deck schematic called dcdcconvertersxsch deck le called dcdcconverterdeck located simplisdata folder deck le ascii le list parts design connections values format similar spice netlist picture illustrates process matching part schematic entry deck le diagram note line c shows value
e deck le
performance analysis histograms simplis multistep monte carlo analysis complete data analysed exactly way simetrix multistep analyses includes performance analysis histogram features information see performance analysis histograms
backannotation
initial condition backannotation
overview run simplis generates le called initial condition le contains sequence simplis netlist commands initialises circuit state achieved end run allows new run continue previous run completed initial condition le applied including netlist new run instances may convenient method however also possible annotate schematic initial condition information advantages initial conditions back annotated top level capacitors inductors also recognised simetrix simulation mode back annotated initial conditions attached schematic instances faithfully reproduced example schematic block copied pasted another schematic please read sections backannotation ensure correctly understand issues involved
backannotate schematic simply select menu simulator initial conditions backannotate notice second two activity schematic operation complete note simetrixsimplis distinguish initial conditions backannotated initial conditions applied manually running backannotation algorithm able restore initial condition value set however use undo normal way fact backannotation operation reversed single undo operation
disableenable initial conditions disable initial conditions select menu simulator initial conditions disable note disable initial conditions dened top level ones backannotated reenable use menu simulator initial conditions enable
backannotation errors get error message following instances initial condition values support back annotation means simplistemplate property protected instances listed x problem remove protection property need open symbol symbol editor order apply backannotation generic fashion simetrix needs modify simplistemplate property protected hence error message shouldnt get error standard symbols simetrix v library later may get symbols symbols earlier library
editing backannotated initial conditions change value backannotated initial condition depends device device already user editable initial condition simply use standard method capacitors
backannotation inductors simply done using f edit part menu devices initial condition value may found edit additional parameters menu devices user editable initial conditions use edit additional parameters menu applies subcircuit models hierarchical blocks
work initial condition le species value initial conditions device requires information must applied schematic instance appropriate manner two basic approaches used apply initial condition values depending device namely specialised method generic method specialised method special script called edits one properties schematic instance capacitor example value property edited ic parameter specied modied something similar done inductors action done using special script specied initscript property case capacitor script icreactive called advantage specialised method device modied manner consistent existing user interface capacitors already user editable initial conditions application backannotated initial conditions compatible disadvantage specialised method method applying back annotated value needs developed every different type device would acceptable users develop symbols generic method overcomes difculty generic method modies properties additional netlist lines created containing init simulator command denes initial conditions achieve simplistemplate property needs modied long isnt protected generic method always work
hierarchical blocks subcircuits backannotated initial conditions applied top level child schematics subcircuits modied introduces potential problem backannotated initial conditions applied longer able modify individual initial conditions within hierarchical block able edit top level device using edit additional parameters menu able use initial conditions dened within hierarchy subcircuit rst disable top level initial conditions using initial conditions disable menu course disable initial conditions specied top level disable initial conditions single hierarchical block use edit properties menu set useic property note enable disable menus reset property chapter graphs probes data analysis basics create graphs circuits signals explained getting started chapter provides full reference aspects probing creating graphs
elements graph window
main window
windows tabbed sheets normally new graphs created within window tabbed sheet row tabs appear top graph window allowing select graph wish view also create new
fixed vs random graph window using menu file new graph create empty window may add new graphs
graph toolbar shows function buttons graph toolbar referred following sections
probes fixed vs random much section next already covered plotting simulation results repeated convenience simetrix provides two approaches creating plots simulated results schematic rst approach x voltage current probes schematic run simetrix generate graphs selected voltages andor currents automatically normally graphs xed probes opened updated simulator running probes wide range options allow specify example graphs organised often updated probes known xed probes second approach randomly probe circuit run complete also run pausing rst approach graph created point probe updated new run probes known random probes need make decisions wish probe circuit starting run enter circuit without xed probes run randomly probe afterwards alternatively place single xed probe obvious point interest randomly probe investigate detailed behaviour circuit note add xed probes run started run must paused rst many types xed probe suit range applications random probing method allows plot anything like including device power ffts arbitrary expressions simulation results xy plots nyquist diagrams arbitrary xed probe provides exibility xed probes see arbitrary fixed probe details
fixed probes many types xed probe described following table
fixed probes probe type description place voltage single ended voltage hint place probe immediately existing schematic wire automatically given meaningful name related connected menu probe place fixed voltage probe hot key b current device pin current single terminal device place device pin menu probe place fixed current probe hot key u inline current line current two terminal device probes current owing menu probe place inline current probe differential voltage probe voltage two points menu probe place fixed diff voltage probe db probes db value signal voltage useful ac analysis menu probe acnoise fixed db probe phase probes phase signal voltage useful ac analysis menu probe acnoise fixed phase probe bode plot measurements plots db phase voutvin connect input output circuit plot gain phase includes optional measurements phase margin gain margin gain crossover frequency menu probe acnoise bode plot probe measurements bode plot basic version plots db phase voutvin connect input output circuit plot gain phase menu probe acnoise bode plot probe simple bus plot plots bus signal logic analyser style menu probe place fixed bus probe power plot plots power device power probe must attached single pin device doesnt matter pin power plotted instantaneous power whole device menu probe place fixed power probe per cycle plot graph based calculation performed complete cycle repetitive waveform see per cycle probes available parts selector xy plot graph one signal yaxis respect second signal xaxis see xy probes menu probe place xy probe fourier probe create fourier plot see fourier analysis menu probe place fourier voltage probe
fixed probes probe type description place arbitrary probe create custom probe number voltage current inputs related userentered expression see custom fixed probe menu probe create place arbitrary fixed probe probes schematic symbols special properties place xed probe schematic probed value point place probe plotted time run simulation current probes power probes must placed directly part pin function warning message displayed
fixed probe options probe types large number options allowing customise want graph plotted many applications default settings satisfactory section full details available probe options described select probe press f menu edit part following dialog displayed voltage current power db phase probes
fixed probes elements tabbed sheet explained probe options sheet curve label text displayed probe schematic also used label resulting curves
fixed probes history controls number curves previous runs displayed set latest result shown set value greater one current result number previous results equal history depth less one shown old results shown broken lines default checked number curves based values specied general options set history depth value general options follow steps menu bar select file options general select graphprobedata analysis tab fixed probe global options section enter value default history depth eld click ok separate curves checked history depth setting ignored case new curve created new run see curve history information
fixed probes axis type species grid yaxis chosen plotted data auto select chooses suitable grid yaxis based physical units plotted data voltages plotted yaxis voltages currents plotted yaxis currents separate grids used xaxis incompatible example ac analysis transient analysis performed run graph sheet forced see use named graph results two analyses automatically placed independent grids signal digital digital axis see used probe use dedicated grid results probe placed grid shared probe use named grid similar grid shared probes specify grid name see diagram section graph layout multiple yaxis graphs use named grid auto use named grid except separate yaxes assigned distinct physical quantities way auto select option use named yaxis uses separate yaxis yaxis may shared probes specify axis name name used label display purposes simply means identication axes labelled using axis labels sheet explained digital use digital axis digital axes placed top window stacked one may take single curve name suggests intended digital traces used analog signals required detached grid xaxis check box enabled conjunction options selected xaxis associated grid independent grids allowing individual xaxis zoom note xaxis detached one probes associated grid option enabled necessary option selected probes example use named grid option selected two probes order share grid one probes need option selected order detach grid
fixed probes graph check use separate graph create new graph sheet probe may also supply graph name case probes using name directed graph graph name may also used force curves graph default action would create new graph happen example new analysis type results transient analysis would usually placed different graph sheet results ac analysis specifying option name override check set tabcaption name box show graph name caption bar tab associated graph sheet analyses species analyses probe enabled note analysis modes noise sensitivity included support schematic cross probing current voltage simplis mode periodic operating point pop option also available display order enter string control grid display order value arbitrary displayed force curve placed curves dont use value prex name character low ascii value conversely use force curve displayed curves colour check use default minimise duplicate colours graph allowing colour chosen automatically alternatively uncheck box press edit select colour choice case trace always colour plot completion checked incremental plotting disabled plot appear run complete checked curve updates regularly course run note expressions possible incrementally plot data case incremental plotting disabled check box ignored
fixed probes axis scales sheet parameter description linlogauto specify whether want xaxis linear logarithmic select auto axis x set log x values logarithmically spaced yaxis also necessary curve values positive log axis selected change auto scale dened controls axis limits dened select change axis scales remain relevant adding existing graph select auto scale axis scales based minimum maximum values curve select dened enter values min max elds
fixed probes axis labels sheet sheet four edit boxes allowing specify x axis labels well units box left blank default value used remain unchanged axis already dened label
curve history curves created xed probes store history viewed time picture shows current result one previous result displayed default waveform viewer store current result three previous results many previous results actually displayed may changed number ways history depth setting probe dialog menus curve history set depth curves curve history set depth selected curves set displayed history depth curve already plotted menus display dialog box
fixed probes show show full history usually deep hide hide history leaving one curve display show depth show history specied depth example set depth latest result one previous result displayed restore probe setting sets depth dened xed probe created curve note sets depth whatever xed probe setting time curve created current xed probe setting stored history depth displayed history depth may changed using datahistorydepth option setting default value meaning current result three previous results stored note circumstances depth restricted preserve memory
fixed bus probe options select device press f usual manner dialog box show similar shown bus probe options notice additional tabbed sheet titled probe options allows select axis type graph similar manner described xed voltage current probes
using fixed probes hierarchical designs fixed probes may successfully used hierarchical designs placed child schematic plot produced instances child labels curve prexed child reference
adding fixed probes run started add xed single ended voltage current probe run started graph probed point opens soon resuming simulation pause simulation place probe circuit normal way resume simulation
fixed probes
percycle probes per cycle probes rst calculate new curve based builtin formula plot curve graph input one following singleended voltage differential voltage current difference two currents probes curve output graph axis per cycle probes compatible simulators percycle probe specication shown following table percycle probes model name per cycle probes simulator device compatible simetrix simplis simulators simetrix parts selector location probes per cycle voltage probes probes per cycle diff voltage probes probes per cycle current probes probes per cycle diff current probes simplis parts selector location commonly used parts per cycle voltage probes commonly used parts per cycle diff voltage probes commonly used parts per cycle current probes commonly used parts per cycle diff current probes symbol library none symbol automatically generated placed symbols multiple selections multiple probes selected edited simultaneously percycle timing measurements advanced probes allow visualize subtle behaviour otherwise easy see one example visualize switching frequency varies simulation time window case probe rst nds edges match trigger conditions calculates new curve frequency measurements vertical axis input time vector horizontal axis example waveform showing pulse train per cycle frequency curve shown
fixed probes following timing measurements supported percycle basis frequency period duty cycle time time percycle amplitude measurements percycle measurement also applied amplitude input voltage current example plot mean value switching power converter output mean value calculated percycle basis example show mean value converter output voltage plotted percycle manner gate voltage used determine timing edge information
fixed probes following amplitude measurements supported mean maximum minimum rms peak peak editing per cycle probe congure per cycle probe follow steps double click symbol schematic open editing dialog probe options tab make appropriate changes three tabs explained per cycle probe options following tab allows dene general probe options explained table
fixed probes parameter description measurement frequency period ontime offtime duty cycle mean maximum minimum peaktopeak rms edge direction rising falling curve type stepped smooth curve label text displayed probe schematic also used label resulting curves
fixed probes history controls number curves previous runs displayed set latest result shown set value greater one current result number previous results equal history depth less one shown old results shown broken lines default checked number curves based values specied general options set history depth value general options follow steps menu bar select file options general select graphprobedata analysis tab fixed probe global options section enter value default history depth eld click ok separate curves checked history depth setting ignored case new curve created new run see curve history information
fixed probes axis type species grid yaxis chosen plotted data auto select chooses suitable grid yaxis based physical units plotted data voltages plotted yaxis voltages currents plotted yaxis currents separate grids used xaxis incompatible example ac analysis transient analysis performed run graph sheet forced see use named graph results two analyses automatically placed independent grids signal digital digital axis see used probe use dedicated grid results probe placed grid shared probe use named grid similar grid shared probes specify grid name see diagram section graph layout multiple yaxis graphs use named yaxis uses separate yaxis yaxis may shared probes specify axis name name used label display purposes simply means identication axes labelled using axis labels sheet explained digital use digital axis digital axes placed top window stacked one may take single curve name suggests intended digital traces used analog signals required graph check use separate graph create new graph sheet probe may also supply graph name case probes using name directed graph graph name may also used force curves graph default action would create new graph happen example new analysis type results transient analysis would usually placed different graph sheet results ac analysis specifying option name override check set tabcaption name box show graph name caption bar tab associated graph sheet analyses species analyses probe enabled note analysis modes noise sensitivity included support schematic cross probing current voltage simplis mode periodic operating point pop option also available
fixed probes display order enter string control grid display order value arbitrary displayed force curve placed curves use value prex name character low ascii value conversely use force curve displayed curves colour check use default minimise duplicate colours graph allowing colour chosen automatically alternatively uncheck box press edit select colour choice case trace always colour plot completion option available percycle probes setting check box ignored axis scales following tab allows dene scale xaxis yaxis explained table parameter description
fixed probes linlogauto specify whether want xaxis linear logarithmic select auto axis x set log x values logarithmically spaced yaxis also necessary curve values positive log axis selected change auto scale dened controls axis limits dened select change axis scales remain relevant adding existing graph select auto scale axis scales based minimum maximum values curve select dened enter values min max elds axis labels specify axis labels units click axis labels tab enter values needed note box left blank default value used remains unchanged axis already dened label
fixed probes
xy probes xy probes plot two curves xy plot input either differential voltage inline current curves output graph axis xy probes available simetrix simplis xy probe specication shown following table xy probes model name xy probe simulator device compatible simetrix simplis simulators part selector location probes xy probes symbol library connectionsxslb symbols multiple selections multiple probes selected edited simultaneously editing xy probe congure xy probe follow steps double click symbol schematic open editing dialog probe options tab make appropriate changes three tabs explained xy probe options following tab allows dene general probe options explained table
fixed probes curve label text displayed probe schematic also used label resulting curves
fixed probes history controls number curves previous runs displayed set latest result shown set value greater one current result number previous results equal history depth less one shown old results shown broken lines default checked number curves based values specied general options set history depth value general options follow steps menu bar select file options general select graphprobedata analysis tab fixed probe global options section enter value default history depth eld click ok separate curves checked history depth setting ignored case new curve created new run see curve history information
fixed probes axis type species grid yaxis chosen plotted data auto select chooses suitable grid yaxis based physical units plotted data voltages plotted yaxis voltages currents plotted yaxis currents separate grids used xaxis incompatible example ac analysis transient analysis performed run graph sheet forced see use named graph results two analyses automatically placed independent grids signal digital digital axis see used probe use dedicated grid results probe placed grid shared probe use named grid similar grid shared probes specify grid name see diagram section graph layout multiple yaxis graphs use named yaxis uses separate yaxis yaxis may shared probes specify axis name name used label display purposes simply means identication axes labelled using axis labels sheet explained digital use digital axis digital axes placed top window stacked one may take single curve name suggests intended digital traces used analog signals required graph check use separate graph create new graph sheet probe may also supply graph name case probes using name directed graph graph name may also used force curves graph default action would create new graph happen example new analysis type results transient analysis would usually placed different graph sheet results ac analysis specifying option name override check set tabcaption name box show graph name caption bar tab associated graph sheet analyses species analyses probe enabled note analysis modes noise sensitivity included support schematic cross probing current voltage simplis mode periodic operating point pop option also available
fixed probes display order enter string control grid display order value arbitrary displayed force curve placed curves dont use value prex name character low ascii value conversely use force curve displayed curves colour check use default minimise duplicate colours graph allowing colour chosen automatically alternatively uncheck box press edit select colour choice case trace always colour plot completion option available xy probes check box setting ignored axis scales
fixed probes linlogauto specify whether want xaxis linear logarithmic select auto axis x set log x values logarithmically spaced yaxis also necessary curve values positive log axis selected change auto scale dened controls axis limits dened select change axis scales remain relevant adding existing graph select auto scale axis scales based minimum maximum values curve select dened enter values min max elds axis labels specify axis labels units click axis labels tab enter values needed note box left blank default value used remains unchanged axis already dened label
fixed probes
bode plot probe measurements bode plot probe measurements generates plots gain phase ratio two voltages probe congured plot gain phase gain phase summary bode plot probe measurements model name bode plot probe simulator device compatible simetrix simplis simulators schematic menu probe acnoise bode plot probe measurements parts selector probes bode plot probe measurements symbol library connections model file none symbol
fixed probes summary bode plot probe measurements multiple selections multiple bode plot probes selected editing properties except curve labels simultaneously changed probes curve label properties remain unchanged selected probes usage schematic probe symbol plots magnitude phase ratio two complex voltages outin magnitude plotted db voltsvolts horizontal axis scale determined simulation sweep type simulation swept log frequency steps horizontal axis automatically log scaled editing bode plot probe measurements congure bode plot probe measurements follow steps double click symbol schematic open editing dialog parameters tab make appropriate changes elds described table image options bode plot probe measurements use separate graph check option order supply alias output graph tab
fixed probes options bode plot probe measurements graph name curves graph name property output graph tab graph name safely ignored unless multiple bode plot probes used use separate graph must checked supply name name entered used label tab caption bar set tabcaption name box checked disable gainphase check box disable gain phase graphs history controls number curves previous runs displayed set latest result shown set value greater one current result number previous results equal history depth less one shown old results shown broken lines default checked history depth based values specied general options set history depth value general options follow steps menu bar select file options general select graphprobedata analysis tab fixed probe global options section enter value default history depth eld click ok separate curves checked history depth setting ignored case new curve created new run see curve history information curve label sets name curve note eld appears gain phase groups dialog axis label sets axis label individual gain phase axes multiple curves multiple probes placed axis axis label properties must identical axis label blank eld left blank axis label appears name specied curve label eld note eld appears gain phase groups dialog vertical scale allows select function perform simulation data select db perform builtin db vector function select linear perform mag function curve selects phase curve offset select phase offset select phase degrees subtract degrees plotting curve
fixed probes options bode plot probe measurements vertical axis group two options vertical limits check vertical limits automatically set curve data uncheck enter minimum maxium values limits minimum maximum axis limits must set autocalculated group grid spacing check auto calculate grid spacing uncheck set grid spacing independent axis limits note eld appears gain phase groups dialog colour denes colours curves check use default gain phase groups generate curves default colour automatically selected sequence colours leave use default unchecked click edit open colour selector dialog box specify xed colours curves change default sequence colours command shell menu select file options colour additional information see colours fonts note eld appears gain phase groups dialog display curves allows dene number grids output single grid two grids vertical order allows specify order curves phase gain gain phase selected two grids display curves group selection group species curve output location selected single grid curves lower grid two axes example curve output example curve output illustrates relative locations two curves note curve data xed curves examples reect simulated curves save conguration click save conguration preserve information default conguration future new bode plot probes
bode plot probe basic version connects input output circuit plot gain phase sophisticated bode plot probe provides wide range options along display useful measurements also available recommended applications see bode plot probe measurements basic version useful quick checks compatibility versions
earlier
fixed probes summary bode plot probe basic model name bode plot probe basic simulator device compatible simetrix simplis simulators schematic menu probe acnoise bode plot probe basic parts selector probes bode plot gainphase symbol library connections model file none symbol multiple selections multiple bode plot probes selected editing properties except curve labels simultaneously changed probes curve label properties remain unchanged selected probes usage schematic probe symbol plots magnitude phase ratio two complex voltages outin magnitude plotted db voltsvolts horizontal axis scale determined simulation sweep type simulation swept log frequency steps horizontal axis automatically log scaled editing bode plot probe congure bode plot probe follow steps double click symbol schematic open editing dialog parameters tab make appropriate changes elds described table image
fixed probes options bode plot probe curve labels sets labels plots gain label label used gain plot phase label label used phase plot properties set additional properties probe history controls many plots retained means use global default setting multiplied inverts sense phase disable disable probe checked plots created vertical limits divided two parts allow setting axis limits phase gain plots use db auto limits checked gain plot automatically scale otherwise manual limits entered maximum limit db minimum limit db use phase auto limits checked phase plot automatically scale otherwise manual limits entered maximum limit phase minimum limit phase
fixed probes
fourier analysis xed fourier probe available perform spectral analysis node voltage place probe select menu probes place fourier voltage probe double click probe edit see dialog box settings similar random fourier probe plotting described fourier analysis documentation repeated convenience method simetrix offers two alternative methods calculate fourier spectrum fft continuous fourier simple rule use fft unless signal examined large high frequency components would case narrow sharp pulses description two techniques pros cons follows
fixed probes fft fast fourier transform efcient algorithm calculating discrete fourier transform dft dfts generally operate evenly spaced sampled data unfortunately data generated simulator evenly spaced therefore necessary interpolate data presenting fft algorithm interpolation process effect sampling process nyquist sampling theorem applies states signal perfectly reproduced sampled data sampling rate greater twice maximum frequency component signal practice condition never met perfectly signal components whose frequency greater half sampling rate aliased different frequency number interpolated points small errors result due high frequency components aliased lower frequencies achilles heel ffts applied simulated data continuous fourier technique described next suffer problem suffers problems main one considerably slower fft continuous fourier calculates fourier spectrum numerically integrating fourier integral method frequency component calculated individually whereas fft whole spectrum calculated one quite efcient operation continuous fourier require data interpolated suffer aliasing problem continuous fourier compared fft slow algorithm many cases fft large number interpolated points calculated quickly give accurate result however cases signal large high frequency content narrow pulses method superior recommended used preference fft situations continuous fourier technique additional advantage applied greater condence aliasing errors present source error due fact simulated data truly continuous represented unevenly spaced points information lies points error minimised ensuring close simulation tolerances used see simulator reference manualconvergence accuracy performance details plot phase magnitude default plot magnitude fourier spectrum select phase require plot phase db need magnitude dbs frequency display resolutionhz available continuous fourier method frequency interval spectral components evaluated less time interval spectrum calculated
fixed probes start freqhz start frequency display stop freqhz stop frequency display log xaxis check specify logarithmic xaxis force minimum value start frequency equal time interval analysed signal info signal analysed repetitive frequency signal known exactly much better result obtained specied check know fundamental frequency box enter frequency fourier spectrum calculated using integral number complete cycles fundamental frequency substantially reduces spectral leakage spectral leakage occurs fourier algorithms work assumption signal analysed repetition analysed time interval analysed time interval contain whole number cycles fundamental frequency poor approximation spectrum error practice problem minimised using window function applied signal prior fourier calculation using whole number cycles reduces problem note fundamental frequency necessarily lowest frequency circuit largest frequency frequencies circuit integral harmonics example two sine wave generators khz
khz fundamental hz khz khz tenth harmonic
khz eleventh specify fundamental frequency circuits selfoscillating elements fft interpolation explained fft method must interpolate signal prior fft computation specify number points order number points entry may forced minimum high stop frequency specied frequency display section number interpolation points required depends highest signicant frequency component signal analysed idea useful trick set number points suitable value increase stop frequency value frequency display section frequency automatically set number interpolation points required value handle frequency dont actually want display frequencies level bring stop frequency back number interpolation points stay value reached doubt plot fft twice using different number points two results signicantly different frequency band interest increase number points usually interpolation order suitable value reduce analysing signals abrupt edges analysing smooth signal sinusoid useful improvements gained increasing order data span usually entire simulated time span used fourier analysis specify smaller time interval click specify enter start end times note specify fundamental frequency time may modied whole number cycles used occur whether explicitly specify interval
fixed probes window window function applied time domain signal minimise spectral leakage see choice window compromise trade bandwidth main spectral component lobe amplitude sidelobes rectangular window effect window narrowest main lobe substantial sidelobes blackman window widest main lobe smallest side lobes hanning hamming something similar main lobe widths side lobes differ way fall away main lobe hamming starts smaller doesnt decay whereas hanning starting larger hamming decays frequency moves away central lobe despite great deal research completed window functions many applications difference hanning hamming blackman important usually hanning good compromise situations rectangular window give signicantly superior results requires fundamental frequency specied also simulated signal consistent large number cycles rectangular window however usually gives considerably poorer results must used caution run time calculation time limit using continuous fourier method enter maximum time limit calculate fourier spectrum limit exceeded calculation abort display made continuous fourier calculation time excessive predicted simulation started necessary know number simulation time points processed fft method simulation time estimated reasonable accuracy simulation estimate displayed labelled estimated calculation time
arbitrary fixed probe create arbitrary xed probe plot expression combination node voltages device currents use feature select menu probe create place arbitary probe see dialog box
fixed probes probe expression enter expression dene wish plotted use vnnn access voltage isss access current nnn sss may arbitrary string starting letter close dialog box symbol created reect enter single inputs named according occurrences vnnn pairs inputs named occurrences isss example enter expression vviniiin
fixed probes symbol created look like result plotted product voltage vin current iin behaviour could achieved using nonlinear transfer function device see nonlinear transfer function simple single ended probe arbitrary probe important advantages approach arbitrary probe works simplis simulations nonlinear transfer function device simetrixonly device evaluate nonlinear functions ac analysis postprocessing operation interfere simulation way multistep mode options multistep mode group control behaviour probe multistep analyses multiple curves normal mode create groups curves performance analysis performance analysis based goal function performed mode goal function must entered probe expression single curve created value goal function swept variable histogram used monte carlo analyses mode goal function must entered probe expression histogram plot created goal function results information performance analysis histograms see performanceanalysis histograms histogram options options creating histograms see number bins may used force particular number bins histogram default depends size sample typically half squareroot display statistical calculations displayed alongside histogram including mean standard deviation show advanced statistics enables additional statistics skewness kurtosis arbitrary probe options options standard xed probes refer fixed probe options
random probes
changing update period start delay update period xed probes changed options dialog box select menu file options general click graphprobedata analysis tab probe update timesseconds box two values edited period update period start delay simulation begins curves rst created
auto probe colouring fixed probes schematic change colour reect colour graph curves create red curve created particular probe text probe schematic change red eases associating probes plotted curves colouring feature active curves actually visible probes generate curves visible deleted show text default colour usually black white background curve highlighted graph window colour schematic also reect highlighting probe generates one visible curve text probe shown italics case even curves actually colour
random probes
general behaviour wide range functions available schematic probe probe acnoise menus exceptions detailed random probe functions following behaviour graph windows open one created graph window open currently displayed sheet compatible xaxis probing new curve added sheet eg currently displayed graph transient analysis xaxis time also probing results transient analysis new curve added displayed graph however displayed curve ac analysis xaxis would frequency incompatible case new graph sheet created new curve want force new graph sheet created press f create empty graph sheet menus probe voltage new graph sheet probe current new graph sheet always create new graph
functions following table shows available random probe functions many found schematics probe menu others available probe probe functions function single ended voltage
random probes function single ended voltage ac coupled single ended voltage db single ended voltage phase single ended voltage fourier single ended voltage nyquist single ended voltage normalised db single ended voltage group delay differential voltage differential voltage db differential voltage phase differential voltage fourier differential voltage nyquist differential voltage normalised db differential voltage group delay relative voltage db relative voltage phase relative voltage nyquist relative voltage normalised db relative voltage group delay single ended current device pin single ended current ac coupled device pin single ended current wire single ended current db single ended current phase single ended current fourier single ended current nyquist single ended current normalised db single ended current group delay differential current actual differential current db differential current phase differential current fourier differential current nyquist differential current normalised db differential current group delay power impedance output noise noise analysis input noise noise analysis device noise noise analysis
random probes function arbitrary expressions xy plots
notes probe functions impedance may plot ac impedance circuit node using probe probe functionsthis works ac analysis works calculating vi device pin selected device power device power available probe power device works calculating sum vi products pin device power stored simulation however plotted power device result stored vector name devicenamepwr eg plot power resistor r power vector called rpwr use part expression future plot note simetrix able nd current subcircuit device hierarchical block also calculate devices power aware however power calculated vi product devices pins calculation may inaccurate subcircuit uses global nodes
plotting noise analysis results small signal noise analysis produce voltage current values nodes devices way ac dc transient analyses noise analysis calculates overall noise single point contribution every noisy device output noise optionally input referred noise may also available plot output noise select menu probe acnoise plot output noise plot input referred noise select menu probe acnoise plot input noise note must specify input source input referred noise available see noise parameters details plot device noise select menu probe acnoise probe device noise click device interest note noise results available noisy devices resistors semiconductor devices
random probes
plotting transfer function analysis results crossprobing available transfer function analysis instead must use general purpose dene curve dialog box approach must select vector name list proceed follows select menu probe add curve select value available vectors drop box transfer function vector names vector names transfer function form sourcenamevgain sourcenametransconductance sourcenametransresistance sourcenameigain sourcename name voltage current source vectors zout yout zin may also available represent output impedance output admittance input impedance respectively information see command referencetf chapter simulator reference manual
fourier analysis fourier spectrum signal obtained number ways choice using default settings calculation fourier spectrum customise settings plot following menus use default settings probe fourier probe voltage quick probe probe functions graph menu plot plot fourier curve graph menu plot plot fourier curve cursor span following prompt customise settings probe fourier probe voltage custom probe fourier arbitrary default settings default fourier spectrum settings setting default value method interpolated fft number points next integral power two larger number points signal interpolation order span data except plot plot fourier curve cursor span uses cursor span
random probes custom settings menu probe fourier probe voltage custom see dialog menus probe fourier arbitrary dialog box similar shown plotting arbitrary expression displayed include fourier tab click tab display fourier analysis options shown method simetrix offers two alternative methods calculate fourier spectrum fft continuous fourier simple rule use fft unless signal examined large high frequency components would case narrow sharp pulses using continuous fourier keep eye estimated calculation time shown bottom right dialog description two techniques pros cons follows
random probes fft fast fourier transform efcient algorithm calculating discrete fourier transform dft dfts generally operate evenly spaced sampled data unfortunately data generated simulator evenly spaced therefore necessary interpolate data presenting fft algorithm interpolation process effect sampling process nyquist sampling theorem applies states signal perfectly reproduced sampled data sampling rate greater twice maximum frequency component signal practice condition never met perfectly signal components whose frequency greater half sampling rate aliased different frequency number interpolated points small errors result due high frequency components aliased lower frequencies achilles heel ffts applied simulated data continuous fourier technique described next suffer problem suffers problems main one considerably slower fft continuous fourier calculates fourier spectrum numerically integrating fourier integral method frequency component calculated individually whereas fft whole spectrum calculated one quite efcient operation continuous fourier require data interpolated suffer aliasing problem continuous fourier compared fft slow algorithm many cases fft large number interpolated points calculated quickly give accurate result however cases signal large high frequency content narrow pulses method superior recommended used preference fft situations continuous fourier technique additional advantage applied greater condence aliasing errors present source error due fact simulated data truly continuous represented unevenly spaced points information lies points error minimised ensuring close simulation tolerances used see simulator reference manualconvergence accuracy performance details frequency component calculated individually calculation time affected values entered frequency display plot phase magnitude default plot magnitude fourier spectrum select phase require plot phase db need magnitude dbs frequency display
random probes resolutionhz available continuous fourier method frequency interval spectral components evaluated less time interval spectrum calculated start freqhz start frequency display stop freqhz stop frequency display log xaxis check specify logarithmic xaxis force minimum value start frequency equal time interval analysed signal info signal analysed repetitive frequency signal known exactly much better result obtained specied check know fundamental frequency box enter frequency fourier spectrum calculated using integral number complete cycles fundamental frequency substantially reduces spectral leakage spectral leakage occurs fourier algorithms work assumption signal analysed repetition analysed time interval analysed time interval contain whole number cycles fundamental frequency poor approximation spectrum error practice problem minimised using window function applied signal prior fourier calculation using whole number cycles reduces problem note fundamental frequency necessarily lowest frequency circuit largest frequency frequencies circuit integral harmonics example two sine wave generators khz
khz fundamental hz khz khz tenth harmonic
khz eleventh specify fundamental frequency circuits selfoscillating elements fft interpolation explained fft method must interpolate signal prior fft computation specify number points order number points entry may forced minimum high stop frequency specied frequency display section number interpolation points required depends highest signicant frequency component signal analysed idea useful trick set number points suitable value increase stop frequency value frequency display section frequency automatically set number interpolation points required value handle frequency dont actually want display frequencies level bring stop frequency back number interpolation points stay value reached doubt plot fft twice using different number points two results signicantly different frequency band interest increase number points usually interpolation order suitable value reduce analysing signals abrupt edges analysing smooth signal sinusoid useful improvements gained increasing order data span usually entire simulated time span used fourier analysis specify smaller time interval click specify enter start end times
random probes note specify fundamental frequency time may modied whole number cycles used occur whether explicitly specify interval window window function applied time domain signal minimise spectral leakage see choice window compromise trade bandwidth main spectral component lobe amplitude sidelobes rectangular window effect window narrowest main lobe substantial sidelobes blackman window widest main lobe smallest side lobes hanning hamming something similar main lobe widths side lobes differ way fall away main lobe hamming starts smaller doesnt decay whereas hanning starting larger hamming decays frequency moves away central lobe despite great deal research completed window functions many applications difference hanning hamming blackman important usually hanning good compromise situations rectangular window give signicantly superior results requires fundamental frequency specied also simulated signal consistent large number cycles rectangular window however usually gives considerably poorer results must used caution
probing buses possible probe bus case plot representing signals bus created usually numeric display digital bus data also possible display data analog waveform buses may contain either digital analog signals analog signals present threshold values must supplied dene logic levels analog signals probe bus using default settings use schematic popup menu probe voltage hot key f probe bus way would single wire plot numeric trace using decimal values probe bus using custom settings select menu probe voltage bus click desired bus enter desired bus parameters described bus probe options
bus probe options following describes options available random xed bus probes options set using dialog box shown see probing buses fixed probe options details plotting buses
random probes dene bus label curve labelled plot start end denes wires bus used created displayed data default use wires plot type decimalhexadecimalbinary species numeric display see showing bus values number base selected analog waveform species bus data plotted analog waveform hold invalid states checked invalid digital states found data replaced recent valid state checked invalid states shown x numeric displays option automatically selected analog waveform mode
random probes analog thresholds required signals bus analog dene thresholds converting logic levels threshold low analog voltage signal considered logic zero threshold high analog voltage signal considered logic one signal lower threshold upper threshold considered unknown dene analog waveform enabled analog waveform specied plot type box species scaling values units analog waveforms range peakpeak value used display offset analog display offset value zero result analog display centred xaxis units select appropriate unit drop box
plotting arbitrary expression wish plot one probe menus simetrix facility plot arbitrary expression node voltages device currents accessed via one menus probe add curve selecting one menus brings dene curve dialog box shown
random probes dene curve sheet expression enter arithmetic expression use operators various functions log sin etc enter node voltage click point schematic enter device pin current hold shift key click device pin schematic voltages currents may also selected available vectors box may also plot expression based curve already plotted simply click curve see function entered form cvn n integer entries made box stored future retrieval use drop box select previous entry x expression x data required xy plot must check xy plot box expression entered way data
random probes available vectors lists values available plotting nding vectors arent schematic either simulation made direct netlist vector voltage current subcircuit refer data handling keeps information press edit filter alter selection displayed see names displayed names vectors created simulator names node voltages names nodes names device currents composed device name followed followed pin name note devices output internal node voltages could get confused pin currents eg qbase internal base voltage q base current base current would qb vector names output noise analysis refer simulator reference manualcommand referencenoise edit filter pressing edit filter button opens allows select displayed available vectors dialog useful simulating large circuits number vectors large subcircuit filter vectors levels displayed top level vectors toplevel displayed select subcircuit subcircuit references displayed list box select one vectors local subcircuit displayed available vector list
random probes signal type list signal types voltages voltages listed currents currents listed digital digital vectors listed wildcard lter enter character string containing andor lter vector names matches occurrences character matches single character examples matches anything x matches signal name starts three letters x x matches name starts x third letter qc matches name ending qc ie current transistor called q uvout matches name ending uc ie node called vout subcircuit reference u curve label enter text string label curve axis options selections group allow control curve probed signal placed auto select select appropriate axis automatically see autoaxis feature use selected use currently selected yaxis use new yaxis create new yaxis selected grid one grid selected grid double vertical line drawn far left grid selected clicking use new grid plots curve new grid use detached new grid plots curve new grid detached xaxis detached xaxis independent may zoomed independently axes digital create new digital axis digital axes placed top window stacked one may take single curve name suggests intended digital traces used analog signals required new graph sheet creates completely new graph sheet plot
random probes note move curve new axis grid plotted see moving curves different axis grid axis scales sheet allows specify limits x axes xaxisyaxis linlogauto specify whether want xaxis linear logarithmic auto selected axis x set log x values logarithmically spaced yaxis also necessary curve values positive log axis selected change keep axes relevant adding existing graph auto scale set limits curves dened set limits dened min max boxes
random probes axis labels sheet sheet four edit boxes allowing specify x axis labels well units box left blank default value used remain unchanged axis already dened label
curve arithmetic simetrix provides facilities performing arithmetic existing curves example plot difference two plotted curves two methods menus plot sum two curves plot subtract two curves plot multiply two curves select one menus follow instructions given using add curve dialog box method select menu probe add curve plot add curve enter expression desired access existing curves data simply click curve information see plotting arbitrary expression ac analysis notes curve arithmetic ac analysis results complex plotting curve ac analysis magnitude complex data plotted unless explicit function applied phase imag although magnitude data plotted graph system retains original complex values arithmetic operation performed directly complex plotted data also complex example two curves ac analysis choose plot subtract two curves menu subtract new result magnitude complex difference difference magnitudes might expected mathematical terms see ab ab
using random probes hierarchical designs random probes may successfully employed hierarchical designs however complications arise explained closed schematics read following nd situations crossprobing inside hierarchical blocks sometimes fails function names used crossprobing stored schematic saved schematic le netnames assigned netlist created doesnt usually happen simulation run problem arises however schematic open netnames never created wont updated run default simetrix update closed le problem resolved giving simetrix permission update schematic les closed type command line set updateclosedschematics
random probes needs done note full versions simetrix problem wont arise always run every schematic least open netnames updated prompted save schematic closing multiple instances issue arises situation multiple instances block attached schematic consider following top level circuit two instances block fastampsxsch u u suppose wanted plot voltage node inside u schematic fastampsxsch open block refer answer refer recent block used descend block schematic refers always displayed schematics status bar illustrated
random probes plot node u ascend parent topsxsch example descend u schematic displayed refer u instead u plotting currents way plot currents subcircuits single sheet design also plot currents hierarchical blocks level
plotting results previous simulation select menu item simulator manage data groups open dialog box similar following
random probes select name previous run group require current group highlighted note ac analysis mode generates two groups one ac results dc operating point results transient analysis start time nonzero names groups usually default le name schematic generated edited meaningful picture click set current group click ok plot result require normal way word warning schematic undergone modications part value changes since old simulation completed netnames may different result plotted may expecting note default three recent groups kept changed using grouppersistence option using set command see set also keep specify particular group kept permanently using data groups manager proceed follows select menu item simulator manage data groups open data group manager dialog box see plotting results previous simulation illustration select group groups wish keep permanently click keep group see flags column group display keep click ok although three groups held time data actually stored disc le necessarily deleted wish access old run use file data load temporary data le name group appended sxdat whether data le still available depends preference setting see graphprobedata analysis details
updating curves combining results different runs occasions wish say plot difference node voltage different runs simetrix using probe add curve menu entering expression vector vector yexpression box vector vector names signals however two signals come different runs need method identifying run done prexing name group name followed colon group name analysis type name tran ac op dc noise tf sens followed number signal name obtained schematic voltages move cursor node interest see name appear status box form net currents put cursor device pin press controlp group name displayed simulator progress box simulation running also nd current group selecting menu simulator manage data groups current group marked current flags column example tutorial signal marked amplier output probe actually called qe latest run group called tran want plot output subtracted output previous run previous run tran enter yexpression box tranqetranqe details data groups please refer script reference manualscript languageaccessing simulation data
plot journals updating curves
overview repeat previous plotting operations one two ways update curves feature rebuilds current graph sheet using latest available data allows randomly probe schematic update curves new results new simulation run plot journal feature allows save plots current graph sheet later reconstruction doesnt save data saves vector names expressions used create graphs curves fact done building simetrix script plot curves
update curves make sure curves selected select graph menu plot update curves curves currently graph sheet redrawn using current simulation data although would usually latest simulation run also use feature restore curves back earlier run use simulator manage data groups menu select earlier data information see plotting results previous simulation options default curves redrawn older ones deleted change behaviour older curves kept select menu plot update curves settings uncheck delete old curves box curves would like remain xed wont updated simply select rst behaviour overridden using menu plot update curves settings simply uncheck ignore selected curves box
graph layout
plot journals first create plot journal using menu plot create plot journal choose le name le created sxscr extension extension used scripts le created script run plot journal course rst need run simulation load previous data journal data work plot journal store data simulation data wish work place select graph menu plot run plot journal simply runs script located current directory note plot journal always creates new graph sheet
graph layout graphs may additional axes accommodate plotting results incompatible scales occurs particularly plotting db phase also voltage current additional axes may either superimposed stacked user interface remainder documentation referred respectively axes grids illustrated
graph layout current voltage plotted separate axes
graph layout current voltage plotted separate grids
autoaxis feature plot new curve existing graph simetrix select necessary create compatible axis curve decision made basis curves units ie voltage current etc rules follows currently selected axis grid shown black axis line units curve plotted undened units designated label axis used axis currently selected grid compatible units ie curve undened axis used axes exist compatible units selected grid new yaxis created accommodate curve works plots made using random probes plots created xed probes see fixed probes details plots created using curve command command line autoaxis
graph layout switch must specied eg curve autoaxis lp
manually creating axes grids two toolbar buttons create new grid create new axis allow manual creation new axes grids initially empty subsequent random probe operations use new axis grid unconditionally long remains selected see
selecting axes operations performed selected axis grid selected yaxis displayed vertical axis line deep black remaining axes light grey selected grids displayed double vertical line far left newly created axes grids always selected select axis click left mouse button immediately left vertical axis line
stacking curves multiple grids menu curves stack curves place curve grid menu curves stack selected curves place selected curve grid
moving curves different axis grid freely move curves around one axis grid another proceed follows select curve curves wish move checking checkbox next coloured legend designates curve select axis wish move see press move selected curves new axis button curves redrawn new axis axes become empty result operation deleted unless main axis see deleting axes
detached xaxes grids may attached detached xaxes attached xaxes shared xaxes graph sheet zoom sync limits changed one grid grids xaxes also changed detached xaxes independent axis limits detached axes may created number ways add curve dialog box menu probe add curve select use detached new grid option axis options group plot curve new grid detached xaxis existing grid converted detached status using menu axes detach selected xaxis holding control key zooming create new grid detached xaxis convenient way create new view detail curve without losing original wide view detached axes automatically created situations existing shared axis compatible physical type new curve plotted example plot ac analysis result graph sheet containing time axes detached axis created plot
curve operations
deleting axes delete axis select press erase axis button menu axes delete axisgris
editing axes edit axis scales label units selecting graph popup menu axes edit axis brings following dialog box function axis scales sheet axis labels sheet similar sheets name dene curve dialog box see plotting arbitrary expression details
reordering grids digital axes change vertical order analog grids digital axes change analog grid order select axes reorder grids presented list currently displayed grids identied yaxis title use arrow buttons arrange order required click ok change digital axis order select menu axes reorder digital axes rearrange entries list described analog grids
curve operations
selecting curves curves may selected clicking curve select multiple curves hold control key curves may also selected checking associated check box legend window
curve operations
deleting curves delete curve curves select press erase selected curves button yaxis left empty deleting curves automatically deleted default grids left empty deleting curves also deleted action overridden using option setting refer graphprobedata analysis options
hiding showing curves curve may hidden without actually deleted sometimes useful many curves graph detail one wish see hidden others instance temporarily remove curves graph hide curve curves select press hide selected curves button show press show selected curves button
retitling curves change title curve selecting pressing name curve button change name curve displayed legend panel main graph area toolbar
highlighting curves highlight one curves stand others useful many overlapping curves displayed highlight curves select curves wish highlight press h menu curves highlight selected curves highlight curve divisions grouped curves created multistep analyses highlight individual divisions position small cross cursor curve interest select rightclick menu highlight highlight current division unhighlight curves select curves wish unhighlight press u menu curves unhighlight selected curves unhighlight curves select menu curves unhighlight curves
moving copying curves graphs menus edit copy edit cut edit paste may used move copy curves graph sheets note operations use internal clipboard place data system clipboard
graph cursors internal clipboard uses efcient method transferring curves uses little memory even curve large also copy curve data copied internally two curves reference data makes copying memory efcient operation move curve new graph sheet select curve curves wish move select menu edit cut either create new graph sheet receive new curves use f switch existing graph sheet select menu edit paste copy curve new graph sheet select curve curves wish move select menu edit copy either create new graph sheet receive new curves use f switch existing graph sheet select menu edit paste
graph cursors
overview graph cursors used make measurements waveforms default conguration consist two dimensioned crosshairs shown
graph cursors cursors moved horizontally vertically tracking attached curve picked dragged onto another curve initially two cursors facility add additional cursors without maximum limit
cursor operations displaying switch onoff cursor display select graph menu cursors toggle onoff moving cursors moved number methods left right mode xposition cursor varied cursor tracks curve attached use method place mouse vertical crosshair away intersection horizontal crosshair see mouse cursor shape change leftright arrow press left mouse key drag updown similar instead yposition varied use method place mouse horizontal crosshair away intersection vertical crosshair see mouse cursor shape change updown arrow press left mouse key drag drag drop mode cursor picked moved without tracking curve dropped location snap nearest curve use method place mouse cursor intersection crosshairs see cursor shape change fourpointed arrow press left key drag new location
graph cursors reference cursor moved leftright mode using right mouse button cursors moved together using left button holding shift key moving cursors along curve move cursor peak trough using hotkey dened following table key function f move main cursor next peak shiftf move main cursor previous peak f move main cursor next trough shiftf move main cursor previous trough f move reference cursor next peak shiftf move reference cursor previous peak f move reference cursor next trough shiftf move reference cursor previous trough operations also accessed graph menu cursors move hiding cursors temporarily hide displayed cursors menu cursors hideshow toggle action hide cursors cursors currently displayed viceversa cursors visible hidden presented option hide cursors show cursors menu cursors hideshow select allows selectively hide show cursors freezing cursors freeze cursors cant moved accidentally select menu cursors freezeunfreeze aligning cursors select menu cursors align align two cursors position
additional cursors simetrix ability display number cursors standard two add additional cursor select menu add additional cursor enter suitable label cursor displayed bottom graph avoid clutter recommend use short label single letter
graph cursors select cursor wish new cursor referenced horizontal vertical dimensions select none wish referenced currently displayed cursor note may reference additional cursors one desired click ok new cursor initially displayed start xaxis attached rst curve sheet may subsequently move desired remove additional cursors select cursors remove additional cursors select cursor cursors removed identied labels
cursor readout number options cursors absolute relative positions displayed initially values displayed dimensions graph altered number ways opt absolute relative readings displayed actual format graph readout customised eg extra text added perhaps something like delay xxxns xxx relative reading editing style orand format cursor dimension double click one displayed values cursor dimension following dialog open edit values described
graph cursors label labels three values displayed dimension label value displayed reference cursor label value displayed main cursor label value displayed difference x x xdiff symbolic values substituted absolute position reference cursor absolute position main cursor difference respectively add additional text example changed label pulse start x value displayed position reference cursor would prexed pulse start use predened function dropdown box choose commonly used symbolic values expressions use expressions relating constants symbolic values enclosed expressions must enclosed braces example expression xdiff cause difference value displayed reciprocal useful wanted display frequency instead period detailed description feature see graph symbolic values use arithmetic operator along many functions described script reference manualfunction reference expressions style show absolute clear check box disable display absolute positions cursors show difference clear check box disable display relative positions automaticinternalexternal style dimension internal means arrows always displayed cursors external means always displayed outside cursors automatic mode style change according spacing position note clear absolute difference able restore display dimension switching cursors font select font used readout text properties tab properties tab properties tab lists available properties crosshairdimension object probably interest writing custom scripts manipulate cursor dimensions information subject found script reference manualapplicationsgrph objects show curve info menu cursors show curve info display command shell information curve currently main cursor attached following information listed curve name source group name simulation group current curve created curve id required accessing curves using script commands run number multiple curves generated monte carlo run number identies run number created curve number used plot curve alone also identify seed value used monte carlo step
curve measurements
cursor functions four functions return current positions cursors used script expressions xdatum ydatum xcursor ycursor see script reference manualfunction reference details
curve measurements
overview number measurements applied selected curves results measurements displayed measurement window main graph drawing area see elements graph window measurements selected tool bar remainder may accessed via menu measure functions pressing f measurement functions may also applied fixed probes automatically updated simulation repeated see applying measurements fixed probes details general perform measurement select curve curves select measurement tool bar menu one curve displayed necessary select
available measurements wide range measurement functions available select menu measure functions see complete list information see using dene measurement gui
using dene measurement gui dene measurement gui general purpose interface measurement system provides access measurement functions along means dene custom measurements open dene measurement gui select menu measure functions see following dialog box
curve measurements choose measurement lists available measurement functions cursors switched functions greyed functions require identify parts waveform measured example manual rise fall time measurements require mark points rising falling edge interest click one measurements notes appear bottom explaining measurement use preprocess listed preprocess box three operations optionally performed waveform measurement function applied cursor span truncates waveform data span dened current positions cursors words measurement performed range dened cursor positions integral cycles truncates waveform data integral number whole cycles useful measurements rms meaningful applied whole number cycles ac coupled offsets data mean value equivalent accoupling data
curve measurements operations performed order listed example data truncated cursor span ac coupling custom measurement select custom entry choose measurement list custom measurement tab enabled custom measurement tab allows dene measurement along option add list predened measurements following explains entries custom measurement tab label displayed graph label appear alongside measurement value graph legend panel usually would literal text may also enter template string using special variables script functions see templates details expression expression dene measurement use variable data access data curve measured expression must return single value ie scalar see goal functions details functions may used dene measurement expressions format template denes value displayed leave blank default used display result expression along units see templates details save denition predened measurements checked measurement denition saved list shown predened measurements optionally enter details save denition note denition appear predened list dialog closed reopened management custom measurement denitions made using measurement denitions manager short description displayed list box choose measurement predened measurement tab full description displayed list box item selected
measurement denitions manager select menu measure manage measurement denitions open measurement denitions manager dialog box shown
curve measurements measurement denitions manager allows edit built custom measurement denitions select measurement select measurement wish edit list restore factory denition button enabled builtin denition edited way press restore denition original custom denitions buttons label changes delete press delete denition possible delete builtin denitions create new measurement create completely new empty measurement copy existing one edit enter name press create create new empty denition copy existing denition select denition select measurement press copy selected measurement denition dene measurement entries label displayed graph label appear alongside measurement value graph legend panel usually would literal text may also enter template string using special variables script functions see templates details expression expression dene measurement use variable data access data curve measured expression must return single value ie scalar see goal functions details functions may used dene measurement expressions
curve measurements format template denes value displayed leave blank default used display result expression along units see templates details save denition predened measurements checked measurement denition saved list shown predened measurements optionally enter details save denition note denition appear predened list dialog closed reopened management custom measurement denitions made using measurement denitions manager full description displayed list box item selected requires cursors switched checked measurement disabled unless graph cursors enabled templates graph label format template may entered using template containing special variables expressions following available yn n number yvalue returned expression value returned expression may vector elements returns element returns element etc xn n number xvalue returned expression value returned expression may vector elements x returns xvalue element x returns xvalue element etc xvalues values used xaxis aware functions return xdata uyn units values uxn units x values literal character expression expression evaluated substituted expression may contain valid meaningful script function full details see script reference manualfunction reference
repeating measurement menu measure repeat last measurement repeat recent measurement performed
applying measurements fixed probes measurements may applied xed probes measurement performed automatically simulation complete apply measurement probe proceeds follows select probe right click menu editadd measurements following box displayed
curve measurements begin single measurement shown using drop box measurement column select desired measurement type may also change attributes cursor span species measurement calculated current cursor range cursors switched ignored ac coupled species data dc component removed measurement made per cycle apply algorithm detect whole numbers cycles apply measurement range display schematic additionally display measurement result schematic using label attached probe add additional measurements click add measurement button new line appear limit number measurements may applied remove measurement select line removed click remove measurement
notes curve measurement algorithms measurements algorithms make assumptions wave shape analysed work well cases foolproof following notes describe algorithms work limitations measurement algorithms implemented internal scripts full source scripts found install cd see install cd per cycle frequency measurements measurements assume curve analysed repetitive xed frequency results may meaningful waveform varying frequency burst nature cycle measurements calculate many whole cycles possible measurements use algorithm determine location xaxis crossings waveform algorithm quite sophisticated works reliably bulk algorithm concerned nding optimum base line use xaxis crossings
curve measurements per cycle measurements useful simulated span cover whole number cycles measurements rms repetitive waveform useful meaning calculated whole number cycles simulated span cover whole number cycles full version measurement yield accurate result rise fall time overshoot measurements measurements determine waveforms pulse peaks histogram method used flat areas waveform produce peaks histogram method reliable tolerant large number typical pulse artefacts ringing overshoot waveshapes pulse peaks well enough dened give reliable answer cases measurement fail error reported distortion calculates residue fundamental removed using fft based method algorithm needs reasonable number cycles obtain accurate result frequency fundamental displayed message window note frequency components hz second harmonic excluded precision method tested performing measurement test circuit signal pos side v
distortion use v main test source assuming testing amplier simulation complete check distortion measurement v
inaccurate need either increase number measurement cycles reduce maximum time step adjust amplitude v appropriately required resolution greater less
note general accuracies better around require tightening simulation tolerance parameters cases reducing reltol relative tolerance sufcient done options tab choose analysis dialog simulator choose analysis detailed discussion accuracy see chapter convergence accuracy simulator reference manual
efciency calculator frequency response calculations must nd passband calculations like rise fall histogram approach used nd approximate range magnitude processing performed nd exact magnitude note algorithms allow certain amount ripple passband work cases fail excess db note frequency response measurements general purpose required account wide variety responses including high low pass elements well responses band pass ripple requirement compromises accuracy simpler cases example calculate db point low pass response extends dc db point taken point midway start frequency frequency rolloff starts better location would start frequency would inaccurate high pass roll low frequencies taking middle point compromise produces good necessarily perfect results wide range cases increase accuracy case described start analysis lower frequency lower frequency db reference taken
plots curves two plots made directly selected curves described fft selected curve single curve selected select menu plot fourier selected curve new graph sheet opened fft curve displayed plot fft curve span dened cursor locations select menu plot fourier selected curve cursor span smoothed curves single curve selected select one plot lp filtered menus plot lp filtered custom tc need enter time constant value new curve displayed ltered version selected curve functions still work dont select curves case prompted curve perform operation system uses rst order digital iir lter perform ltering action
efciency calculator
overview generating efciency calculator report involves three basic steps rst step use menu tools efciency calculator add power probes schematic place minimum two probes one input source one output load algorithm calculates power delivery efciency sources loads xed power probes must placed terminals symbol matter pin probe attached long device attached pin efciencycalculation algorithm produces additional section details loss breakdown probes assuming power probe represents loss element design therefore
efciency calculator comprehensive report place xed power probe lossy component schematic second step use menu tools efciency calculator dene inputs outputs specify probes assigned inputs assigned output loads note power probes assigned inputs outputs considered losses third step use menu tools efciency calculator calculate efciency run report appears dialog command shell window efciencycalculation algorithm reads mean measurements xed power probes schematic reports efciency command shell window calculate efciency algorithm assumes following circuit entered steady state waveform viewer integral number periodic cycles data although simplis pop analysis always meets two requirements must ensure simetrix simulation circuit entered steady state efciencycalculation algorithm uses numerical integration total number simulation points therefore simulation must high number data points ensure efciency calculation accurate specify number simetrix simulation points follow steps schematic editor select menu simulator choose analysis bottom transient tab click advanced options advanced options dialog set max time step ns less note converters value may ns less experimentation may necessary efciency data appears noisy likely cause insufcient number plot points specify number simplis simulation points follow steps schematic editor select menu simulator choose analysis click transient tab set number plot points least k note converters value may k greater experimentation may necessary efciency data appears noisy likely cause insufcient number plot points
step place power probes menu tools efciency calculator add power probes schematic allows place multiple xed power probes current schematic place power probes schematic close hint window follow steps position power probe circle component pin click left mouse button note zoom placing power probes hold control key scroll mouse wheel pan pan left right hold alt key scroll mouse wheel repeat previous step placed power probes stop placing power probes click right mouse button note also place delete power probes schematic following menus tools efciency calculator add power probes schematic tools efciency calculator delete power probes
zoom scroll
step dene input output probes menu tools efciency calculator dene inputs outputs allows specify probes assigned input sources assigned output loads overall efciency calculated input probes output probes selected bottom efciency calculator dialog probes remaining upper box considered lossy elements design use following methods move probes power probes box either input probes output probes box click select single probe click appropriate add button hold control key click multiple probes click add button mouse draw box around adjacent probes click add button dene input output probes follow steps upper box select probes assign input sources click add inputs select probes assign output loads click add outputs click ok
step calculate efciency menu tools efciency calculator calculate efciency generates efciency report existing data displays report dialog command shell window note data exists prompted select input output probes report run assigning input output probes must select menu tools efciency calculator calculate efciency
graph zooming scrolling
zooming mouse zoom portion graph place cursor top left area wish view press hold left mouse key move cursor bottom right area release left key axes limits modied appropriately graph multiple stacked grids sure rst left click within area grid wish zoom notice thin grey line separating grid start mouse drag within grey lines chosen axis zoom x axis dragging horizontal line across area outside grid eg right bottom window lower x axis line view whole graph select graph popup zoom full toolbar button
zooming keyboard f zoom shiftf zoom home returns graph full view graph popup zoom full
annotating graph
recovering earlier zoom press undo zoom toolbar button recover earlier zoom scroll positions
scrolling keyboard left right cursor keys scroll active graph
zooming multiple grids zoom box covers multiple grids xaxes grids altered
adding new curves zoomed grid add new curve graph zoomed axes limits change accommodate curve new curve lie within zoomed area see selecting graph popup zoom full pressing home key restores graph autoscaling limits always adjust curves visible even ones subsequently added
zoom fit yaxis zoom yaxis displayed xaxis press fit height toolbar button
annotating graph number objects available annotate graphs documentation purposes curve marker single arrow line item text identify curve feature curve legend box box text lists names curves currently displayed text box box containing text message free text similar text box without border background caption free text designed single line heading
curve markers placing place curve marker select menu annotate add curve marker single curve marker appear right hand margin graph moving move place mouse cursor arrow head see cursor shape change four pointed arrow left click drag desired location release marker snap nearest curve
annotating graph moving label move text label alone place mouse cursor lie within text left click drag notice alignment text respect arrowed line change move text around arrow x particular alignment preferred changing markers properties see deleting first select marker single left click text text change colour blue press delete key menu annotate delete selected object editing properties double click markers label select menu annotate edit selected object following dialog open label text markers label curvelabel automatically resolves curves label curve name edited menu curves rename curve value reect change course enter text box also use expressions manner cursor dimensions see label editing style orand format cursor dimension text alignment label aligned arrowed line set automatic alignment chosen appropriate relative position label arrowhead uncheck automatic select list x particular alignment font press edit font change font text properties panel following
annotating graph snap curve switch action causes curve markers always snap curve select properties tab double click snaptocurve item select able move curve marker location
legend box placing select menu annotate add legend box box listing curve names appear top left graph moving place cursor inside box drag new location resizing alter maximum height box placing mouse cursor bottom edge dragging text box automatically reposition comply new maximum height editing properties double click box select menu annotate edit selected object following dialog opened dialog box options
annotating graph label lists label box usually defaultlabel resolves name referenced curve edit double click desired item also enter symbols x represent x coordinates marker respectively combined text suitable manner example voltage xs might resolve something like voltage u
values x automatically update move marker also use expressions manner cursor dimensions see label editing style orand format cursor dimension background colour select button edit colour change background colour change default colour select menu file options colour select item text box edit colour required font select button edit font change font change default font select menu file options font select item legend box edit font required
text box placing select menu annotate text box enter required text ok use symbolic constants date time version represent creation date creation time product version respectively moving place cursor inside box drag new location editing properties double click box select menu annotate edit selected object dialog like one shown legend boxes see placing displayed note editing label use symbolic constants detailed
caption free text caption free text objects essentially difference initial font size position placing select menu annotate caption annotate free text enter required text ok use symbolic constants date time version represent creation date creation time product version respectively moving place cursor inside box drag new location
annotating graph editing properties double click box select menu annotate edit selected object open dialog similar one shown curve markers without automatic option text alignment
graph symbolic values graph objects one label properties used display text graphas well literal text label properties may also use symbolic values enclosed symbolic values return values properties belonging object example curve marker objects property called x always set xlocation curve attached x curve marker label return xlocation allowing displayed graph x property updated every time curve marker moved label value reevaluated every time graph repainted sometimes necessary force repaint get labels symbolic values orand expressions update moving another window graph adjusting size window slightly properties return id another graph object example curve property returns id curve attached used access properties referenced object done appending followed referenced objects property name example curvelabel returns label property curve attached curve marker indirect access graph object properties nested level although probably good reason two levels curvexaxislabel example two levels curve returns id curve curvexaxis returns id axis curvexaxislabel returns label property belonging axis full documentation available script reference manualapplicationsgraph objects lists available objects property names also subheading titled symbolic values explains however deducing different possibilities symbolic values especially indirect values requires effort reason following table compiled lists range complete symbolic values meaningful use labels various objects list exhaustive probably everything useable note symbolic variable names like everything simetrix case sensitive variable description use curvelabel curves label curve marker curveshortlabel curves label without groupname sufx sometimes displayed curve marker curvexunit curves xaxis units curve marker curveyunit curves yaxis units curve marker x curves xvalue curve marker curve marker curves yvalue curve marker curve marker curvexaxislabel curves xaxis label curve marker curveyaxislabel curves yaxis label curve marker curvemeasurements measurements assigned curve curve marker graphmaincursorx xposition main cursor anything graphmaincursory yposition main cursor anything
annotating graph variable description use graphrefcursorx xposition ref cursor anything graphrefcursory yposition ref cursor anything graphgrouptitle title initial data group actually netlist title rst line schematic simulations full path schematic anything graphsourcegroup data group name current rst curve added graph eg tran dc etc anything curvelabel label curve attached crosshair dimension curvelabel label curve attached crosshair dimension curveshortlabel curves label without groupname sufx sometimes displayed dimension curveshortlabel curves label without groupname sufx sometimes displayed dimension curvexunit curves xaxis units dimension curvexunit curves xaxis units dimension curveyunit curves yaxis units dimension curveyunit curves yaxis units dimension date date object created textbox free text caption legend box time time object created textbox free text caption legend box version product name version textbox free text caption legend box expressions graph object labels may contain expressions enclosed curly braces evaluated result evaluation replaces complete expression curly braces script function may used although subset applicable function cv particularly useful cv returns data curve use functions return scalar vector attach measurements curve markers cursors use curve argument cv ie cvcurve example return rms value curve attached curve marker rmscvcurve crosshair dimension objects cursor dimensions use curve curve instead curve
exportingimporting truncate function useful want display measurement applied range marked cursors following example return rms value curve attached curve marker range marked cursors rmstruncatecvcurve graphrefcursorxgraphmaincursorx also use string functions example graphtitle usually returns pathname schematic guaranteed always case schematic saved run using regular menus use splitpath function obtain le name eg splitpathgraphgrouptitle use object including free text text boxes captions captions identical free text different default position font numeric functions usually result display signicant digits desirable format result less accuracy use formatnumber function example formatnumberrmscvcurve display result digits
exportingimporting graphs data
clipboard operations overview simetrix offers facilities copy graph data graphs graphical image system clipboard provides ability export simulation results applications data example may exported spreadsheet application custom processing graphical image may exported word processor preparation documents simetrix may also import data tabulated ascii format feature may used display data spreadsheet allowing example comparison measured simulated data copy data clipboard select graphs wish export select menu edit copy ascii data data copied tabulated ascii format rst line contain names curves remaining lines contain curves data arranged columns copying graphics clipboard three different ways graph copied clipboard use menus edit copy graphics detailed colour copies graph clipboard full colour curve legends identify curves using coloured squares similar graph displayed screen
exportingimporting monochrome copies graph clipboard monochrome curves distinguished using varying markers line styles curve legends distinguish curves straight line example colour markers copies graph clipboard full colour also differentiates curves using markers line styles curve legends distinguished curves straight line example paste data clipboard simetrix plot curves using tabulated ascii data clipboard format used exporting data see copy data clipboard details
exporting graphics may export schematic graphics applications word processors drawing programs via clipboard see copying graphics clipboard writing le export waveform graphics le select graph menu file save picture select format choice using save type drop box choices windows meta file emf wmf nearly windows applications support graphics import accept format note scalable format therefore suitable high resolution printing scalable vector graphics svg like emf wmf scalable format open format supported programs platforms whereas emf wmf available windows bitmap default image size png jpg bmp available platforms widely supported graphics applications scalable formats offer good quality printed using high resolution printers png default format choose le extension generally format works well schematics graphs choose jpg jpeg format bmp windows bitmap format must explicitly enter jpg bmp le extensions respectively option image size match image size currently displayed screen wish specify different image size use next option bitmap specify image size png jpg bmp must explicitly dene image resolution pixels prompted close le selection dialog box
data import export simetrix provides capability export simulation data le text form also import data le text form makes possible process simulation data using another application spreadsheet custom program operations described section handle data independent graph system also ways export plotted data graph also directly plot external data information topics refer copying data clipboard paste data clipboard simetrix may also import data spice raw le format csdf format simulation products output one formats importing spice raw csdf files select menu simulator load simulation data
exportingimporting files type select spice raw files csdf files required select le import simetrix read entire le write data temporary sxdat le way saving simulation data data read raw le buffered ram order maximise efciency saved data simetrix use system ram purpose note feature available simetrixsimplis elements importing tabulated ascii data simetrix import data tabulated ascii format allowing display data created spreadsheet program menu done using command opengroup text switch eg command line type opengroup text datatxt read le datatxt create new group called textn see data files text format details format note create le using another program spreadsheet command may fail le still open application closing le application resolve exporting spice raw files simetrix export simulation data spice raw le format may accepted third party waveform viewers export spice raw le proceed follows select menu file data save save type choose spice raw files note various applications use slightly different variants format default simetrix outputs data form standard unmodied spice program modied using option setting exportrawformat use set command set value see set details set value spice spectre exporting data export data use command show see show file switch eg show file datatxt vout rp qc output datatxt vectors vout rp qc values output form compatible opengroup text vector names example vector names vout rp qc simulate schematic names used voltage signals node names netlist turn assigned schematics netlist generator nd names move mouse cursor node interest schematic see node name therefore vector name status box form net nd current name place mouse cursor device pin interest press controlp also x name node using terminal symbol see menu place connectors terminal place terminal symbol node interest set name value choice note best avoid characters letters numbers usnderscore character
exportingimporting launching applications data import export makes possible process simulation data using applications simetrix facility launch programs using shell command could therefore write script export data process program read processed data back plotting must specify wait switch shell command force simetrix wait external application nished eg shell wait procdataexe launch program procdataexe return procdataexe closed data files text format simetrix ability read data text form using opengroup command see opengroup makes possible use simetrix graph data generated applications spreadsheet useful compare simulated measured results two alternative formats rst simply series values separated white space read single vector reference equal index second format follows text data le may contain number blocks block header followed list datapoints header datapoint must one line header form referencename ydataname ydataname datapoint must form referencevalue ydatavalue ydatavalue number entries datapoint must correspond number entries header reference x data eg time frequency data files text format example time voltage voltage
e read text le using opengroup text new group called textn n number would generated group would contain three vectors called time voltage voltage vectors voltage voltage would reference time time would reference read complex values enclose real imaginary parts parentheses separate comma eg frequency vout
""
""
""
""
""
""
""
saving graphs
""
""
""
""
saving graphs save graph complete curves cursor settings annotations binary le later retrieval note graph data stored needed current view long run needed create graph le could quite large
saving select graph menu file save graph save graph never saved update saved graph use graph menu file save graph
restoring select menu file open select graph files le type drop box
saving data
saving data simulation simulator usually saves data binary le stored temporary location data eventually get deleted save data permanently select menu file data save offered two options move existing data le new location move data le location specify thus change status temporary permanent long new location volume disk partition original location operation quick however data recent simulation simetrix needs unhook order able move le make impossible resume simulation paused restart simulation transient note specify location different volume original data les data copied large data les take long time make new copy makes fresh copy data option suffer drawbacks moving le data le large take long time
restoring simulation data select menu file data load navigate directory previously saved data les
dc operating point also reload data temporary les using menu file data load temporary data whether les available opened depends temporary data le delete options see graphprobedata analysis information options error process access file used another process means temporary data le still use unless le use another instance simetrix able use data selecting associated group use menu simulator manage data groups
viewing dc operating point results
schematic annotation annotate schematic results dc operating point analysis requires special markers placed schematic instruct simetrix place markers every node place manually place voltage marker manually use schematic popup bias annotation place marker use controlm text displaying value placed sharp side marker start points placing marker vertical wire might wish text one side rotate marker placing pressing rotate toolbar button f key place current marker use menu place bias annotation place current marker place markers nodes select bias annotation auto place markers however clutter schematic may prefer place manually display values select bias annotation update values values automatically updated simulation run menu bias annotation delete markers deletes markers bias annotation hide values removes text leaves markers place
displaying device operating point info menu bias annotation display device bias info display message window node voltages pin currents total power dissipation selected schematic part note power dissipation calculated node voltages currents
list file data great deal information device circuit obtained list le use menu simulator open list file see also see simulator reference manual information list le
methods obtaining bias data also display voltage current command shell without placing part schematic voltages place mouse cursor point interest press controln currents place cursor part pin press controli
performance analysis
bias annotation simplis apply operation simetrix simplis modes simplis mode dc values displayed represent results time ac analysis time value associated pop analysis
bias annotation display precision default bias annotation values displayed precision digits change select menu file options general edit value box bias annotation precision schematic sheet
bias annotation long transient runs running long transient analysis plan use bias annotation extensively might like set simulator option make process efcient simulator option options forcetranopgroup forces separate data group separate data le created transient analysis bias point data unless tstart bias point data usually taken values problem approach view single value entire vector loaded data le memory isnt problem run points could problem points take long time load amount data specifying option bias point data stored separately single value needs read le much efcient
performance analysis histograms
overview running multistep analyses generate multiple curves often useful able plot characteristic curve stepped value example suppose wished investigate load response power supply circuit wanted plot fall output voltage vs transient current load would set transient analysis repeat number times varying load current see multistep analyses learn run complete plot complete set curves take cursor measurements manually produce plot voltage drop vs load current course quite time consuming error prone activity fortunately simetrix means automating procedure range functions sometimes known goal functions available perform computation complete curve create single value applying one combination functions results multistep analysis curve goal function versus stepped variable may created feature especially useful monte carlo analysis case would likely wish plot histogram start example fact power supply whose load response wish investigate
example following circuit model hybrid linearswitching v psu see workexampleshybridpsuvpsuvsxsch
performance analysis provides current switched ms short delay multistep analysis set load current varied output runs plot graph voltage drop vs load current procedure select menu probe performance analysis see dialog box similar shown plotting arbitrary expression expression box must enter expression resolves single value curve
performance analysis example use yatxvout minimumvout yatxvout returns value vout time minimumvout returns minimum value found curve end result drop voltage load pulse occurs click ok following curve appear
histograms procedure histograms except use menu probe histogram instead another example design active bandpass lter using simulated inductor method see examplesmontecarlohzbandpasssxsch want plot histogram centre frequency lter
performance analysis example circuit set runs wont take long run typically less one second procedure run simulation using f equivalent menu select menu probe plot histogram left click output lter junction r c see rp appear expression box must modify goal function returns centre frequency function centrefreq measures centre frequency calculating half way point intersections specied value peak typically would use db modify value expression box reads centrefreqrp monte carlo group set number histogram bins stage optionally modify graph setting enter axis labels etc close box see
performance analysis note mean standard deviation automatically calculated creating histograms using fixed probes histograms may created using arbitrary xed probe see arbitrary fixed probemultistep mode histograms single step monte carlo sweeps example type run shown sectionmonte carlo runs produce single curve point curve result monte carlo analysis runs need apply goal function enter name signal wish analyse illustrate use example shown sectionmonte carlo open example circuit examplessweepacparammonte run simulation select menu probe plot histogram left click pin differential amplier e see rn appear box enter click pin e box rnrn monte carlo group set number histogram bins close box see something like
performance analysis histogram showing distribution gain amplier khz
goal functions range functions available process curve data primitive others use user dened function mechanism primitive functions compiled binary executable le user dened functions dened scripts installed functions start user dened functions modied may also dene information refer script reference manualapplicationsuser dened script based functions functions described arent functions may used expression performance analysis simply ones convert array data simulator generates single value useful meaning many functions process simulation vectors produce another vector example log sqrt sin cos many dened script reference manualfunction reference particular interest truncate function selects data given x range apply goal function work specic part data primitive functions following primitive functions may used goal functions actually return single value return array result would need indexed maxima example
performance analysis name description maximareal real string returns array maximum turning points maximumrealcomplex real real returns largest value given range meanrealcomplex returns mean values use transient analysis data fails take account varying step size use mean instead meanreal real real finds true mean accounting interval data points minimareal real string returns array minimum turning points minimumrealcomplex returns largest value given range rmsreal real real finds rms value data sumnoisereal real real integrates noise data nd total noise specied range xfromyreal real real real returns array x values given value yfromxreal real real returns array values given x value user dened functions following functions dened using user dened functions mechanism dened scripts behave like functions name description bpbwdata dbdown bandpass bandwidth bandwidthdata dbdown bpbw centrefreqdata dbdown centre frequency distortion ow fhigh weighting distortion sinusoidal signal dutydata threshold duty cycle rst pulse falldata start end fall time frequencydata threshold average frequency gainmargindata phaseinstabilitypoint gain margin hpbwdata dbdown high pass bandwidth lpbwdata dbdown low pass bandwidth overshootdata start end overshoot peaktopeakdata start end peak peak perioddata threshold period rst cycle phasemargindata phaseinstabilitypoint phase margin pulsewidthdata threshold pulse width rst cycle risedata start end rise time xatnthydata yvalue n x value nth crossing
performance analysis name description xatnthyndata yvalue n x value nth crossing negative slope xatnthypdata yvalue n x value nth crossing positive slope xatnthypctdata yvalue n x value nth crossing value specied percentage yatxdata xvalue value xvalue yatxpctdata xvalue value xvalue specied percentage bpbw bandwidth bpbwdata dbdown finds bandwidth band pass response illustrated following graph function return xx shown diagram note data assumed raw simulation data may complex must dbs
performance analysis implemented builtin script ufbandwidth source may obtained install cd see centrefreq centerfreq centrefreqdata dbdown see diagram bpbw bandwidth function returns x x spelling variations centre center accepted implemented builtin script ufcentrefreq source may obtained install cd see install cd distortion distortiondata flow fhigh weighting calculates distortion expected sinusoidal waveform function evaluates fft data locates highest peak assumes fundamental removes calculates residue excluding dc component return value residue ratio fundamental flow fhigh provided used dene frequency range distortion calculated weighting may dened apply iec audio weighting curve may value b c duty dutydata threshold function returns xxxx x x x dened graph default value threshold ymaxymin ymax largest value data ymin smallest value data implemented builtin script ufduty source may obtained install cd see install cd fall falldata xstart xend
performance analysis function returns fall time rst falling edge occurs x x point threshold yy
point threshold yy xstart specied xxstart otherwise x x value rst point data xend specied xxend otherwise x x value last point data xstart specied yy value xstart otherwise maximum value data xend specied yy value xend otherwise minimum value data implemented builtin script uffall source may obtained install cd see install cd frequency frequencydata threshold finds average frequency data returns n xn x n number positive crossings threshold xn x value nth positive crossing threshold x x value rst positive crossing threshold threshold specied default value ymaxymin used ymax largest value data ymin smallest value implemented builtin script uffrequency source may obtained install cd see install cd gainmargin gainmargindata phaseinstabilitypoint
performance analysis finds gain margin db data data complex open loop transfer function closed loop system gain margin dened factor open loop gain system must increase order become unstable phaseinstabilitypoint phase system becomes unstable used allow support inverting noninverting systems data represents inverting system phaseinstabilitypoint zero data represents noninverting system phaseinstabilitypoint function detects frequencies phase system equal phaseinstabilitypoint calculates gain frequencies returns value numerically smallest might negative indicating system probably already unstable could conditionally stable phase system cross phaseinstabilitypoint gain margin evaluated function return empty vector hpbw hpbwdata dbdown finds high pass bandwidth returns value x shown diagram max value maximum point x max x value maximum point x x value rst point curve crosses max dbdown starting x max scanning right left note data assumed raw simulation data may complex must dbs implemented builtin script ufhpbw source may obtained install cd see lpbw lpbwdata dbdown
performance analysis finds low pass bandwidth returns value x shown diagram max value maximum point x max x value maximum point x x value rst point curve crosses max dbdown starting x max scanning left right note data assumed raw simulation data may complex must dbs implemented builtin script uflpbw source may obtained install cd see install cd overshoot overshootdata xstart xend finds overshoot percent returns ymaxystartystartyend ymax largest value found interval xstart xend ystart value xstart yend value xend xstart omitted defaults x value rst data point xend omitted defaults x value last data point implemented builtin script ufovershoot source may obtained install cd see install cd
performance analysis peaktopeak peaktopeakdata xstart xend returns difference maximum minimum values found data within interval xstart xend xstart omitted defaults x value rst data point xend omitted defaults x value last data point implemented builtin script ufpeaktopeak source may obtained install cd see install cd period perioddata threshold returns period data refer diagram duty function period function returns x x default value threshold ymaxymin ymax largest value data ymin smallest value data implemented builtin script ufperiod source may obtained install cd see install cd phasemargin phasemargindata phaseinstabilitypoint finds phase margin db data data complex open loop transfer function closed loop system phase margin dened angle open loop phase shift system must increase order become unstable phaseinstabilitypoint phase system becomes unstable used allow support inverting noninverting systems data represents inverting system phaseinstabilitypoint zero data represents noninverting system phaseinstabilitypoint function detects frequencies magnitude gain unity calculates phase shift frequencies returns value numerically smallest might negative indicating system probably already unstable could conditionally stable gain system cross unity phase margin evaluated function return empty vector pulsewidth pulsewidthdata threshold returns pulse width rst pulse data refer diagram duty function pulsewidth function returns x x default value threshold ymaxymin
performance analysis ymax largest value data ymin smallest value data implemented builtin script ufpulsewidth source may obtained install cd see install cd rise risedata xstart xend function returns rise time rst rising edge occurs x x point threshold yy
point threshold yy xstart specied xxstart otherwise x x value rst point data xend specied xxend otherwise x x value last point data xstart specied yy value xstart otherwise maximum value data xend specied yy value xend otherwise minimum value data xatnthy xatnthydata yvalue n returns x value data crosses yvalue nth time xatnthyn xatnthyndata yvalue n returns x value data crosses yvalue nth time negative slope xatnthyp xatnthypdata yvalue n returns x value data crosses yvalue nth time positive slope xatnthypct
performance analysis xatnthypctdata yvalue n xatnthy yvalue specied percentage maximum minimum values found data yatx yatxdata xvalue returns value data x value xvalue yatxpct yatxpctdata xvalue yatx xvalue specied percentage total x interval data chapter command shell
command line command line top command shell see diagram vast majority operations simetrix executed menus predened keys require use command line however advanced operations require use command line command line run script internal command also dene new menu call script command series commands fact built menu keys fact dened commands scripts denitions changed well new ones dened see editing menu system details available commands given command function reference remainder documented script reference manualcommand reference
command history history manually entered commands available drop list select arrow right command line commands entered via menus script may also placed command history
editing menu system
message window various messages may displayed message window command line include command progress errors warnings listing outputs text window may copied clipboard using context sensitive menu activated right mouse button
multiple commands one line place multiple commands line separated semicolon way menu key dened execute one command
scripts simetrix features comprehensive scripting language full details found script reference manualscript language
command line editing command line windows edit control cursor keys home end work usual way also copy controlc cut controlx paste controlv text also right click popup menu usual edit commands
command line switches many commands switches always preceded meaning specic command however four global switches applied command must always placed immediately command command specic switches global switches follows e forces command text copied command history ne inhibits command text copying command history quiet inhibits error messages command stops error message displayed script still aborted error occurs message output noerr stops scripts aborted error error message still displayed
editing menu system
overview menu system simetrix may edited one two methods using script language either edit menusxscr script builds menu system program start make additions adding commands start script using gui based menu editor rst method offers ultimate exibility steep learning curve second method quite simple use appropriate simple changes menu system deleting unused menus changing hotkey denitions following describes second method details rst method please refer script reference manualapplicationsschematic symbol script denition
editing menu system
procedure select menu file options edit menu open following dialog box view shows layout simetrixsimplis products simetrix products top level menu choices slightly different left hand pane shows current menu system tree structured list buttons right allow move delete add new menu items sub menus delete menu item entire submenu select item wish delete left hand side press remove subsequently restore deleted item use add item see
editing menu system move menu item submenu select item use arrows key move required wish move menu item different submenu remove described add using add item see add new menu item add previously removed menu item new location create completely new menu item cases select location within submenu press add item add previously removed menu select add existing choose item left hand pane pane empty previously removed menu items could previous session deleted items always remembered add new item press add new enter required values name enter name menu would like see menu use character denote underlined letters used denote altkey shortcuts eg menu displayed menu activated altm command string must enter valid simetrix command typically would call user dened script may also enter primitive commands list primitive commands separated semicolons see script reference manualcommand reference full details add separator submenu press add separator create new submenu select location new menu press add menu enter menu name required new submenu one single empty item select add new items submenu empty item appear simetrix menus edit add accelerator key select menu item wish assign accelerator key press accelerator asked press single key key combination shift control alt key press assigned menu press remove delete accelerator key assignment reset factory settings press reset reset menu system back factory settings usually means menu system revert structure dened simetrix rst installed however dened menus startup script using defmenu command menus faithfully restored well reopen menu reopen menu file menu dynamically updated include schematic les recently opened saved items menu listed menu editor edited reopen submenu deleted moved new submenu renamed may repositioned file menu desired
user dened toolbars buttons
user dened toolbars buttons toolbars buttons user denable also possible create new toolbars buttons full details provided applications chapter script reference manualapplicationscreating modifying toolbars
message window message window window command shell command line majority messages including errors warnings displayed window scrolled vertically scroll bar copy line text message window command line placing cursor line either double clicking left mouse key pressing insert key
introduction chapter command function reference
introduction functions commands available covered chapter details available functions commands found script reference manualfunction reference script reference manualcommand reference
notation symbols used square brackets signify command line parameter switch optional pipe symbol signies eitheror ellipsis signies optional multiple entries fonts anything would typed displayed fixed width font command line parameters italics case although upper lower cases used command names fact case sensitive examples opengroup text filename text switch lename parameter optional example following legitimate
reference opengroup opengroup text opengroup runsxdat opengroup text outputtxt delcrv curvenumber one curvenumber parameters may given following legitimate delcrv delcrv
command summary approximately available commands detailed chapter list given table documentation remainder provided script reference manualcommand reference command name description opengroup create new group simulation data data le set set option show displays value expression used export data le ascii form unset delete option
opengroup opengroup text overwrite filename reads data le options available addition please refer script reference manualcommand referenceopengroup information text specied data le assumed text format otherwise le input simetrix binary data le saved savegroup command see data import export details text format overwrite forces existing group name overwritten specied group read renamed group name already exists lename name le input opengroup creates new group text specied name group stored provided name conict existing group conict name modied unique text specied group named textn n chosen make name unique
set set temp optionspec optionspec denes option temp specied option setting temporary restored original value control returns command line ie scripts completed optionspec one two forms form optionname form optionname optionvalue optionname names listed options options type boolean use form others use form see also options unset
show show file filename append filename noindex noheader plain force clipboard names names width width expression expression displays value expression command used export data simulator ascii form see data import export details le lename specied outputs result lename values output format compatible opengroup text see opengroup append lename le except le appended already exists noindex vector reference index value element output switch specied noheader specied header providing vector names etc inhibited plain specied index noindex header noheader output addition string values output without enclosed single quotation marks force file specied le unconditionally overwritten exists clipboard outputs data system clipboard names names semicolon delimited string providing names used headings tabulated data specied vector names used instead width width page width columns tabulated data specied limit set
function summary lock specied le lock le created write operation performed le extensionlck used synchronise data transfers applications le locked write operations expression expression displayed expression array values displayed notes enter multiple expressions separate comma display arrays large number elements take long time large arrays recommended le switch used output results le le examined text editor spreadsheet program results tabulated vectors compatible xvalues vectors listed compatible vectors data listed separately precision numeric values controlled using precision option setting use command set precision value sets precision terms column width
unset unset temp optionname deletes specied option see options full explanation temp specied option setting deleted temporarily restored original value control returns command line ie scripts completed optionname name option would usually dened value using set see options complete list note option values internal means always value option unset restored default value deleted see options details unset called option set internal error displayed
function summary following table lists small selection functions available simetrix full documentation provided script reference manualfunction reference function name description absrealcomplex absolute value argrealcomplex phase result wraps degrees argradrealcomplex phase radians result wraps pipi radians atanrealcomplex arc tangent cosrealcomplex cosine
function summary function name description dbrealcomplex dbx log magx diffreal return derivative argument exprealcomplex exponential fftreal string fast fourier transform firreal real real finite impulse response digital lter floorreal returns argument truncated next lowest integer groupdelayrealcomplex returns group delay argument histogramreal real returns histogram argument iffreal returns specied value depending outcome test iirreal real real innite impulse response digital lter im imagrealcomplex return imaginary part argument integreal returns integral argument interpreal real real real interpolates argument specied number evenly spaced points iscomplexany returns true argument complex lengthany returns number elements vector lnrealcomplex natural logarithm log logrealcomplex base logarithm mag magnituderealcomplex magnitude abs maxidxrealcomplex returns index vector largest value held maximareal real string returns locations maxima specied vector meanrealcomplex returns statistical mean values vector meanreal real real returns mean data given range minidxrealcomplex returns index vector smallest value held minimareal real string returns locations minima specied vector normrealcomplex returns argument scaled largest value unity ph phaserealcomplex returns phase argument phaseradrealcomplex ph result always radians rangerealcomplex real real returns range vector realrealcomplex return real part argument refrealcomplex returns reference argument rmsreal returns accumulative rms value argument rmsreal real real returns rms argument specied range
function reference function name description rndreal returns random number rootsumofsquaresreal real real returns root sum squares argument specied range signreal return sign argument sinrealcomplex sine sqrtrealcomplex square root tanrealcomplex tangent truncatereal real real returns vector sub range supplied vector unitvecreal returns vector specied length whose elements vectorreal returns vector specied length element equal index xfromyreal real real returns array values specifying horizontal locations specied vector crosses given value yfromxreal real real returns array values specifying vertical value specied vector given x value
function reference approx functions documented rest please refer script reference manualfunction reference ones detailed functions accept return numeric values could conceivably used graph plots
absrealcomplex returns absolute value magnitude argument function identical mag function
argrealcomplex phase except result wraps degrees
argradrealcomplex phaserad except result wraps radians
atanrealcomplex returns arc tangent argument degrees option set return value degrees otherwise radians
function reference
cosrealcomplex return cosine argument radians use cosdeg argument degrees
dbrealcomplex returns logmagargument
diffreal returns derivative argument respect reference xvalues argument reference function returns derivative respect arguments index effect vector containing difference successive values argument
exprealcomplex returns e raised power argument argument greater
overow error occurs
fftreal string arg vector processed arg string specifying window type possible values hanning default none performs fast fourier transform supplied vector number points used next binary power higher length argument excess points zerolled window used may hanning default none users note using function applied raw transient analysis data produce meaningful results values unevenly spaced apply function simulation data must either specify simulator outputs xed intervals select output interval option choose analysis dialog box must interpolate results using interp function fft plotting menu items run script interpolate data detects results unevenly spaced use menus require special consideration user information ffts found fourier analysis
firreal real real arg vector ltered arg filter coefcients arg initial conditions default zero performs finite impulse response digital ltering supplied vector function performs operation yn xn c xn c xnc
function reference x input vector argument c coefcient vector argument result returned value third argument provide history x ie x x etc required operation function also iir function simple application subject several volumes simple case four sample rolling average principle almost unlimited range fir ltering operations may performed using function text digital signal processing provide details users note using function applied raw transient analysis data produce meaningful results values unevenly spaced apply function simulation data must either specify simulator outputs xed intervals select output interval option choose analysis dialog box must interpolate results using interp function example suppose vector vout exist current group simulation results following plot vout sample rolling average applied plot firvout
alternatively following plot firvout
floorreal returns argument truncated next lowest integer examples floor
groupdelayrealcomplex returns group delay argument group delay dened phase dx supplied vector x reference groupdelay function expects result ac analysis voltage current reference frequency function yield error argument complex reference
histogramreal real arg vector arg number bins
function reference creates histogram argument number bins specied argument bins divided evenly maximum minimum values argument histograms useful nding information waveforms difcult determine means particularly useful nding areas tops pulses appear well dened peaks histogram function used rise fall time scripts purpose users note using function applied raw transient analysis data produce misleading results simulation values unevenly spaced apply function simulation data must either specify simulator outputs xed intervals select output interval option choose analysis dialog box must interpolate results using interp function
iffreal arg test arg result test true arg result test false arg arg must type rst argument evaluates true ie nonzero function return value argument otherwise return value argument note type arguments must implicit type conversion performed arguments
iirreal real real arg vector ltered arg coefcients arg initial conditions default zero performs innite impulse response digital ltering supplied vector function performs operation yn xnc ync ync x input vector argument c coefcient vector argument result returned value third argument provide history ie etc required operation function also fir function simple application subject several volumes principle almost unlimited range iir ltering operations may performed using function text digital signal processing provide details users note using function applied raw transient analysis data produce meaningful results values unevenly spaced apply function simulation data must either specify simulator outputs xed intervals select output interval option choose analysis dialog box must interpolate results using interp function following graph shows result applying simple rst order iir lter step
function reference coefcients used give time constant sample interval sample interval sec giving sec time constant seen rst order iir lter exactly response single pole rc network general rst order function yn xnc ync c expt c expt time constant sample interval example simple possible construct much complex lters using function also possible place analog representations circuit simulated use iir function permits viewing ltered waveforms simulation run completed especially useful run took long time complete
imrealcomplex imagrealcomplex returns imaginary part argument
integreal integrates argument respect reference xvalues function uses simple trapezoidal integration error occur argument supplied reference
interpreal real real real arg vector interpolated arg number points result arg interpolation order arg boolean include last point returns vector length specied argument obtained interpolating vector supplied argument evenly spaced intervals optional third argument species interpolation order integer greater practice seldom reasons use values greater interp function overcomes problems caused fact raw transient analysis results unevenly spaced used fft plotting scripts provide evenly spaced sample points fft function interp function also makes possible perform operations two vectors originated different transient runs therefore different sample points
iscomplexany returns true supplied argument complex false argument type
function reference
lengthany returns number elements argument result scalar empty value length function function return error supplied empty value empty variables returned functions produce return value functions operators yield error presented empty value abort script called
lnrealcomplex returns natural logarithm argument using ln negative complex values argument real negative error result argument complex return complex result even imaginary part real part negative eg ln produce error ln give answer
j error always occur real imaginary parts zero using ln ac analysis data see notes log function
logrealcomplex logrealcomplex returns log base argument general recommend using log rather log software products types vary interpretation log treat log base others treat log base e using log never doubt using log negative complex values see notes ln function using log ac analysis data data output simulator running ac tf analysis complex described using ln negative complex values simetrix logarithm functions correctly handle complex arguments return complex value means following expression calculate db produce expected result logdata data value produced ac analysis simulation
function reference logmagdata mag function convert complex data real values actually intended better still use dbdata equivalent logmagdata note graph system always plot magnitude complex data expression presented plotting evaluated complex nal result converted real logdata plotted maglogdata logmagdata data complex
magrealcomplex magnituderealcomplex returns magnitude argument function identical abs function
maxidxrealcomplex returns index array element argument largest magnitude
maximareal real string arg vector arg minimum value default arg options array possible values xsort sort output order x values nointerp dont interpolate returns array values holding every maximum point supplied vector whose value argument value returned nointerp specied obtained tting parabola maximum point either side calculating xy location point zero slope nointerp specied peak values found argument without interpolation vector returned function attached reference contains x values maximum points xsort specied vector arranged order descending values ie largest value rst smallest last otherwise organised ascending xvalues
maximumrealcomplex real real arg vector arg start x value arg end x value returns largest value found vector interval dened start x value end x value vector complex operation performed magnitude vector
function reference
meanrealcomplex returns average values supplied argument argument complex result also complex
meanreal real real arg vector arg start x value default start vector arg end x value default end vector returns integral supplied vector ranges specied arguments divided span arg arg values supplied argument andor lie sample points second order interpolation used estimate values points
minidxrealcomplex returns index array element argument smallest magnitude
minimareal real string arg vector arg maximum value default arg options array possible values xsort sort output order x values nointerp dont interpolate returns array values holding every minimum point supplied vector whose value argument value returned nointerp specied obtained tting parabola minimum point either side calculating xy location point zero slope nointerp specied values found argument without interpolation vector returned function attached reference contains x values minimum points xsort specied vector arranged order ascending values ie smallest value rst largest last otherwise organised ascending x values
minimumrealcomplex real real arg vector arg start x value returns smallest value found vector interval dened start x value end x value vector complex operation performed magnitude vector
normrealcomplex returns input vector scaled magnitude largest value unity argument complex return value
function reference
phrealcomplex phaserealcomplex returns phase argument ph identical phase return phase degrees ph phase functions produces continuous output ie wrap degrees degrees
phaseradrealcomplex identical ph phase functions except result radians
rangerealcomplex real real arg vector arg start index default arg end index default vector length returns vector range input vector argument range extends indexes specied arguments argument supplied range extends end input vector neither arguments supplied input vector returned unmodied
rerealcomplex realrealcomplex returns real part complex argument
refrealcomplex returns reference xvalues argument
rmsreal returns vector accumulative rms value input unlike rms function returns vector plotted
rmsreal real real arg vector arg start x value default start vector arg end x value default end vector returns root mean square value supplied vector ranges specied arguments values supplied argument andor lie sample points second order interpolation used estimate values points
rndreal returns vector element random value absolute value arguments corresponding element
function reference
rootsumofsquaresreal real real arg vector arg start x value default start vector arg end x value default end vector similar rms function returns root sum without performing average
signreal returns argument greater otherwise returns
sinrealcomplex return sine argument radians use sindeg argument degrees
sqrtrealcomplex returns square root argument argument real negative error result however argument complex complex result returned
sumnoisereal real real identical rootsumofsquares function
tanrealcomplex return tan argument radians use tandeg argument degrees
truncatereal real real arg data arg start x value arg end x value returns portion input vector dened start end points interpolation used create rst last points result start end values coincide actual points input vector arguments dene beginning end vector example suppose vector called vout result simulation running ms want perform analysis portion following call truncate would truncatevout u u
function reference vout actually points function would create interpolation note function extrapolate points start end input vector
unitvecreal returns vector consisting argument species length vector
vectorreal returns vector length specied argument value element vector equals index
xfromyreal real real real arg input vector arg value arg interpolation order arg direction slope returns array values specifying horizontal locations specied vector argument crosses given value argument direction specied argument vector never crosses given value empty result returned sampled input vector interpolated produce nal result interpolation order specied argument
xyreal real returns vector yvalues argument xvalues argument function provides means creating xy plots using graph control see simulator reference manualcommand referencegraph details
yfromxreal real real arg input vector arg x value arg interpolation order returns array values usually single value specifying vertical value specied vector argument given x value argument given xvalue range empty result returned sampled input vector interpolated produce nal result interpolation order specied argument chapter monte carlo sensitivity worstcase monte carlo analysis procedure assess manufacturing yields repeating simulation runs varying applied random variations part parameters sensitivity analysis repeats runs perturbing single parameter step allows sensitivity parameter number measurements evaluated makes possible identify components parameters may require tight tolerance maintain particular specication cases identify instabilities design worstcase analysis attempts nd combination component parameter variances lead worst possible result assigns component parameter value either positive extreme negative extreme decision use obtained results prior sensitivity analysis using sign sensitivity value monte carlo worstcase may used assess production yield reliability many applications monte carlo produces realistic results rarely locates extremes theoretically possible even statistically unlikely noted worstcase analysis guaranteed locate worst possible result algorithm assumes relationship component parameter variation measured result linear almost never case practice implementation monte carlo analysis simetrix designed quick set simple cases still providing required exibility advanced requirements might required integrated circuit design chapter cover aspects setting monte carlo sensitivity wortscase analyses front end includes setting device tolerances schematic setting running simulation analysing results chapter covers monte carlo analysis simetrix spice simulations monte carlo analysis also available simplis simulations see multistep monte carlo analyses setting model tolerances covered monte carlo analysis chapter simulator reference manualmonte carlo sensitivity worstcasespecifying tolerances
monte carlo example consider following active lter circuit
monte carlo example circuit found examplesmontecarlochebsxsch circuit th order lowpass khz chebyshev lter
db passband ripple specication nominal response
monte carlo example circuit used application requires gain amplier remain within db dc value khz
db ripple specication therefore seems reasonable choice clearly though tolerance capacitors resistors may upset investigate monte carlo analysis mat performed standard part tolerances capacitors resistors example circuit tolerances already applied procedure follows select menu item monte carlo set resistor tolerances enter recognised select menu item monte carlo set capacitor tolerances enter example circuit already set run steps monte carlo view settings select menu simulator choose analysis note section monte carlo multistep analysis enable multistep box checked press dene button
monte carlo example note sweep mode section monte carlo selected step parameters section number steps set start analysis usual way take less second run analysis repeated times plot output lter usual way probe acnoise db voltage result following seen specication generally met next section sensitivityworstcase example perform worstcase analysis circuit show extreme combinations values meet spec simetrix monte carlo analysis implementation many features random variation device model parameters support matched devices log le creation seed selection allow repeated runs randomly applied values
sensitivityworstcase example
sensitivityworstcase example circuit used monte carlo example may also set run sensitivity worstcase analysis open schematic examplesmontecarlochebsxsch already select menu simulator choose analysis ac sheet monte carlo multistep analysis group click dene button click sensitivityworst case sweep mode group enter minimummagvoutk rst entry sensitivity measurement functions group check run worst case analysis button ok dialog boxes run simulation usual way see
sensitivityworstcase example run analysis usual way see graph like following
sensitivityworstcase example outlying green red curves worstcase results remaining curves sensitivity results sensitivity curves result running simulation single component value perturbed set highest value within tolerance specication worstcase curves result running simulation components perturbed one tolerance extreme extreme use determined analysis sensitivity results maximise minimise sensitivity measurement function note results show deviation db specication although previous monte carlo analysis showed typical production yields within specication extreme combinations components lead result substantially outside specication resolve tighten specication components rst examine sensitivity report report details results evaluating sensitivity measurement functions along component values used view sensitivity report select menu simulator reports sensitivity see following
part tolerance specication delta column shows deviation nominal case doubleclick delta label header sort results order magnitude show cases greatest effect note c c top list tighten tolerance parts select c c select menu mote carlo set selected component tolerances enter ok close rerun simulation see result within specication changing r c k p respectively signicantly affect result means one tighttolerance capacitor value circuit p
part tolerance specication section cover simple case specify tolerances devices schematic level use monte carlo sensitivity worstcase analyses simetrix much comprehensive features specifying tolerances complete documentation tolerance specication please refer simulator reference manualmonte carlo sensitivity worstcasespecifying tolerance
setting device tolerances select individual device tolerances proceed follows select part parts whose tolerances wish individually select parts holding control key left clicking
part tolerance specication select menu monte carlo set selected component tolerances enter tolerance dialog box may use symbol wish
effect note place recognised cant use netlists models resistors capacitors circuit tolerance select either monte carlo select capacitor tolerances monte carlo select resistor tolerances device tolerances applied following parts capacitors resistors inductors fixed voltage sources fixed current sources voltage controlled voltage sources voltage controlled current sources current controlled voltage sources current controlled current sources lossless transmission lines applied z parameter device tolerance ignored devices
model tolerances tolerances may applied model statements using distribution function example model npn npn
e bfgauss gauss function returns random number base around
gaussian distribution
gaussian distribution standarad deviation many distribution functions including user dened function used distribution addition use parameter denitions dene random variables create matched devices parameters full details may found simulator reference manualmonte carlo sensitivity worstcasespecifying tolerances
matching devices devices resistor networks constructed manner tolerances track devices often two specications one absolute tolerance matching tolerance thin lm resistor network might absolute tolerance matching tolerance
means resistors vary range always within
specify matched devices monte carlo analysis two pieces information required firstly parts matched must identied secondly matching tolerances need specied identify matched devices select parts wish match use control key select multiple parts select menu item monte carlo match selected devices must supply lot name must unique use alphanumeric name
running monte carlo matching tolerances specify device match tolerances proceed follows select parts wish match use control key select multiple parts select menu item monte carlo set match tolerances enter desired tolerance using device tolerance parameters note absolute tolerance specied must devices within lot devices lot name different absolute tolerance treated belonging different lot example circuit four resistors lot name rn two absolute tolerance two absolute tolerance resistors wont matched resistors resistors however matched resistors apply match tolerances perfectly ok devices different match tolerances within lot
random distribution default distribution device tolerances gaussian tolerance representing spread changed rectangular using two simulator options mcabsoluterect set absolute tolerances rectangular distribution mcmatchrect set matching tolerances rectangular distribution distributions specied per part basis even per parameter basis using distribution functions expression see simulator reference manualmonte carlo sensitivity worstcasespecifying tolerances details
running monte carlo
overview actually two types monte carlo analyses single step monte carlo sweep multi step monte carlo run applicable ac dc noise transfer function analyses applied analyses addition transient analysis example seen gure monte carlo run gain single frequency calculated times monte carlo tolerances applied used ac analysis monte carlo sweep mode one six modes available single curve created hence name single step example example beginning chapter complete frequency sweep khz khz repeated times creating curves
running monte carlo
setting multi step monte carlo run select schematic menu simulator choose analysis select ac dc noise transient tf tab required dene analysis required monte carlo multistep analysis section check enable multistep box press dene button open sweep mode section select monte carlo step parameters section enter number steps required
running monte carlo set number cores number large system license permit substantially speed run information see using multiple cores multistep analyses
setting single step monte carlo sweep select schematic menu simulator choose analysis select ac dc noise tf tab required sweep parameters section press dene button sweep mode section select monte carlo parameters section enter required value number points ac noise tf must also supply value frequency
setting seed value random variations created using pseudo random number sequence sequence seeded always produces sequence numbers given seed monte carlo analysis random number generator seeded new value start run seed value displayed log le using seed value repeat run perhaps produced unexpected results obtain seed used run repeat seed value single run able probe around circuit plot results run procedure follows identify monte carlo step wish repeat picture shows obtain run number monte carlo plot
running sensitivity worstcase open monte carlo log report using menu simulator reports monte carlo seed table locate run number obtained step read seed value select schematic menu simulator choose analysis select options tab enter seed value monte carlo section rst run monte carlo analysis use random values run obtained seed value log le note assumes changes values made circuit topology change upset sequence
running sensitivity worstcase
overview monte carlo multistep singlestep variants sensitivity worstcase analyses singlestep applied ac dc noise transfer function analyses multistep applied analyses addition transient analysis example shown sensitivityworstcase example example multistep analysis commonly used singlestep analysis used measurement performed done single point example gain linear amplier single frequency obtained single point ac analysis similarly dc offset amplier evaluated single point dc
running sensitivity worstcase analysis quantities studied singlestep sensitivity analysis may used major speed advantages
setting multistep sensitivity analysis select schematic menu simulator choose analysis select ac dc noise transient tf tab required dene analysis required monte carlo multistep analysis group check enable multistep box press dene button open
analysing montecarlo results sweep mode group select sensitivityworstcase sensitivity parameters group enter least one sensitivity measurement function multistep analyses must function returns scalar value vector example function mean returns mean argument set number cores number large system license permit usually substantially speed run except small circuits information see using multiple cores multistep analyses
setting single step sensitivity analysis select schematic menu simulator choose analysis select ac dc noise tf tab required sweep parameters group press dene button sweep mode group select sensitivityworstcase sensitivity parameters enter least one sensitivity measurement function single step analysis needs obtain measurement simulation point must enter expression returns vector sweep usually simply value node voltage current ac analyses must apply complexreal conversion function eg db mag phase real imag ac noise tf must also supply value frequency wish worstcase analysis performed sensitivity analysis check run worstcase analysis box
analysing montecarlo results
plots plots monte carlo analyses performed exactly manner normal runs probe circuit point curves run mc analysis created common multistep analyses curves generated multistep monte carlo grouped operations performed treat group single entity break group using menu curves ungroup selected curves identifying curves sometimes useful know exactly run particular curve associated move cursor curve interest selection cursor small square box locate curve status box bottom graph window see label form runnnn divisionddd nnn ddd integers ddd always less nnn run number crossreferenced entry log le nd information run created curve also obtain seed value used run repeated see setting seed value log file details plotting single curve wish plot single curve monte carlo set must obtain division number always less run number use probe add curve menu plot indexed expression use example explain process
analysing sensitivity worstcase results using chebyshev lter example lets suppose wish plot curve lter output created run division alone without remaining curves proceed follows run chebyshev lter example explained beginning chapter select menu probe add curve click output lter see cp entered expression box must modify expression entered give index value simple case single voltage current append divisionindex divisionindex run number less example run number enter index cp displayed expression box close box see single curve plotted alternative method plotting single curves given setting seed value
creating histograms see performance analysis histograms
log file multistep monte carlo analyses generate log le documents values toleranced parts also record seed value used step open log le select menu monte carlo view log file simulator reports monte carlo actual log data stored xml data le multiple cores used core generates le menus compile html report using les input data display long run large circuit process may take seconds
analysing sensitivity worstcase results
plots plots sensitivity worstcase analyses performed exactly manner normal runs probe circuit point curves run analysis created multistep sensitivity analysis one curve sensitivity case multistep worst case analysis two curves sensitivity measurement function provided one curve maximises sensitivity function minimise sensitivity function common multistep analyses curves generated grouped operations performed treat group single entity break group using menu curves ungroup selected curves
analysing sensitivity worstcase results
reports sensitivity analysis interactive table sensitivity analysis interactive table may opened using menu simulator reports sensitivity interactive table show something like
analysing sensitivity worstcase results doubleclicking headings sort values order magnitude alphabetically case reference column sorting inactive perturbation columns
analysing sensitivity worstcase results report provides results evaluating sensitivity measurement functions along perturbation data example columns made columns identifying case columns perturbation data columns measurement function data general always columns plus measurement function supplied following table explains purpose column case case number also read cursor readout graph allowing crossreferencing graph report reference label identifying exactly perturbed case may single component value may also model parameter eg case group matched items referenced lot name eg case measurement function actual column heading expression used result evaluating given sensitivity measurement function delta difference measurement function value case obtained nominal case double clicking header sort table according magnitude value column norm normalised sensitivity value indicates sensitivity item perturbed measurement result independent level perturbation value calculated deltameasurement nominalvalueperturbation value used identify components unduly sensitive could indicate design aw note value much meaning measurement results nominally zero offset differential amplier double clicking header sort table according magnitude value column lot item single item perturbed may reference column single item perturbed case items grouped together lot item listed case example resistors perturbed together matched devices network nominal nominal value single item perturbed value actual value used case sensitivity analysis html report menu simulator reports sensitivity html create display sensitivity html report shows information interactive table sort order xed html le created process available current working directory name sensitivityhtml styles used html le dened css le specify desired see file location options worstcase analysis report sensitivity analysis report may opened using menu simulator reports worstcase shows values used worstcase analysis well results calculating sensitivity measurement functions styles used html le dened css le specify desired see file location options chapter optimisation
introduction optimisation process adjusting design order maximise minimise measured characteristic example power consumption bandwidth simetrix simetrixsimplis includes optimisation feature perform process automatically characteristic optimised objective function dened along parameters may varied optimisation process addition number constraints may also dened constraint inequality relationship dene measurement specied value example objective function might minimise power consumption objective amplier retaining minimum bandwidth maximum noise factor constraints optimiser works simetrix simplis simulators optimisation measurements objective constraints may made using multiple analyses required optimiser may setup using simple gui nal results generated form html report
first example simetrix examples folder locate le ampsxopt typically located documentssimetrixexamplesversionsimetrixoptimiserampampsxopt drag drop le simetrix environment open using menu file open select optimiser files sxopt le selection drop box navigate ampsxopt see optimiser gui open withe following setup
first example simetrix
running first example running optimiser open associated schematic simply click open button located top left optimiser gui schematic shown
first example simetrix circuit dc coupled widebandwidth differential amplier single ended output desired aim minimise current consumption design maintaining minimum bandwidth gain linearity run optimiser highlight optimiser gui click play button illustrated optimiser running see progress messages show command shell eg optimiser keep running either maximum iteration limit reached set optimiser considers found best possible result based tolerance settings run circuit following result iteration supply current bandwidth gain distortion first
summary rst run using initial parameter values failed comply specications using
supply current nal iteration specs met supply current reduced
saving
running first example html report optimisation run complete generate html report show specication measurements parameters along full results generate html report select menu optimiser create optimiser html report see example html report
first example simetrix
running first example runs might like try experimenting different specications example set distortion constraint see specication still achieved higher supply current set distortion constraint change bandwidth type maximise supply current constraint maximum value clear value bandwidth setting changes objective maximising bandwidth keeping supply current
simplis example
simplis example examples folder locate le loadresponsesxopt typically located documentssimetrixexamplesversionsimplisoptimiserloadresponseloadresponsesxopt drag drop le simetrix environment open using menu file open select optimiser files sxopt le selection drop box navigate loadresponsesxopt see optimiser gui open following setup
running simplis example open associated schematic clicking open button top right isnt essential schematic open running optimiser open optimiser use state schematic displayed even hasnt saved schematic shown
simplis example circuit simple boost converter optimiser setup modify compensation network minimise transient response load change retaining gain phase margins within reasonable limits run optimiser highlight optimiser gui click play button simplis simulations progress box shows optimisation progress shown optimiser stopped clicking abort button simetrix mode progress messages shown command shell results ran optimisation follows
curve fitting example simetrix iteration phasemargin gainmargin loadresponse first
curve fitting example simetrix examples folder locate le diodesxopt typically located documentssimetrixexamplesversionsimetrixoptimiserdiodediodesxopt drag drop le simetrix environment open using menu file open select optimiser files sxopt le selection drop box navigate diodesxopt see optimiser gui open following setup notice data section showing lower right data items may entered application data reference curve curve tting operation note currently data items supported simetrix mode data loaded directly text le extracted image using graph image extraction tool details refer data view
running curve fitting example simetrix open associated schematic clicking open button top right isnt essential schematic open running optimiser open optimiser use state schematic displayed even hasnt saved schematic shown
running curve fitting example simetrix optimisers task nd diode parameters match iv curve dened data optimiser parameters rs ikf n assigned diodes model parameters name dene curve measurement uses script function curvefitlog curvefitlog one four functions may used curve tting four functions compare two vectors return normalised value indicates closely match value zero means perfect match schematic includes postprocessing dened f window postprocessing plots nal result along target data uses script function optimisersimulatorresults function one many optimiser supporting functions refer script reference manualapplicationsoptimiser details optimiser script functions run optimiser highlight optimiser gui click play button see graph show shown
optimiser gui description
optimiser gui description following describes elements optimiser gui
circuit denition circuit denition section associated schematic may dened opened optimiser gui works single schematic gui denes analyses run overriding denitions schematic
optimiser gui description
optimiser options algorithm choose algorithm unconstrained denitions use neldermead constrained problems use cobyla show progress message checked progress optimiser displayed command shell values parameters along measurements displayed iteration write html report checked html report generated displayed upon completion absolute tolerance stop criteria absolute value used determine improvement possible relative tolerance stop criteria relative value used determine improvement possible iteration limit enabled optimiser complete specied number iterations reached
parameters denes parameters varied optimisation process parameters variables may used dene component model parameter way param values simetrix simulations var values simplis simulations must minimum dene initial value parameter minimum maximum values optional specied optimiser attempt values outside minimum maximum range
optimiser gui description click new parameter button create new parameter delete existing parameter select parameter row press delete button
specication view table specication view analyses measurements dened may one analyses dened analysis may zero associated measurements one one measurements must dened objective function dened either minimise maximise quantity optimiser seek minimise maximise measurements may constraints optimiser seek satisfy maximise minimise beyond meeting constraint value may number constraints enabled unchecked specied analysis run measurements evaluated effect deleting analysis altogether analysis analysis denition form netlist line starting simetrix simulations click edit button invoke choose analysis gui dene analysis simplis simulations click edit analysis button invoke choose analysis gui edit analysis may also used simetrix simulations note method limited one analysis type ac dc etc edit analysis button table used dene number analyses including multiple analyses type eg multiple noise analyses referring different nodes options simulation options may dened choose analysis gui also edit entry label measurement label used reference messages nal report measurement expression returns scalar value analysis type similar goal functions used monte carlo histograms performance analysis data column hidden simplis mode denes whether measurement applied main analysis operating point note operating point data always scalar
optimiser gui description type minimise objective function seeks minimise measurement value must one one objective function either minimise maximise maximise objective function seeks maximise measurement value must one one objective function either minimise maximise constraint minimum constraint function specifying minimum value optimiser seek keep value minimum specied constraints optional number may specied constraint maximum constraint function specifying maximum value optimiser seek keep value maximum specied constraints optional number may specied report measurement evaluated recorded nal report progress message directly take part optimisation process however refer value later measurement expression using label variable long label name complies c variable naming rules label must start letter underscore contain letters numbers underscore characters feature allows composite objective functions built comprising measurements multiple analyses none measurement disabled evaluated value constraints minimum maximum value must attained value may also specied objective function compulsory specied treated stop value optimiser complete value reached constraints met makes objective function similar constraint identical value given objective function sets criteria stopping optimisation otherwise ignored optimiser algorithm constraint values hand take part mathematics optimiser algorithm affect path taken optimiser
optimiser gui description tolerance constraint functions may specify tolerance compulsory value affects nal report determination best result tolerance value play part optimisation process optimiser often locate results violate given constraint small margin results would marked violating constraint nal report would excluded test identify best result providing small tolerance fewer useful results unnecessarily discarded tolerance value absolute value always positive using parameters measurements value parameter dened parameter view may also accessed measurement expressions simply use parameter name variable makes possible enter expressions dene quantity directly obtained simulation component monetary cost volume mass note name clash simulation vector simulation vector takes priority
specication view buttons new analysis creates new analysis row edit analysis calls gui edit simetrix simplis analyses new specication adds new measurement selected analysis showhide data window shows hides data window data window shows data items used store vector information particularly useful curve tting applications delete deletes item specied enabled delete button identify item deleted click either measurement complete analysis depending selected table also press delete key delete item
data view data view used store data items used purpose especially curve tting data may entered text le extracted curve using graphical extraction tool resulting data referenced single variable measurement note data objects currently supported simetrix simulations
data view creating data object create data object must source le may either text le containing xy data columns example
""
""
""
""
""
""
""
""
optimiser algorithms graphical image graph digitised example may data sheet component whose behaviour wish model creating data object text file data le must ascii le containing two columns data separated spaces tabs rst line may contain text header compulsory import text le click load data button navigate data le click open data object created default name desired rename data object clicking name name must contain white space preferably contain letters numbers underscore character creating data object graphical image create data graphical image click extract data button full instructions use feature see digitising data sheet curves complete data imported given default name change name desired note name must contain white space preferably contain letters numbers underscore character
measurement functions measurement functions requirements goal functions used histogram generation performance analysis details available functions refer goal functions
optimiser algorithms optimiser algorithms provided freeopen source library nlopt developed maintained steven g johnson professor applied mathematics physics mit library contains optimiser algorithms however circuit simulation applications identied two algorithms library give consistently superior results neldermead unconstrained problems problems dene objective function usually case curve tting neldermead also known downhill simplex paper rst described method rst published many researchers dismiss algorithm known capable converging nonoptimal point undoubtedly true experience works well many circuit simulation problems tolerant noise discontinuities present application cobyla constrained problems cobyla constrained optimization linear approximations developed late michael powell professor mathematics cambridge university currently simetrix supports derivativefree optimisation algorithms algorithms require calculation partial derivatives sensitivities objective constraint respect every parameter calculation derivative requires one additional simulation run parameter general expensive however algorithms require derivatives calculated usually converge much quickly
optimiser algorithms
experimental algorithms many available algorithms may used experimental basis check show experimental box algorithm drop box populated many choices details algorithm algorithm details neldermeadal supports constraints neldermead coupled augmented lagrangian see notes bobyqa unconstrained bound optimization quadratic approximation developed michael powell algorithm attempts model objective function quadratic tends work well circuit simulation applications bobyqaal supports constraints bobyqa coupled augmented lagrangian see notes sbplx unconstrained variant nelder mead claims superior however found circuit simulation applications sbplxal supports constraints sbplx coupled augmented lagrangian see notes praxis unconstrained principal axis method developed richard brent praxisal supports constraints praxis coupled augmented lagrangian see notes augmented lagrangian augmented lagrangian algorithm derivation lagrangian multipliers used convert constrained problem unconstrained problem unconstrained local optimiser methods augmented lagrangian variations sufx al important augmented lagrangian method normalise constraints get constraint functions work methods necessary apply appropriate scaling constraint function example amp circuit distortion constraint almost effect unless multiplied limit changes
case cobyla algorithm supports constraints directly require special scaling chapter veriloghdl simulation
overview veriloghdl feature provides ability simulate verilog digital designs included analog circuits simetrix implementation uses external verilog simulator achieve communicates simulator using standard vpi programming interfacetwo opensource verilog simulators supplied purpose installed simetrix installer principle vpi compliant verilog simulator may used however two open source programs supplied tested supported interfacing analog simulator digital hdl simulator challenging task imposes tradeoffs timing precision simulation speed particular circuits digital section sits inside analog feedback loop especially demanding simetrix analog tool analog designers focussed providing maximum accuracy imposes need rapid communication analog simulator verilog simulator developed interprocess communication method standard system supplied techniques slow
documentation chapter show use veriloghdl simulation feature using schematic editor reference documentation underlying simulator device implements veriloghdl interface found simulator reference manualanalog device referenceveriloghdl interface vsxa
supported verilog simulators supply two alternative open source verilog simulators namely gpl cver pragmatic c software icarus verilog stephen williams simulators installed congured ready use conguration external simulator user denable vpi compliant simulators setup
basic operation support verilog designs simetrix new device called vsxa vsxa device dened model statement turn species verilog design le verilog le expected contain
using veriloghdl simetrix schematics top level module denition module denes external connections analog system via verilog ports number verilog devices ie vsxa instances placed simetrix netlistschematic actual design presented verilog simulator single verilog denition simetrix handles task creating users individual verilog design les schematicnetlist interconnection vsxa instances see simulator reference manualanalog device referenceveriloghdl interface vsxasimrefanalogdevicereferenceveriloghdlinterfacevsxa details vsxa device
using veriloghdl simetrix schematics
creating schematic symbols simetrix schematic editor provides feature create place schematic symbol verilog le feature reads verilog le determines inputs outputs along names ports also reads parameters dened information creates symbol inputs left outputs right also creates edit facility edit parameters dened verilog module create schematic symbol verilog design proceed follows schematic editor select menu help construct veriloghdl symbol navigate verilog design le simetrix expects le extension v vl select le close see image symbol ready place place usual way errors verilog le see message form error parse verilog design file filename details see log file filenamelog parse veriloghdl file symbol created log le list details error le generated gpl cver verilog simulator contain additional information obscure desired error message verilog errors must rectied simetrix create symbol
editing parameters symbol creation feature described builds necessary functionality symbol allow gui editing devices parameters use edit schematic instance usual way double clicking selecting followed f see dialog box showing number parameters rst parameters starting voltage input logic zero threshold ending threshold time tolerance along check boxes disable output nonanalog vectors disable module cache builtin parameters dened verilog devices parameters dened within verilog denition shown addition listed threshold time tolerance
module cache
simulation options
operation starting simulation also creating symbol verilog design simetrix needs gather information verilog module used circuit starting verilog simulation interrogating verilog simulator via vpi process take time many verilog modules circuit speed things simetrix caches information obtained future use cache mechanism calculates md checksum verilog le stores cached information cache le cached information required simetrix calculates md checksum verilog le looks see whether cache item md value use cached data retrieve information via verilog simulator information module cache seesimulator reference manualanalog device referenceveriloghdl interface vsxasimrefanalogdevicereferenceveriloghdlinterfacevsxa
simulation options three verilog simulation options available user interface accessed choose analysis dialog box follows select menu simulator choose analysis select options tab see options veriloghdl options
verilog simulator option allows select verilog simulator used main simulation default choice cver icarus note verilog simulator also used enumerate ports parameters verilog module separately main simulation task always performed gpl cver regardless simulator setting
timing resolution verilog simulations use bit integer values throughout includes time convert real time value time tick needs dened timing resolution dened default value fs benet changing unless simulation runs longer x fs approximately seconds note timescale setting used dene values delays etc within module affected setting
open console verilog process set check box console window open run messages generated verilog simulation displayed window
tutorial demonstrate basic features verilog simulation work trivial example shown circuit pulses relay ms every ms driven khz clock relay coil modelled l r freewheel diode relay driver controlled output u simple counter implemented using following verilog code module pulserelayin input output integer count reg parameter divideratio parameter real duty
always posedge begin count count countdivideratio count countdivideratioduty
tutorial begin end else begin end end initial count endmodule verilog les well completed working schematic found examplesveriloghdltutorial
procedure following assumes already familiar basics entering schematic running simulation enter schematic open new empty schematic sheet immediately save empty sheet examplesveriloghdltutorialrelaydriversxsch general strongly advised save schematic sheet using automatic verilog symbol generation scheme demonstrate ensure le system paths schematics verilog les kept correctly synchronised select menu verilog construct veriloghdl symbol see le clockv listed select click open dont see le make sure saved schematic correct location step nd menu present means verilog simulation facility available version simetrix probably need upgrade license contact sales support assistance see image symbol appear place schematic usual way repeat step pulserelayv double click pulserelay device probably u see dialog box showing number parameters arent going change settings point feature see two parameters bottom top section called divideratio duty obtained verilog le pulserelayv connect rest circuit shown diagram regular switch menu place analog functions switch make sure dont forget ground symbol set simulation set ms transient analysis usual way select gear integration using menu simulator choose analysis click advanced options select gear integration integration method group tidy response circuit means essential
tutorial run simulation run simulation usual way take seconds maybe little longer older machine plot voltage relay coil see something like notice voltage volts suggesting switch fully turned output u starts unknown state unknown state translated highimpedance leaves output near oating state calculate dc operating point simetrix takes port values rst verilog event state executing init block verilog design output port notice pulserelayv dened init block modify pulserelayv add initial denition port follows initial begin count end rerun simulation notice change result start simulation internal verilog nodes look connection uclk uin connects two verilog signals connect analog part implemented within verilog simulator interact analog simulator
tutorial although node connected analog simulator data sent simetrix plotted try plotting node notice get digital plot analog detail although simetrix retrieve data internal verilog nodes interconnect vsxa instances circuits verilog digital signals much higher speed analog signals example speed penalty reason facility disable demonstrate proceed follows note time last run took using menu simulator show statistics double click u instance clockv see dialog box like check disable output nonanalog vectors box click ok rerun simulation note new simulation time probably see region times speed may conclude facility retrieve pure digital data expensive worthwhile case digital signal considerable higher speed analog signals circuit analog pulses running hz whereas digital pulses running khz times fast exercise may like see happens node connected analog part try connecting pf capacitor ground run simulation nd simulation runs maybe times slower analog time steps performed high frequency signal hz output deal analog simulator needed perform around timepoints work khz needs million multistep run nal exercise show possible perform multistep runs varying parameter sent verilog device run step simulation varying duty parameter pulserelay device proceed follows double click u set duty parameter duty open choose analysis dialog box transient sheet select enable multistep click dene
verilog simulator interface sweep mode select parameter set start value stop value respectively set number steps parameters set parameter name duty ok dialog boxes carried step previous section internal verilog nodes remember remove capacitor restore connection u u internal verilog node run simulation plot relay drive see three curves
verilog simulator interface section describe details verilog interface works
vpi simetrix communicates verilog simulator using verilog procedural interface vpi vpi allows external program communicate verilog simulator diagram shows program structure vsxdvpi dllshared library provided part simetrix loaded external verilog simulator runs verilog processs memory space vsxdvpi uses vpi interface send events verilog simulator respond events generated verilog simulator interrogate verilog simulator details users verilog module vsxdvpi able respond events verilog simulation cause change output port send changes simetrix simulator conversely simetrix simulator detects changes input port noties vsxdvpi noties verilog simulator vsxdvpi also able enumerate ports parameters verilog module report information back simetrix process performed simulation starts order build nal verilog top level design
interface conguration order interface setup simetrix needs know drive verilog simulator also verilog simulator needs know vsxdvpi
verilog simulator interface interface congured veriloghdlini le located support folder veriloghdlini uses standard inile format supported simulator dened section within verilghdlini section must minimum dene following keys name script path name denes display name simulator meaningful user script denes script name used launch verilog simulator launch script path passed launch script would usually path main binary executable verilog simulator located
launch script launch script simetrix script called simetrix responsible starting verilog process usually via shell function launch script knows command line syntax verilog simulator details launch script see script used launch gpl cver simulator
verilog simulation preparation simetrix netlists instantiate number verilog designs multiple instances verilog module multiple module designs order verilog simulator able handle multiple instances needs presented top level module denes interconnections top level module generated automatically simetrix simulation run called default vsxrootv chapter sundry topics
saving restoring sessions
overview save current session later restoration useful situation middle editing schematics studying simulation results need interrupt work maybe end working day situations might simply able leave computer switched logged maybe use hibernate mode methods always practical indeed reliable simetrix save session feature save current state open schematics open graphs simulation data restored later time
saving session select menu file save session
restoring session restore session graphs schematics closed current simulation data loaded normal state simetrix started wish restore session simetrix use since rst starting either shut restart close windows graphs delete data groups delete data groups select menu simulator manage data groups click delete groups ok restore session select menu file restore session
session data stored session data stored following directory applicationdatasession applicationdata simetrix application data directory see application data directory details
symbolic path names
symbolic path names
overview le system path names used simetrix may dened using symbolic constant paths form symbolpath symbol name constant path sequence characters valid path name actual path resolved substituting symbol value symbol symbolic paths make easy move les new locations values symbols need changed order simetrix able continue nd
denition two types symbolic constant system constants user constants system constants predened user constants arbitrarily dened user currently system constants startpath full path current working directory simetrix launched docspath full path documents folder exepath full path location simetrix binary simetrixexe appdatapath full path application data directory temppath path temporary directory sxappdatapath path simetrix application data directory see application data directory details sharepath path root support directory used various support les used simetrix model symbol libraries libpath path plugins directory simetrix installation sxdocspath path simetrix directory documents commonappdatapath path common application data directory typically cprogramdata user constants must dened conguration le see conguration settings information user constants dened locations section le currently must added hand using text editor format used follows locations symboldefinitions symboldenitions number lines form symbolnamesymbolvalue symbolvalue may sequence characters valid system path name may contain spaces need enclose quotation marks even value contains spaces nested denitions level permitted symbolvalue may also use symbolic constants recursive denitions wont raise error meaningful unc paths eg servercproject may used symbolvalue
symbolic path names comments may added project le prexed semicolon
conguration file example following shows examples symbolic path name denitions conguration le lines may placed anywhere le recommend placed end project file locations projectcprojectsproj cellsprojectcells
using symbolic names symbolic path constants may used applications listed cases mechanism called automatic path matching used means use symbolic paths need dene values project le carry working automatic path matching algorithm attempts match user symbol one exepath docspath system symbols part path processed match found path name stored symbolic value component paths component placed using full path option automatic path matching mechanism described invoked example suppose user symbol cells value cprojectsprojcells component path cprojectsprojcellscelllibinvsxsch placed using full path method actual value schematicpath property become cellscelllibinvsxsch matching cprojectsprojcells cells performed automatically note automatic path matching invoked components placed using relative path method global model library le paths model les installed globally use symbolic paths automatic path matching mechanism described invoked models installed model le cspicelibonsemimod symbol modellib value cspicelib model le path saved modellibonsemimod path option variables startupdir scriptdir biscriptdir tempdatadir defaultlib symbolsdir automatic path matching invoked whenever values set modied
simetrix command line parameters symbol le locations schematic symbol le paths may stored using symbolic constants automatic path matching invoked whenever library installed notes windows automatic path matching system correctly match drive based path eg hprojectsproj mapped unc path eg servercprojectsproj provided drive based path points network share local drive example project e contains entry projectservercprojectsproj serverc mapped h drive le hprojectsprojcellsxcmp stored projectcellsxcmp however actually running simetrix machine server serverc share name local c drive cprojectsprojcellsxcmp recognised equivalent projectcellsxcmp limitation due security restrictions windows
simetrix command line parameters number command line parameters may supplied simetrix binary simetrixexe starting program full syntax follows simetrixexe schematicfile startupscript n c configlocation r productcode schematicle path schematic le usually extension sxsch le opened immediately startupscript name script le command executed immediately simetrix starts specied schematicle orand startupscript openedrun existing instance simetrix one new instance started unless none already running n legacy option originally inhibited display splash screen splash screen removed version
option nothing c conglocation identies simetrix stores conguration settings conglocation form pathfilepathname lepathname identies location le store conguration settings may use system constants dened denition denition lepathname eg exepath executable directory see conguration settings details conguration settings reg syntax available earlier versions longer supported
conguration settings r productcode code denes product request license server default simetrix attempts checkout highest spec product available license server option specied product listed following table checked available used leave features using available users dp simetrix classic dx simetrix pro ux simetrix elite sp simetrixsimplis sp simetrixsimplis pro sp simetrixsimplis elite dpdvm simetrix classic dvm dxdvm simetrix pro dvm uxdvm simetrix elite dvm spdvm simetrixsimplis dvm spdvm simetrixsimplis pro dvm spdvm simetrixsimplis elite dvm vh simetrixsimplis vh pro vh simetrixsimplis vh elite vhdvm simetrixsimplis vh pro dvm vhdvm simetrixsimplis vh elite dvm
using startupini startup parameters also specied le called startupini must located directory simetrixexe format le follows startup settings settings combination following startupscriptstartupscript equivalent command line useprevinst equivalent command line inhibitsplash equivalent n command line configlocconfiglocation equivalent c command line featuresfeatures equivalent f command line
conguration settings
overview simetrix common applications needs store number values affect operation program known conguration settings included among locations installed symbol libraries installed model libraries font preferences colour preferences default window positions
default conguration location default simetrix stores conguration settings single le le located simetrixappdatadircongbasesxprj see application data directory location simetrixappdatadir
application data directory simetrix stores number les application data directory directory one locations sysapplicationdatadirsimetrix technologiessimetrixxx full production versions sysapplicationdatadirstistlelementsxxx simetrixsimplis elements xx three digit code representing simetrix version number eg version
sysapplicationdatadir system dened location following table shows typical locations supported windows systems operating system path windows windows cusersusernameappdataroaming username log name currently used typical locations english language versions windows user system administrator may move also names used may different nonenglish versions windows full versions simetrix locate simetrix application data directory typing following command command line show translatelogicalpathsxappdatapath
specifying locations cong settings specify alternative locations conguration settings done c switch command line congloc setting startupini le see simetrix command line parameters details
overview number options affecting aspects simetrix many may viewed adjusted using options dialog box others accessed command line using set unset commands
using options dialog invoked menu file options general following sections explain options available schematic sheet undo level number levels schematic undo see creating schematic recent files controls many recently used les displayed file reopen menu bias annotation precision controls precision schematic voltage current bias annotation markers autosave interval minutes enter value enable schematic autosave simetrix automatically save backup copy schematic interval specied simetrix aborts abnormally perhaps due power failure prompted recover autosaved schematic next start simetrix hierarchy highlighting check disabled box disable highlighting hierarchy deep complex hierarchies net highlighting timeconsuming checking box restrict highlighting current schematic
options property editing enable gui property edits checked allows property text ie labels moved using mouse actions labels editted double clicking see notes property text position checking option placement autorepeat placement schematic parts autorepeat enabled new symbol placed automatically displayed placement speeds placement many instances device wiring enable smart wiring enables smart wiring algorithm see wiring details smart wiring allow route connected option smart wiring algorithm allows select routes pass existing wires already connected source target destinations grid option hide schematics grid initial simulator relevant simetrixsimplis products sets initial simulation mode opening new schematic work simplis check simplis save time switching simplis mode new schematics graphprobedata analysis
options probe update times plots created xed probes updated regular basis controls frequently starts period update period seconds start start delay seconds fixed probe global options default history depth sets default history depth xed probes number curves previous simulations remain simulation set previous results deleted set zero results retained history depth also set individually probe see probe options sheet details curve options antialias antialiasing technique improving visual quality curve curves weight pixels processing time required signicant reason antialiasing may switched auto mode antialiasing enabled curve weight reduce one pixel complex curves many points curve weight thickness displayed curves curves display much quicker value set clearer lose detail set sizes digital axis height sets height axes mm used plot digital traces min grid height grid added graph window existing grids reduced height accommodate new one wont reduced height lower specied setting limit reached vertical space increased allowing window scroll
options temporary data le delete simulation data stored temporary data les data read system memory needed say plot graph however location le various vectors always memory data extracted le rapidly possible latter location data destroyed simulation run gets date le containing data gets deleted time set options necessarily data longer needed long le exists data recovered calling file data load file data load temporary data builds location data options described control data les deleted never temporary les never deleted overwritten subsequent sessions recommended unless ever short simulations simetrix starts temporary les deleted simetrix starts simetrix closes temporary les deleted simetrix shut using simetrix recover earlier simulation runs normally recent kept earlier ones recovered tempdata directory using file data load data longer needed aggressive delete method recommended many long runs orand limited disc space default recent runs kept options data les deleted data needed links data released see explanation option set data les deleted soon become date optimising use disc space expense able recover old data graph placement species new graph sheets created split splits current view create new graph view right hand side new window creates new graph main window one already exist overlay overlays graph sheet existing views axisgrid options delete empty grids checked grids deleted last curve deleted grid histogram style controls curve style used histogram displays stepped displays line width bin similar bar graph smooth joins centre bin straight line display continuous curve
options line widths printingmm axis line width width mm printed axis grid line width width mm printed grid lines minor grid width mm printed minor grid lines curve line width width mm printed curves auto probe colour options auto probe colouring see auto probe colouring disabled auto probe colouring switched text text attached probes coloured text body probes text symbol coloured miscellaneous library diagnostics determines whether messages displayed models found library
options action unknown model parameter species action taken unknown model parameter encountered three options abort simulation error raised simulation aborted issue warning warning message output list le simulation continue normally ignore warning error raised simulation continue normally script options echo messages set script lines displayed message window result great deal output slow whole program operation set debugging scripts dont abort scripts error normally scripts abort error detected check box disable behaviour simulator compatibility pspice compatibility level values default value gives highest level compatibility pspice may introduce changes behaviour compatible older versions simetrix simulators value retains compatibility simetrix versions
earlier refer simulator reference manualcommand referenceoptions full details hspice compatibility level values using pdks process design kit designed hspice set option leave option default setting zero using pdks ic design refer simulator reference manualcommand referenceoptions full details file locations locations les system various les folders needed correct operation simetrix builtin scripts rst location simetrix searches scripts much user interface implemented scripts internal program overridden placing scripts name location allows modication ui changing setting effect restart simetrix
options scripts location script directory directory searched scripts run change setting actually moving script directory changing setting effect restart simetrix start current working directory start start script name script automatically run startup place custom menu key denitions le system symbols location directory location standard symbols located temp data location temporary simulation data les changing setting effect restart simetrix note always local directory must remote network partition user symbols location directory user symbol libraries expected located note place symbol libraries anywhere directory simply location ui functions use default netlist editor text editor used edit netlists models simulation list les default builtin text editor script editor text editor used edit scripts default builtin text editor veriloga editor text editor used edit veriloga les default builtin text editor veriloghdl editor text editor used edit veriloghdl les default builtin text editor sensitivity report style sheet css style sheet le denes style sensitivity analysis reports worstcase report style sheet css style sheet le denes style worstcase analysis reports monte carlo log style sheet css style sheet le denes style monte carlo logs file extensions denes extensions used various les used simetrix setting control le extensions listed editors various le types relevant action taken le type dragged dropped simetrix environment many simetrix le types use letter extensions beginning sx help prevent clashes applications setting supported extensions separated semicolon rst list default example default schematic extension sxsch save schematic without giving extension automatically given extension sxsch schematic files extensions used schematic les data files extensions used simulation data les text les supported extensions text les symbol files extension used binary schematic symbol les used drag drop system detect symbol library les dropped command shell
options logic def files files used logic denitions digital simulators arbitrary logic block extension omitted model file parameter used scripts default extension scripts called without extension device models spice model les used drag drop system detect model le types note drag drop system detect model les extensions list usually necessary specify model le types netlist files files used simulation netlists schematic components extensions used schematic component les veriloga files veriloga source les veriloghdl files veriloghdl source les text editors denes colour syntax highlighting various text editors customisation denes colours various ui elements note schematic elements dened using schematic styles elements divided groups command shell command shell text background colours command shell input command line top command shell output message window file view colour elements le viewer part selector colour elements part selector graph colour elements graphs includes text graphic objects note text items based graph text colour object changing object also change colour objects caption colour free text colour text box text colour legend box text colour curve marker text colour cursor dimension text curves curve colours chosen using sequence number rst curve sheet uses sequence second sequence etc new curves use rst unused sequence number colours associated sequence number dened
using set unset commands options name many also value set using set command cleared unset option cleared restored default value complete listing available options possible values given note option settings persistent means values stored either ini le system registry see conguration settings automatically restored start subsequent simetrix session
options list options upper lower case letters used option names following listing clarity option names values fact case sensitive many options described supported options dialog box case noted accordingly unsupported options options following list marked unsupported means may withdrawn future functionality changed see also toolbar buttons file extensions text editor colour options name type description user interface support extensions boolean schematic symbols series semicustom arrays enabled set actiononmissingmodel string defaultautoassociate action performed attempting place model library model associated set autoassociate attempt autoassociate simulating model allowtempdatadrives string list drives separated commas allowed used simulation data without triggering warning message drive specied sufx eg warning message issued drive reported connected network used simulation data storage use setting override drives reported network drives fact connected locally alphablendratio numeric default value controls opacity plotted curves totally transparent therefore invisible fully opaque annominsufx numeric default minimum sufx used automatic generation schematic part references
options name type description user interface support autostartwire boolean defaultfalse effective autowireenabled false selects mode whereby wire started cursor brought close pin wire termination mode automatically autowireenabled true options dialog autowireenabled boolean defaulttrue smart wiring true options dialog awallowroutethruconnected boolean defaulttrue controls whether smart wire algorithm allowed route wires existing wires connect destination target options dialog axisprintwidth numeric default
width printed axis mm see also curveprintwidth gridprintwidth options dialog autosaveinterval numeric default meaning disabled interval minutes session automatically saved order recover unexpected program exit options dialog biasannoprecision numeric default precision values displayed schematic dc bias annotation options dialog biscriptdir text rst location simetrix searches scripts see file locations section options dialog info options dialog breakwireoperations text defaultallops see breaking wires set placeonly placing new part lead wire broken editing operations move copy leave wire untouched breakwireparts text defaultallparts see breaking wires set twotermonly two terminal parts break wires buildassociations text defaultask see auto conguration options buildmodellibs text defaultifempty see auto conguration options
options name type description user interface support buildpreferencesettings text defaultaskmigrate see auto conguration options buildsymbollibs text defaultifempty see auto conguration options cachepathsymbols unsupported boolean defaultfalse true simetrix cache symbolic paths componentextension text defaultsxcmp file extension schematic component les options dialog cursordisplay text default graph controls initial graph cursor readout display graph display graph statusbar display status bar display graph status bar options dialog curvenoantialias boolean default false false curves plotted using antialiassing improves visible quality curve however antialias processing curves one pixel width slow consequence curves medium high complexity forced single pixel antialiasing enabled setting option true degrade plotted quality allow curves pixels plotted levels complexity curveprintwidth numeric default
mm width printed graph curves mm see also gridprintwidth options dialog curveweight numeric default sets line width pixels graph curves note although widths greater clearer normally take considerably longer draw however depend type adapter card display driver using options dialog dataextension text defaultsxdatdat default le extension data les options dialog
options name type description user interface support datagroupdelete text default onstart determines temporary simulation data deleted possible values never onstart onclose ondelete see graphprobedata analysis details options dialog datahistorydepth numeric default controls number previous results stored curve created xed probe defaultlib text defaultsharepathsymbollibsdefaultsxslb name location default symbol library defaultpersistence default sets number curves kept graph xed probes means curves kept means kept time options dialog devcongfile text defaultsharepathdevicecongcfg name location device conguration le see simulator reference manual details digaxisheight numeric default
mm height digital axis mm screens typically pixelsinch options dialog disablecurvedatacompression bool defaultfalse set true disable curve point compression generally speeds graph drawing introduce minor artefacts displaysimprogressmessage boolean defaultfalse true message displayed command shell indicating start end simulation echoon boolean set commands echoed command shell message window used primarily script debugging options dialog enablefilechangewatcher bool defaulttrue gui monitors changes les prompts user reload changes detected set false disable enablefilechangewatcher fileview bool defaulttrue le viewer monitors changes les updates changes detected set false disable behaviour
options name type description user interface support enablelweditmenu bool defaultfalse enables schematic popup menu edit mos lengthwidth edits length width multiplier mosfets used ic design exportrawformat text default spice possible values spice spectre controls format raw output see exporting spice raw files forceglobalhash boolean defaultfalse simulator node name found subcircuit starts accesses top level node name without eg vcc subcircuit connects vcc top level option set stripped vcc subcircuit connects vcc top level graphextension text defaultsxgph file extension used graph les options dialog graphlegendmaximum heightproportion real default
maximum height graph legend window proportion graph window height graphplacement string defaultsplit selects new graph windows created one three values split splits current layout places graph right side newwindow creates new main window graphs one already exist overlay overlays graph windows top existing windows options dialog gridprintwidth numeric default
mm width printed graph grid lines mm see also curveprintwidth options dialog grouppersistence numeric default sets number groups kept deleted see plotting results previous simulation
options name type description user interface support guieditpropertyenabled boolean defaultfalse set allows visible properties schematic edited using gui actions options dialog hideschematicgrid boolean set schematic grid suppressed options dialog histoadvancedstats bool defaultfalse display advanced statistics histogram plots performance analysis dialog highlightincrement numeric default highlighted graph curves thicker normal curves amount specied option histocurvestyle text defaultstepped sets histogram curve style options dialog hspicecompatibility numeric default value global default value simulator option options name see options dialog miscellaneous options options dialog initschematicsimulator text defaultsimetrix simulator mode new schematic set simplis schematics start simplis mode otherwise start simetrix mode options dialog interporder numeric default sets interpolation order fft calculation used distortion measurements interppts numeric default sets number interpolated points fft calculation used distortion measurements invertcursors boolean defaultfalse true schematic graph mouse cursors modied suitable use black background librarydiagnostics text default full possible values partial none full affects progress information displayed model library searching options dialog
options name type description user interface support licensedisablefast checkout boolean defaultfalse affects network licenses set license checkout process may take longer delaying time takes simetrix start logicdefextension text defaultldf file extension used logic denition les options dialog maxhighlightcolours numeric default maximum number different colours used schematic highlighting measureprecision numeric default precision measurements graph window maxvectorbuffersize numeric default see simulator reference manual full explanation mingridheight numeric minimum allowed height graph grid options dialog mingridwidth numeric minimum allowed width graph grid minorgridprintwidth numeric default
print width mm graphs minor grid options dialog modelextension text defaultlblibmodcir file extensions used model les options dialog mrusize numeric default number items file reopen menu options dialog newmodellifetime numeric default number days user installed models remain displayed recently added models model library browser category noeditpinnameswarning unsupported boolean defaultfalse true warning given using edit pin names button associate models dialog box inhibited
options name type description user interface support nohierarchicalhighlighting boolean defaultfalse set hierarchical schematic highlighting disabled highlight part hierarchical schematic schematic highlighted propagation parent child schematic nokeys boolean default key denitions disabled note take affect next session simetrix options dialog nomenu boolean default menu denitions disabled menu bar appear take affect next session simetrix options dialog nonhighlightalpha numeric default highlighting individual divisions grouped curve divisions highlighted displayed lower alpha value highlighted divisions make highlighted divisions stand clearly option denes akpha value divisions highlighted nostoponerror boolean disabled scripts multicommand lines ie several commands line separated aborted individual command reports error options dialog nostoponunknownparam text species action taken event unknown parameter encountered model statement choices true action taken simulation continues normally false error raised simulation abort warn warning displayed simulation continue overridden options setting name refer simulator reference manualcommand referenceoptions details options dialog omitasciirevision unsupported boolean defaultfalse true revision value written ascii schematic les backward compatibility
options name type description user interface support partselshowsimplismodels boolean defaultfalse true model library parts show directly part selector simplis mode partselshowsimetrixmodels boolean defaulttrue true model library parts show directly part selector simetrix mode passunrestemplate unsupported boolean defaultfalse true unresolved template values netlists passed literally default behaviour output precision numeric default precision numeric values displayed using show command printoptions text options set print dialog print dialog printwirewidth numeric default width pixels schematic wires printed probeflushonupdate boolean defaultfalse usual need set option simulation data buffered performance reasons buffering interfere incremental updates needed xed probes usually simetrix deals problem automatically guaranteed work cases situations xed probes graph statements may incrementally update correctly setting option may rectify probestartdelay numeric default delay start simulation run xed probe graphs rst opened options dialog probeupdateperiod numeric default
seconds update period xed probe graphs options dialog pspicecompatibility numeric default value global default value simulator option options name see options dialog miscellaneous options options dialog rebuildcong boolean defaulttrue see auto conguration options
options name type description user interface support rendernumthreads numeric defaultnumber installed processor cores number threads used draw multidivision curves repeatplace text default toolbar controls schematic placement repeated possible values always toolbar toolbar symbols never options dialog schematicreadonly boolean defaultfalse set schematics opened read mode schemdoubleclickscript text defaultonschemdoubleclick ne script called double click action detected schematic active schematiceditmode nosnap scriptdir text defaultsxdocspathscripts sxdocspath documentssimetrix directory used search scripts symbol les found current directory changes option take effect next session options dialog scriptextension text defaultsxscr file extension used scripts options dialog shellcommandprocessor text string used launch command processor command supplied shell script command see shell command script reference manual details showwelcomepage boolean defaulttrue set welcome page displayed rst start welcome page simdatagroupdelete text defaultnever datagroupdelete simulator run independently ie called front end simplispath text defaultexepathsimplisexe path simplis binary snapshotextension text defaultsxsnp file extension used snapshot les
options name type description user interface support startupdir text current directory set start session options dialog startupfile text default startupsxscr script automatically run start session options dialog statusupdateperiod numeric default
seconds minimum delay seconds updates simulator status window run symbolextension text defaultsxslbslb file extension used symbol les symbolsdir text defaultsharepathsymbollibs path directory system symbol libraries located option dialog systemstyle text defaultlightstyleqss sets style sheet denes user interface style may set darkstyleqss custom generated style sheet placed supportui file options interface colour tempdatadir text default temppath simetrixtempdata see default conguration location denition temppath directory temporary simulation data les placed options dialog textextension text file extension used text les totalvectorbuffersize numeric see simulator reference manual full explanation titleblockdefaultauthor text default authour title blocks title block terface titleblockdefaultcompany text default company name title blocks title block terface titleblockdefaultlogopath text path default logo title blocks bitmap le jpg png bmp gif title block terface toolbariconsize numeric default size toolbar icons pixels takes effect restart transcripterrors boolean defaultfalse true incorrectly typed commands entered history box drop list command line shows previously entered commands
options name type description user interface support undobuffersize numeric default number levels schematic undo see creating schematic options dialog updateclosedschematics boolean allows simetrix write closed schematic required see closed schematics updatecurvesnodeleteold boolean defaultfalse true old curves deleted using update curves feature plot update curve settings updatecurvesnofixselected boolean defaultfalse true update includes selected curves using update curves feature plot update curve settings uselocalhelp boolean set help system use locally stored content note local content must installed work menu help select help source automatically set option install local content needed help select help source userscriptdir text alternative location user scripts see script reference manualscript languageexecuting scripts information usersymbolsdir text path directory users symbol libraries stored options dialog usersystemsymboldir text defaultsxappdatapathsyssymbols location symbol libraries containing edits system symbols videobuffertotalsize numeric default mbytes total memory allowed used video buffers bitmap image schematic graph window buffered memory allows fast redraw tabs switched window exposed without buffering windows need redrawn case graphs time consuming buffers consume memory setting species much memory may allowed used buffers buffers together one buffers needed exceed memory allowance windows released meaning redraw needed window needs displayed
options name type description user interface support vldatapath text defaultsxappdatapathveriloghdl location veriloghdl les currently cache data stored vlmodulecachesize numeric default maximum number cache entries veriloghdl module info cache warnsubcontrols boolean defaultfalse true warning issued unexpected simulator commands found subcircuits text editor colour options following options set colours text editor elements set customisation sheet options dialog see menu file options general option name editor element asciifileeditordoublequotestringcolour ascii file editor double quoted string asciifileeditorsinglequotestringcolour ascii file editor single quoted string asciifileeditorsubtypescolour ascii file editor sub types asciifileeditortypescolour ascii file editor types asciifileeditorvaluescolour ascii file editor values logicdenitioneditorcommentcolour logic denition comment colour logicdenitioneditorkeywordcolour logic denition keyword colour netlisteditorcommentcolour netlist editor comment colour netlisteditordoublequotestringcolour netlist editor double quoted string colour netlisteditorinstancecolour netlist editor instance colour netlisteditorkeywordcolour netlist editor keyword colour netlisteditorsinglequotestringcolour netlist editor single quoted string colour netlisteditorsubcircuitcolour netlist editor subcircuit colour subckt ends scripteditorbiscriptcolour script editor builtin script colour scripteditorcommandcolour script editor command colour scripteditorcommentcolour script editor comment colour
options option name editor element scripteditordoublequotedstringcolour script editor double quoted string colour scripteditorfunctioncolour script editor function colour scripteditorkeywordcolour script editor keyword colour scripteditorstringcolour script editor string colour texteditorbackgroundcolour plain text editor background colour texteditorfontcolour plain text editor text colour texteditorhighlightcolour plain text editor highlighted colour verilogaeditoranalogoperatorcolour veriloga editor analog operator colour verilogaeditordoublequotecolour veriloga editor string colour verilogaeditorintegercolour veriloga editor integer colour verilogaeditorkeywordcolour veriloga editor keyword colour verilogaeditormultilinecommentcolour veriloga editor multiline comment colour verilogaeditorpreprocessorcolour veriloga editor preprocessor colour verilogaeditorrealcolour veriloga editor real value colour verilogaeditorregularfunctionscolour veriloga editor function colour verilogaeditorsinglelinecommentcolour veriloga editor singe line comment colour verilogaeditorsystemfunctionscolour veriloga editor system function colour veriloghdleditordoublequotestringcolour veriloghdl editor string colour veriloghdleditorkeywordcolour veriloghdl editor keyword colour veriloghdleditormultiplelinecommentcolour veriloghdl editor multiline comment colour veriloghdleditorsinglelinecommentcolour veriloghdl editor single line comment colour colour options following options set colours various elements set customisation sheet options dialog see menu file options general option name editor element shellinputactivehighlightcolour command shell input active highlight shellinputbackgroundcolour command shell input background shellinputhighlightedtextcolour command shell input highlighted text shellinputinactivehighlightcolour command shell input inactive highlight shellinputtextcolour command shell input input text
options option name editor element shelloutputactivehighlightcolour command shell output active highlight shelloutputbackgroundcolour command shell output background shelloutputhighlightedtextcolour command shell output highlighted text shelloutputinactivehighlightcolour command shell output inactive highlight shelloutputtextcolour command shell output input text partselectorbackgroundcolour part selector background colour partselectortextcolour part selector text colour graphcolourtext graph text colour default graph text colour graphcolourselectedtext graph selected text colour graphcolourcaption graph caption colour graphcolourfreetext graph free text colour graphcolourtextboxtext graph text box text colour graphcolourtextboxbg graph text box background graphcolourlegendbox graph legend box text colour graphcolourcurvemarkertext graph curve marker text colour graphcolourcurvemarker graph curve marker line colour graphcolourrectangle graph zoom box colour graphcolourcrosshair graph cursor colour graphcolourmajorgrid graph major grid graphcolourminorgrid graph minor grid graphcolourbackground graph background graphcolouraxis graph axis graphcolourselectedaxis graph selected axis graphcolourhighlightedcurve graph highlighted curve graphcolourcursordimension graph cursor dimension graphcolourcursordimensiontext graph cursor dimension text graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour
options option name editor element graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour graphcolourcurve curves curve colour file extension following options set default le extensions see options dialog details option name default value description asciifileeditorextension sxschsxslbsxcmp ascii schematic symbol les componentextension sxcmp schematic component les dataextension sxdatdat data les graphextension sxgph graph binary les logicdefextension ldf arbitrary block logic denition les modelextension lblibmodcir spice model les netlistextension netcirdeckout netlist les schematicextension sxschsch schematic les scriptextension sxscrtxt scripts snapshotextension sxsnp simulator snapshot les symbolextension lib binary symbol les textextension txtnetcirmodldfsxscrliblbcat text les verilogaextension vavams veriloga les veriloghdlextension v veriloghdl les
startup auto conguration toolbar buttons buttons displayed standard toolbars dened option variable one toolbar value option consists series semicolon delimited button names complete list button names full information concerning user dened toolbars found script reference manualapplicationscreating modifying toolbars toolbar option variable names listed option name description componentbuttons schematic parts simetrix mode simpliscomponentbuttons schematic parts simplis mode schematicmainbuttons schematic main toolbar schematicfilebuttons schematic le operations toolbar schematicprobebuttons schematic probe toolbar symbolmainbuttons symbol editor toolbar symbolfilebuttons symbol editor le operations toolbar graphmainbuttons graph window toolbar
startup auto conguration
overview simetrix started rst time automatically sets conguration default values details process provided following sections number settings made control process also explained
set phase following set installs system supplied symbol libraries installs system supplied model libraries migrates conguration earlier installed versions available associates le extensions operating system sets default window positions according system screen resolution preference settings migrated dene default values various fonts preference settings migrated
auto conguration options conguration settings stored le called basesxprj see conguration settings details le located auto conguration writes values le also read values le decide proceed usual sequence events installing setting simetrix le actually exist auto conguration occurs case auto conguration uses default values settings tries read
startup auto conguration however system administrator may wish customise way simetrix congured started user case may manually create basesxprj le alternatively common skeleton simetrix use create le basesxprj le desired completely populated required settings congured disable auto conguration altogether alternatively inhibit auto conguration operations allowing others proceed normally settings control auto conguration must placed options section basesxprj le settings shown following table option name possible values default bold description rebuildcong true false auto conguration proceeds set true auto conguration automatically sets false completion buildpreferencesettings askmigrate true false build user preference settings askmigrate ask user whether wants migrate settings earlier version available true build default values false nothing buildassociations ask true false build le associations ask ask user wants le association performed true le associations performed unconditionally false le associations performed buildmodellibs ifempty merge install system model libraries ifempty install libraries libraries currently installed merge merge system libraries currently installed libraries install system libraries buildsymbollibs ifempty merge install system symbol libraries ifempty install libraries libraries currently installed merge merge system libraries currently installed libraries install system libraries settings table placed le options section form options name value example options buildsymbollibsmerge
colours fonts skeleton conguration file skeleton conguration le exists copied basesxprj basesxprj exist skeleton conguration le must called skeletonsxprj located directory executable le simetrixexe
installation customising isnt possible customise windows install program however simetrix installer doesnt much simply uncompress les chosen location therefore possible create simetrix install process using fresh install tree source image add les including skeletonsxprj le described
colours fonts
colours colours various objects except schematics may denes using customisation sheet options dialog box see customisation colours schematic objects controlled using styles refer schematic styles
fonts fonts various elements simetrix except schematics may selected using font selection dialog box fonts schematic objects controlled using styles refer schematic styles open font selection dialog box select menu file options font menu item select item whose font wish change press edit select new font items available font object name font used ascii file editor text editor used direct editing schematic symbol les associate model text model display window associate model dialog box command line command line top command shell f window schematic f window used simulator commands graph graph windows graph caption graph caption objects placed using annotate add caption graph free text graph free text object placed using annotate add free text graph text box graph text box object placed using annotate add text box legend box graph legend box object placed using annotate add legend box message window bottom part command shell netlist editor text editor used editing netlists model les script editor text editor used editing scripts text editor text editor used editing general text les veriloga editor text editor used editing veriloga source les veriloghdl editor text editor used editing veriloghdl source les
startup script font object name font used view file window window opened viewfile command
startup script startup script executed automatically time simetrix launched default called startupsxscr name changed options dialog box file options general startup le may reside script directory dened scriptdir option variable user script directory dened userscriptdir option variable common use startup script dene custom menus keys commands placed edit startup script select file options edit startup script menu item
international character sets simetrix schematic editor waveform viewer text editors support international character sets means language displayed tools section describes issues regard international character support
character encoding choice character encoding scheme affects international character sets stored displayed simplest encoding scheme ascii supports total printable characters adequate displaying anything english text older versions simetrix used code page based encoding required language selection made system level example japanese user would select japanese code page would able display japanese characters schematics like worked reasonably well schematic drawn japanese user would display correctly system setup user whose native language japanese code page based encoding superseded unicode character encoding scheme unicode scheme supports character sets worldwide require setting systemlevel code pages number variants unicode distinguished method encoding approximately million characters byte sequences far widely used utf utf uses bit character encoding compatible ascii ascii subset utf text le containing pure ascii characters also valid utf le
simetrix character encoding simetrix version later uses utf schematics graphs text editors things means enter text language schematic sure displayed correctly system without needing code page setup
installation licensing
compatibility older versions noted previously older versions simetrix version
earlier used code page based encoding therefore compatible utf however developed level compatibility allow interoperability old new versions note following schematic graph les created older versions render international character sets correctly provided system setup correct code page example schematic displayed correctly version
display correctly version later provided opened system system code page set version
later utf support allowing schematics created version display correctly version
must update recent version use feature
text editors simetrix text editors detect nonutf characters le attempt interpret correctly default text editors assume le encoded using local codepage change using setdefaultencoding command refer script reference manual information
installation licensing full installation licensing instructions may found httpwwwsimetrixcoukappusershtm
install cd install cd contains installation les also contains useful material model documentation script source longer supply physical cd full cd content may accessed web site web browseable version well downloadable iso le allowing burn cd cd content may found web site navigating httpwwwsimetrixcoukappproductinstallationhtm able nd download links page version interest aware username password required access download links pages please contact supportsimetrixcouk assistance copyright simetrix technologies ltd copyright simplis technologies inc simetrixsimplis
users manual
